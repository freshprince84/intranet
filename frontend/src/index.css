@tailwind base;
@tailwind components;
@tailwind utilities;

/* Einheitliche Abstände zwischen Topbar und Hauptcontainern */
.min-h-screen > div.container,
.min-h-screen > div.max-w-7xl, 
.min-h-screen > main.max-w-7xl {
  padding-top: 1rem !important; /* Reduziert von 1.5rem auf 1rem */
}

/* Text unter den Footer-Icons für sehr kleine Bildschirme ausblenden */
@media (max-width: 479px) {
  .footer-icon-text {
    display: none;
  }
}

/* Medienabfrage für mobile Geräte - noch kleineres Padding */
@media (max-width: 640px) {
  .min-h-screen > div.container,
  .min-h-screen > div.max-w-7xl, 
  .min-h-screen > main.max-w-7xl {
    padding-top: 0.5rem !important; /* Noch kleiner für mobile Geräte */
  }
}

/* Stelle sicher, dass alle obersten Boxen konsistente Abstände haben */
.min-h-screen .bg-white.rounded-lg.border.border-gray-300:first-of-type,
.min-h-screen .bg-white.dark\:bg-gray-800.rounded-lg.border:first-of-type,
.container .bg-white.rounded-lg.border:first-of-type,
.max-w-7xl .bg-white.rounded-lg.border:first-of-type {
  margin-top: 0 !important;
}

/* Konsistente Abstände zwischen Boxen auf derselben Seite */
.bg-white.rounded-lg.border.border-gray-300 + .bg-white.rounded-lg.border.border-gray-300,
.bg-white.dark\:bg-gray-800.rounded-lg.border + .bg-white.rounded-lg.border,
div[class*="bg-white"][class*="rounded-lg"][class*="border"] + div[class*="bg-white"][class*="rounded-lg"][class*="border"] {
  margin-top: 1.5rem !important; /* Einheitlicher Abstand zwischen Boxen */
}

/* Entferne zusätzliches Padding bei p-4 Container auf oberster Ebene */
.min-h-screen > div.p-4 {
  padding-top: 1rem !important;
  padding-bottom: 1rem !important;
}

/* Container für Tablet und Desktop - entfernt die äußere Scrollbar */
@media (min-width: 768px) {
  .fixed-height-container {
    position: fixed;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }
  
  .fixed-height-container > div {
    height: calc(100vh - 4rem);
    overflow: hidden;
  }
  
  /* Ermöglicht Scrollen innerhalb der Boxen */
  .box-content-scrollable {
    max-height: calc(100% - 3rem); /* Abzüglich Header-Höhe der Box */
    overflow-y: auto;
  }
  
  /* Ermöglicht Scrollen auf der Hauptseite, wenn zu viele Boxen vorhanden sind */
  main.overflow-y-auto {
    overflow-y: auto;
    height: 100%;
    padding-bottom: 2rem; /* Zusätzlicher Abstand am Ende der Seite */
  }
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Mobile-Anpassungen für alle Box-Komponenten */

/* NEUE CSS-REGELN FÜR MOBILE TABELLENOPTIMIERUNG */

/* Grundlegende Tabellenoptimierung für mobile Geräte */
@media (max-width: 640px) {
  /* Worktracker Seite - Box-Reihenfolge umkehren (nur mobile) */
  /* Container für Worktracker-Seite */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 {
    position: relative !important;
    display: flex !important;
    flex-direction: column !important;
    min-height: calc(100vh - 64px) !important; /* Höhe abzüglich Header */
    padding-bottom: 0 !important; /* Kein Padding unten, da die Zeit-Box fixiert ist */
  }
  
  /* Selektor für die Tasks-Box (hat p-6 und w-full Klassen) */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6.w-full {
    order: 1 !important;
    margin-bottom: 170px !important; /* Erhöht von 150px auf 170px - mehr Platz für die fixierte Zeiterfassung-Box und den Footer */
  }
  
  /* Ausnahme für Profil und Benutzerverwaltung - Formularfelder behalten Desktop-Design */
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 input,
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 select,
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 textarea,
  div[class*="ProfileData"] input,
  div[class*="ProfileData"] select,
  div[class*="ProfileData"] textarea {
    font-size: 0.875rem !important;
    height: 2.25rem !important;
    padding: 0.5rem 0.75rem !important;
  }
  
  /* Zeiterfassungs-Box (WorktimeTracker/WorktimeList) identifizieren und fixieren */
  /* Selektor für die Zeiterfassungs-Box (MB-8 Klasse) */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 {
    order: 2 !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9 !important;
    background-color: white !important;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
    margin-top: auto !important;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important; /* Reduziert von 0.5rem auf 0 - kein Abstand zum Footer */
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
    width: 100% !important;
    max-height: 150px !important; /* Erhöht von 130px auf 150px, damit alles sichtbar ist */
    overflow-y: auto !important;
  }
  
  /* DIREKTER SELEKTOR FÜR DIE ZEITERFASSUNGSBOX */
  /* Diese Regel zielt direkt auf alle p-6 Zeiterfassungsboxen ab, unabhängig von ihrer Verschachtelung */
  div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6,
  div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6.sm\:mb-6,
  div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6.mb-6 {
    padding-bottom: 0.4rem !important;
  }
  
  /* WorktimeList/WorktimeTracker speziell stylen */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .bg-white.rounded-lg.border {
    border-bottom: none !important;
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
    max-height: 100% !important;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important; /* Kein Padding unten in der Box selbst */
  }

  /* HOCHSPEZIFISCHER Selektor für die Zeiterfassungsbox mit p-6 Klasse im mobilen Modus */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 > .bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6,
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 > .bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6.sm\:mb-6 {
    padding-bottom: 0.4rem !important;
  }

  /* Überschreibe die p-6 Klasse für die Zeiterfassungs-Box */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .bg-white.rounded-lg.border.p-6 {
    padding: 0.75rem 0.5rem 0.4rem 0.5rem !important;
  }

  /* Entferne den mb-6 Abstand bei der Zeiterfassungs-Box in der mobilen Ansicht */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 > .bg-white.rounded-lg.border.mb-6 {
    margin-bottom: 0 !important;
  }

  /* Entferne Abstand unter der Infobox in der aktiven Zeiterfassung */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .bg-green-50.rounded-md {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Reduziere das innere Padding der Zeiterfassungs-Box */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .bg-white.rounded-lg.border {
    padding: 0.75rem 0.5rem 0 0.5rem !important;
  }

  /* Reduziere den Abstand zwischen Überschrift und Toggle/Inhalt */
  .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .flex.items-center.justify-between.mb-4 {
    margin-bottom: 0.25rem !important;
  }

  /* VERBESSERTE Abstände für Box-Titel und Such-/Filterbereich */
  div[class*="border"] > div.flex.items-center.mb-4.justify-between,
  div[class*="bg-white"] > div.flex.items-center.mb-4.justify-between,
  div.p-4.border-b,
  div.p-4 > div.flex.items-center.justify-between.mb-4 {
    gap: 0.5rem !important; /* Erhöht von 0.25rem auf 0.5rem */
    margin-bottom: 0.5rem !important;
    padding: 0 0.75rem !important; /* Erhöht von 0.25rem auf 0.75rem für mehr Abstand zu den Rändern */
  }
  
  /* Kleinere Boxentitel für ALLE Komponenten */
  h2.text-xl,
  h2.text-lg,
  .text-xl,
  .text-lg {
    font-size: 1rem !important;
    line-height: 1.25rem !important;
    white-space: nowrap !important;
  }
  
  /* Kleinere Icons neben den Titeln - ALLGEMEINER SELEKTOR */
  .flex.items-center svg.h-6,
  .flex.items-center svg.w-6,
  div[class*="flex"] svg[class*="h-6"],
  div[class*="flex"] svg[class*="w-6"] {
    height: 1.1rem !important;
    width: 1.1rem !important;
    margin-right: 0.25rem !important;
  }
  
  /* Kompaktere Suchleiste - VERBESSERTE SELEKTOREN */
  input[type="text"][placeholder*="Such"],
  input[placeholder*="Such"],
  input[type="text"].w-full,
  input[type="text"].border {
    font-size: 0.75rem !important;
    padding: 0.25rem 0.5rem !important;
    height: 1.9rem !important;
  }
  
  /* Kompaktere Filter- und Spaltenauswahl-Buttons - ALLGEMEINER SELEKTOR */
  button.rounded-md.border,
  button.p-2 {
    padding: 0.25rem !important;
  }
  
  /* Verkleinerte Icons in den Filterbuttons */
  button.rounded-md svg,
  button.p-2 svg {
    height: 0.9rem !important;
    width: 0.9rem !important;
  }

  /* VERBESSERTE Abstände in der rechten Gruppe (Suchfeld, Filter, Spalten) */
  .flex.space-x-2.items-center,
  div[class*="flex"][class*="space-x"] {
    gap: 0.4rem !important; /* Erhöht von 0.25rem auf 0.4rem */
    margin-left: auto !important;
    --tw-space-x-reverse: 0 !important;
    margin-right: calc(0.4rem * var(--tw-space-x-reverse)) !important; /* Erhöht von 0.25rem auf 0.4rem */
    margin-left: calc(0.4rem * calc(1 - var(--tw-space-x-reverse))) !important; /* Erhöht von 0.25rem auf 0.4rem */
  }

  /* VERBESSERTE Abstände für den "Neuer Request/Task"-Button */
  div.flex.items-center:first-child button {
    margin-left: 0.25rem !important; /* Erhöht von -0.25rem auf 0.25rem für mehr Abstand zum linken Rand */
  }

  /* Zentrieren des Titels im verfügbaren Platz */
  div > div.flex.items-center:nth-child(2) {
    flex-shrink: 1 !important;
    min-width: 0 !important;
    justify-content: center !important;
  }

  /* Spezifische Anpassungen für WorktimeList und PayrollComponent */
  .bg-white.rounded-lg.border h2,
  .bg-white.rounded-lg.border.border-gray-300 h2,
  div.p-4.border-b h2,
  .p-4 h2,
  .p-6 h2,
  h2.text-xl.font-semibold,
  h2.text-lg.font-semibold,
  h2.text-lg.font-medium,
  h3.text-lg.font-medium {
    font-size: 1rem !important;
    line-height: 1.25rem !important;
    white-space: nowrap !important;
  }
  
  /* Zusätzliche Selektoren für Icons in allen Komponenten */
  svg.h-6,
  svg.w-6,
  svg.h-5,
  svg.w-5 {
    height: 1.1rem !important;
    width: 1.1rem !important;
  }
  
  /* Datumseingabefelder kompakter machen */
  input[type="date"] {
    font-size: 0.75rem !important;
    padding: 0.25rem 0.5rem !important;
    height: 1.9rem !important;
  }
  
  /* Kompaktere Abstände in den Flex-Container-Headern */
  .p-4.border-b .flex.items-center.justify-between,
  .p-4 .flex.items-center.justify-between,
  .p-6 .flex.items-center.justify-between {
    margin-bottom: 0.5rem !important;
    gap: 0.25rem !important;
  }

  /* Tabellenlayout fixieren für bessere Spaltenbreiten-Kontrolle */
  table {
    table-layout: fixed;
    width: 100%;
  }
  
  /* Verkleinerte Zellabstände */
  table th, 
  table td {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
  
  /* Bessere Abstandsbalance - mehr Abstand links, weniger rechts */
  table th:first-child,
  table td:first-child {
    padding-left: 0.75rem !important;
  }
  
  table th:last-child,
  table td:last-child {
    padding-right: 0.4rem !important;
  }
  
  /* Kleinere Schrift in Tabellen mit Zeilenumbruch für Spaltentitel */
  table th {
    font-size: 0.65rem !important;
    line-height: 1.1 !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    height: auto !important;
    vertical-align: bottom !important;
  }

  /* Entferne überflüssige Leerzeichen im Tabellenheader */
  table th .flex.items-center {
    gap: 0.1rem !important;
  }
  
  table td {
    font-size: 0.75rem !important;
  }
  
  /* Optimierte Spaltenbreiten für mobile Ansicht */
  /* Die Tabellen Requests, Tasks, UserWorktime und PayrollComponent */
  .requests-table th, 
  .tasks-table th,
  .worktime-table th,
  .payroll-table th {
    white-space: normal !important;
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  /* Titelspalte fixiert auf ca. 20% mit Textumbruch */
  .requests-table th:first-child,
  .tasks-table th:first-child,
  .requests-table td:first-child,
  .tasks-table td:first-child {
    width: 20% !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Text in Titelspalte umbrechen */
  .requests-table td:first-child .text-sm,
  .tasks-table td:first-child .text-sm,
  .requests-table td:first-child,
  .tasks-table td:last-child {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Status-Spalte und Aktionen-Spalten schmaler machen */
  .requests-table th:has(.status-col),
  .tasks-table th:has(.status-col),
  .requests-table td:has(.status-col),
  .tasks-table td:has(.status-col) {
    width: 60px !important;
  }
  
  .requests-table th:last-child,
  .tasks-table th:last-child,
  .worktime-table th:last-child,
  .payroll-table th:last-child,
  .requests-table td:last-child,
  .tasks-table td:last-child,
  .worktime-table td:last-child,
  .payroll-table td:last-child {
    width: 70px !important;
  }
  
  /* Button-Gruppen und Aktionen kompakter machen */
  .action-buttons {
    display: flex;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
  }

  /* Status-Buttons in einer Zeile - allgemeine Regel für alle Tabellen */
  .status-buttons {
    display: flex;
    flex-direction: row !important;
    gap: 0.25rem !important;
    margin-bottom: 0.25rem !important;
    align-self: flex-start !important;
    justify-content: flex-start !important; /* Für allgemeine Fälle immer links ausgerichtet */
    position: relative !important;
    min-height: 28px !important; /* Mindesthöhe sicherstellen */
  }
  
  /* Spezielle Ausrichtung für Requests-Tabelle */
  .requests-table .status-buttons {
    width: auto !important; /* Requests haben variable Breite */
    justify-content: flex-start !important; /* Links ausgerichtet */
  }
  
  /* Spezielles Styling für Tasks-Tabelle */
  .tasks-table .status-buttons {
    width: 61px !important; /* Feste Breite für 2 Buttons */
    margin-left: -5px !important; /* Verschiebung nach links */
    justify-content: space-between !important; /* Verteilt auf die Breite */
  }
  
  /* Allgemeine Positionierung für Buttons im Container */
  .status-buttons button {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Position einzelner Status-Buttons nur in Tasks-Tabelle */
  .tasks-table .status-buttons button:only-child {
    position: absolute !important;
  }

  /* Position für linken Button in Tasks, wenn nur einer da ist */
  .tasks-table .status-buttons button:only-child[title*="Zurück"] {
    left: -5px !important;
  }

  /* Position für rechten Button in Tasks, wenn nur einer da ist */
  .tasks-table .status-buttons button:only-child:not([title*="Zurück"]) {
    right: 5px !important;
  }

  /* Edit-Button ausrichten - allgemeine Regel */
  .edit-button {
    align-self: flex-start !important;
    margin-left: 0 !important;
  }
  
  /* Copy-Button ausrichten - allgemeine Regel */
  .copy-button {
    align-self: flex-start !important;
    margin-left: 0 !important;
  }

  /* Spezielle Ausrichtung für Edit-Button nur in Tasks-Tabelle */
  .tasks-table .edit-button {
    margin-left: 18px !important; /* Zentriert in Bezug auf Status-Buttons */
  }

  /* Spezielle Ausrichtung für Copy-Button in Tasks-Tabelle */
  .tasks-table .copy-button {
    margin-left: 18px !important; /* Gleiche Ausrichtung wie Edit-Button */
  }

  /* Spezielle Ausrichtung für Edit-Button in Requests-Tabelle */
  .requests-table .edit-button {
    margin-left: 0 !important; /* Links ausgerichtet */
  }

  /* Spezielle Ausrichtung für Copy-Button in Requests-Tabelle */
  .requests-table .copy-button {
    margin-left: 0 !important; /* Links ausgerichtet */
  }
  
  /* Badges und Statusindikatoren verkleinern */
  .inline-flex.text-xs {
    padding: 0.1rem 0.3rem !important;
    font-size: 0.65rem !important;
  }
  
  /* Kleinere Icons */
  .h-5.w-5 {
    height: 1rem !important;
    width: 1rem !important;
  }

  /* Sortierpfeile in Spaltenüberschriften verkleinern und besser positionieren */
  table th .flex.items-center svg {
    height: 0.6rem !important;
    width: 0.6rem !important;
    margin-right: 0.1rem !important;
  }

  /* Volle Bildschirmbreite für Container */
  .min-h-screen > div.container,
  .min-h-screen > div.max-w-7xl,
  .min-h-screen > main.max-w-7xl {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Box bis zum Bildschirmrand */
  .bg-white.rounded-lg.border.border-gray-300,
  .bg-white.dark\:bg-gray-800.rounded-lg.border.border-gray-300,
  [class*="bg-white"][class*="rounded-lg"][class*="border"][class*="border-gray-300"] {
    border-radius: 0 !important;
    width: 100vw !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    max-width: 100vw !important;
    padding-left: 0.75rem !important; /* Erhöht von 0.5rem auf 0.75rem für mehr Innenabstand */
    padding-right: 0.75rem !important; /* Erhöht von 0.5rem auf 0.75rem für mehr Innenabstand */
  }

  /* Tabellenbehälter ohne horizontalen Abstand - ausgewogene Randbreite */
  .overflow-x-auto {
    margin-left: -0.25rem !important;
    margin-right: -0.25rem !important;
    width: calc(100% + 0.5rem) !important;
  }

  /* Spezifische Optimierung für mobile Tabellen-Container mit ausgeglichenen Rändern */
  .mobile-table-container {
    margin-left: -0.25rem !important;
    margin-right: -0.25rem !important;
    width: calc(100% + 0.5rem) !important;
    padding: 0 !important;
    overflow-x: auto !important;
  }

  /* Alle Button-Container und Icons ausrichten */
  .action-buttons,
  .status-buttons,
  .edit-button,
  .copy-button {
    padding-left: 0 !important;
    margin-left: 0 !important;
  }
  
  /* Zusätzliche Ausrichtung für Buttons in Actions-Spalte */
  .requests-table td:last-child .action-buttons,
  .tasks-table td:last-child .action-buttons,
  .worktime-table td:last-child .action-buttons,
  .payroll-table td:last-child .action-buttons {
    align-items: flex-start !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
  }
  
  /* Status-Buttons-Container immer gleich breit wie Edit-Button machen */
  .status-buttons {
    min-width: 1rem !important;
    justify-content: flex-start !important;
  }
  
  /* Alle Boxen mit typischen "box"-Klassen werden angepasst */
  .bg-white.rounded-lg.border.border-gray-300,
  .bg-white.dark\:bg-gray-800.rounded-lg.border.border-gray-300,
  [class*="bg-white"][class*="rounded-lg"][class*="border"][class*="border-gray-300"] {
    border: none !important;
    border-radius: 0 !important;
    width: 100vw !important;
    margin-left: calc(-50vw + 50%) !important;
    margin-right: calc(-50vw + 50%) !important;
    max-width: 100vw !important;
    box-sizing: border-box !important;
  }

  /* Mobilansicht - Spezifische Änderungen für den WorktimeTracker und Footer */
  @media (max-width: 640px) {
    /* Footer-Navigation direkt an der Worktracker-Box platzieren */
    nav.fixed.bottom-0 {
      bottom: 0 !important;
      margin-top: 0 !important;
    }
    
    /* WorktimeTracker ohne Abstand zum Footer */
    .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .flex.items-start.justify-center.space-x-8 {
      margin-bottom: 0.5rem !important;
      padding-bottom: 0 !important;
    }
    
    /* Abstand zwischen den Toggle-Elementen und der Infobox */
    .min-h-screen > div > .max-w-7xl.mx-auto.py-0 > div.mb-8 .flex.items-start + div.bg-green-50 {
      margin-top: 0.5rem !important;
      margin-bottom: 0.5rem !important; /* Etwas Abstand zum unteren Rand */
    }
  }
}

/* Verkürzen von langen Texten in Tabellen */
.mobile-compact .truncate-text {
  max-width: 120px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}

/* Tooltip für abgeschnittene Texte */
.mobile-compact .truncate-text:hover::after {
  content: attr(title);
  position: absolute;
  z-index: 100;
  background-color: #1F2937;
  color: white;
  padding: 0.5rem;
  border-radius: 0.25rem;
  max-width: 250px;
  white-space: normal;
  margin-top: -2.5rem;
  margin-left: -0.5rem;
  font-size: 0.75rem;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

/* Größere Touch-Ziele für mobile Geräte */
.mobile-compact .action-button {
  min-width: 2rem;
  min-height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
}

/* Card-Layout für Rollen (mobile Ansicht) */
.role-card {
  @apply bg-white rounded-lg shadow border border-gray-200 p-4 mb-4;
}

.role-card-header {
  @apply flex justify-between items-start mb-2;
}

.role-card-title {
  @apply text-lg font-medium text-gray-900;
}

.role-card-description {
  @apply text-sm text-gray-600 mb-3;
}

.role-card-permissions {
  @apply mt-2;
}

.role-card-permissions-title {
  @apply text-sm font-medium text-gray-900 mb-1;
}

.role-card-permissions-list {
  @apply flex flex-wrap gap-1;
}

.role-card-permission-tag {
  @apply text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded;
}

/* Optimierte Tabellenansicht für Desktop-Größen (>640px) */
@media (min-width: 641px) {
  /* Tabellen-Layout für Requests, To Do's und Workcenter optimieren */
  .requests-table,
  .tasks-table,
  .mobile-table-container table,
  .overflow-x-auto table,
  div.bg-white.rounded-lg div.overflow-x-auto table,
  div[class*="bg-white"][class*="rounded-lg"] table {
    table-layout: fixed;
    width: 100%;
    overflow-x: visible !important;
  }
  
  /* Verkleinerte Zellabstände für Desktop */
  .requests-table th, 
  .requests-table td,
  .tasks-table th,
  .tasks-table td,
  .mobile-table-container table th,
  .mobile-table-container table td,
  .overflow-x-auto table th,
  .overflow-x-auto table td,
  div.bg-white.rounded-lg div.overflow-x-auto table th,
  div.bg-white.rounded-lg div.overflow-x-auto table td {
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
    line-height: 1.2 !important;
    padding-top: 0.35rem !important;
    padding-bottom: 0.35rem !important;
  }
  
  /* Spaltentitel (th) kleiner machen auf großen Bildschirmen */
  .requests-table th, 
  .tasks-table th, 
  .mobile-table-container table th,
  .overflow-x-auto table th,
  div.bg-white.rounded-lg div.overflow-x-auto table th,
  div[class*="bg-white"][class*="rounded-lg"] table th {
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    font-weight: 600 !important;
  }
  
  /* Normale Zellen mit normaler Schriftgröße */
  .requests-table td,
  .tasks-table td,
  .mobile-table-container table td,
  .overflow-x-auto table td,
  div.bg-white.rounded-lg div.overflow-x-auto table td,
  div[class*="bg-white"][class*="rounded-lg"] table td {
    font-size: 0.8rem !important;
  }
  
  /* Zell-Inhalte sollen brechen, nicht scrollen */
  .requests-table td div,
  .tasks-table td div,
  .mobile-table-container table td div,
  .overflow-x-auto table td div,
  .requests-table td span:not([class*="rounded-full"]),
  .tasks-table td span:not([class*="rounded-full"]),
  .mobile-table-container table td span:not([class*="rounded-full"]),
  .overflow-x-auto table td span:not([class*="rounded-full"]),
  .requests-table th div,
  .tasks-table th div,
  .mobile-table-container table th div,
  .overflow-x-auto table th div,
  div.bg-white.rounded-lg div.overflow-x-auto table td div,
  div.bg-white.rounded-lg div.overflow-x-auto table td span:not([class*="rounded-full"]),
  div.bg-white.rounded-lg div.overflow-x-auto table th div,
  div[class*="bg-white"][class*="rounded-lg"] table td div,
  div[class*="bg-white"][class*="rounded-lg"] table td span:not([class*="rounded-full"]),
  div[class*="bg-white"][class*="rounded-lg"] table th div {
    white-space: normal !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    width: 100% !important;
  }
  
  /* Besonders kompakter Text in Tabellenzellen */
  .text-sm, .text-xs {
    font-size: 0.75rem !important;
    line-height: 1.2 !important;
  }
  
  /* Optimierte Spaltenbreiten: verantwortlich/angefragt */
  .requests-table td:nth-child(2),
  .tasks-table td:nth-child(2) {
    max-width: 120px;
  }

  /* Status-Spalte schmaler */
  .requests-table th:nth-child(3),
  .requests-table td:nth-child(3),
  .tasks-table th:nth-child(2),
  .tasks-table td:nth-child(2) {
    max-width: 90px;
  }
  
  /* Erste Spalte etwas mehr Platz geben */
  .requests-table th:first-child,
  .requests-table td:first-child,
  .tasks-table th:first-child,
  .tasks-table td:first-child,
  .mobile-table-container table th:first-child,
  .mobile-table-container table td:first-child,
  .overflow-x-auto table th:first-child,
  .overflow-x-auto table td:first-child,
  div.bg-white.rounded-lg div.overflow-x-auto table th:first-child,
  div.bg-white.rounded-lg div.overflow-x-auto table td:first-child,
  div[class*="bg-white"][class*="rounded-lg"] table th:first-child,
  div[class*="bg-white"][class*="rounded-lg"] table td:first-child {
    padding-left: 0.5rem !important;
  }
  
  /* Letzte Spalte etwas mehr Platz geben */
  .requests-table th:last-child,
  .requests-table td:last-child,
  .tasks-table th:last-child,
  .tasks-table td:last-child,
  .mobile-table-container table th:last-child,
  .mobile-table-container table td:last-child,
  .overflow-x-auto table th:last-child,
  .overflow-x-auto table td:last-child,
  div.bg-white.rounded-lg div.overflow-x-auto table th:last-child,
  div.bg-white.rounded-lg div.overflow-x-auto table td:last-child,
  div[class*="bg-white"][class*="rounded-lg"] table th:last-child,
  div[class*="bg-white"][class*="rounded-lg"] table td:last-child {
    padding-right: 0.5rem !important;
  }
  
  /* Horizontales Scrollen für Tabellen verhindern */
  .overflow-x-auto,
  .overflow-x-hidden,
  .overflow-x-scroll,
  .mobile-table-container,
  div.bg-white.rounded-lg div.overflow-x-auto,
  div[class*="bg-white"][class*="rounded-lg"] div.overflow-x-auto {
    overflow-x: visible !important;
  }
  
  /* Container von Overflow befreien */
  div[class*="overflow-x-auto"],
  div.mobile-table-container,
  div.bg-white.rounded-lg div.overflow-x-auto,
  div[class*="bg-white"][class*="rounded-lg"] div.overflow-x-auto {
    overflow: visible !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Button-Gruppen in Aktions-Spalten horizontal ausrichten */
  .action-buttons {
    display: flex;
    flex-direction: row !important;
    align-items: center !important;
    gap: 0.25rem !important;
    justify-content: flex-start !important;
    width: 100% !important;
  }
  
  /* Status-Buttons kompakter darstellen */
  .status-buttons {
    display: flex;
    flex-direction: row !important;
    gap: 0.25rem !important;
    justify-content: flex-start !important;
    width: 100% !important;
  }
  
  /* Kleinere Buttons in Tabellen */
  .action-buttons button,
  .status-buttons button {
    padding: 0.15rem !important;
    width: auto !important;
    height: auto !important;
  }
  
  /* Kleinere Icons in Buttons */
  .action-buttons button svg,
  .status-buttons button svg {
    width: 0.9rem !important;
    height: 0.9rem !important;
  }
  
  /* Stile für alle Tabellen (allgemein) */
  table {
    white-space: normal !important;
  }
  
  table th, 
  table td {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Tabellenbreite nicht beschränken */
  div.bg-white.rounded-lg.border table,
  div.bg-white.rounded-lg.border.border-gray-300 table,
  div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700 table,
  div[class*="bg-white"][class*="rounded-lg"] table {
    min-width: auto !important;
    width: 100% !important;
  }
  
  /* Workcenter Tabelle optimieren */
  div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700 table,
  div.bg-white.rounded-lg.border.border-gray-300.p-6 table {
    width: 100% !important;
    table-layout: fixed !important;
  }
}

/* Mittlere Bildschirmgrößen (768px - 1023px): Optimierung für Tablets */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Spaltentitel noch kleiner auf Tablets */
  .requests-table th, 
  .tasks-table th, 
  .mobile-table-container table th,
  .overflow-x-auto table th,
  div.bg-white.rounded-lg div.overflow-x-auto table th,
  div[class*="bg-white"][class*="rounded-lg"] table th {
    font-size: 0.65rem !important;
    padding-top: 0.3rem !important;
    padding-bottom: 0.3rem !important;
  }
  
  /* Zellinhalt auf Tablets etwas kompakter */
  .requests-table td,
  .tasks-table td,
  .mobile-table-container table td,
  .overflow-x-auto table td,
  div.bg-white.rounded-lg div.overflow-x-auto table td,
  div[class*="bg-white"][class*="rounded-lg"] table td {
    font-size: 0.75rem !important;
    padding-top: 0.3rem !important;
    padding-bottom: 0.3rem !important;
  }
}

/* Mobile Bildschirmgrößen (641px - 767px): Optimierung für kleine Tablets/große Phones */
@media (min-width: 641px) and (max-width: 767px) {
  /* Spaltentitel extrem kompakt auf kleinen Screens */
  .requests-table th, 
  .tasks-table th, 
  .mobile-table-container table th,
  .overflow-x-auto table th,
  div.bg-white.rounded-lg div.overflow-x-auto table th,
  div[class*="bg-white"][class*="rounded-lg"] table th {
    font-size: 0.6rem !important;
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
    padding-left: 0.2rem !important;
    padding-right: 0.2rem !important;
  }
  
  /* Zellinhalt noch kompakter */
  .requests-table td,
  .tasks-table td,
  .mobile-table-container table td,
  .overflow-x-auto table td,
  div.bg-white.rounded-lg div.overflow-x-auto table td,
  div[class*="bg-white"][class*="rounded-lg"] table td {
    font-size: 0.7rem !important;
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
    padding-left: 0.2rem !important;
    padding-right: 0.2rem !important;
  }
}

/* Box-Schatten für Desktop-Ansicht */
@media (min-width: 641px) {
  /* Alle Boxen mit typischen Klassen einen leichten Schatten geben und Rahmenlinien entfernen */
  .bg-white.rounded-lg.border.border-gray-300, 
  .bg-white.dark\:bg-gray-800.rounded-lg.border.border-gray-300,
  [class*="bg-white"][class*="rounded-lg"][class*="border"][class*="border-gray-300"],
  .bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700.p-6,
  .bg-white.rounded-lg.border {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border: none !important;
  }
}

/* Modern Scrollbar Styling */
/* Basis-Styling für alle Scrollbars im System */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.02);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
  border: 2px solid transparent;
  background-clip: padding-box;
}

/* Dark Mode Scrollbar */
.dark ::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid transparent;
  background-clip: padding-box;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
  border: 2px solid transparent;
  background-clip: padding-box;
}

/* Firefox Scrollbar Support */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.02);
}

.dark * {
  scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);
}

/* Optimierung für Box-Container mit vertikalem Scrollen */
.overflow-y-container {
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable; /* Verhindert Layout-Shifts */
}

/* Optimierte horizontale Scrollbars für Tabellen */
.table-scroll-container {
  overflow-x: auto;
  overflow-y: hidden;
  padding-bottom: 6px; /* Platz für den Scrollbalken */
}

/* Utility-Klasse für den spezifischen Footer-Abstand */
.bottom-13 {
  bottom: 3.25rem !important; /* Optimaler Abstand zum Footer-Menü */
}

/* Status-Badges korrekt darstellen (nur inline um den Text) */
span.status-col, 
span[class*="inline-flex"][class*="rounded-full"],
span[class*="px-2"][class*="rounded-full"],
span[class*="font-semibold"][class*="rounded-full"] {
  display: inline-flex !important;
  width: auto !important;
  max-width: fit-content !important;
  white-space: nowrap !important;
  padding: 0.25rem 0.5rem !important;
  box-sizing: content-box !important;
}

/* Status-Zelle nicht mit Farbe füllen */
td:has(span.status-col),
td:has(span[class*="inline-flex"][class*="rounded-full"]),
.requests-table td:nth-child(3),
.tasks-table td:nth-child(2),
td[class*="whitespace-nowrap"]:has(span[class*="rounded-full"]) {
  background-color: transparent !important;
  width: auto !important;
  min-width: 100px !important;
}

/* Direkte Selektoren für Status-Spalten basierend auf ihrer Position */
.requests-table tr td:nth-child(3),
.tasks-table tr td:nth-child(2) {
  background-color: transparent !important;
  width: auto !important;
  text-align: left !important;
}

/* Status-Text selbst mit Inline-Darstellung */
.requests-table tr td:nth-child(3) span,
.tasks-table tr td:nth-child(2) span {
  display: inline-flex !important;
  width: auto !important;
  max-width: fit-content !important;
}

/* Allgemeiner Selektor für alle Tabellen-Status-Badges */
table td span[class*="bg-"][class*="text-"][class*="rounded-full"],
table td span.status-col,
div.overflow-x-auto table td span[class*="rounded-full"] {
  display: inline-flex !important;
  width: auto !important;
  max-width: fit-content !important;
  padding: 0.2rem 0.5rem !important;
  border-radius: 9999px !important;
}

/* Status-Hintergrund auf Zellebene entfernen */
table td:has(span[class*="bg-"][class*="text-"][class*="rounded-full"]),
div.overflow-x-auto table td:has(span[class*="rounded-full"]) {
  background-color: transparent !important;
}

/* Workcenter Tabelle Status-Anpassungen */
div.bg-white.rounded-lg.border.border-gray-300.dark\:border-gray-700 table td span[class*="rounded-full"],
div.overflow-x-auto table td span[class*="rounded-full"] {
  display: inline-flex !important;
  width: auto !important;
  max-width: fit-content !important;
}

/* Vollbreiten-Stil für Mobile-Ansicht im Cerebro-Modul */
@media (max-width: 767px) {
  .mobile-full-width > div {
    border-radius: 0 !important;
    box-shadow: none !important;
    border: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
  }
  
  .mobile-full-width > div.bg-white {
    padding-left: 0.75rem !important; 
    padding-right: 0.75rem !important;
  }
}

/* Sidebar-Tooltips immer im Vordergrund anzeigen */
.group-hover\:opacity-100.absolute {
  z-index: 50 !important; /* Hoher z-index um über allen Elementen zu schweben */
}

/* ========= NEUER CODE FÜR PROFILE UND USERMANAGEMENTTAB ========= */
/* Überschreibe globale Mobile-Styles speziell für Profilformular und UserManagementTab */
@media (max-width: 640px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="date"],
  textarea,
  select {
    font-size: 0.875rem !important; /* Gleiche Größe wie bei Desktop */
    height: auto !important; /* Verhindert feste Höhen, die zu klein sein könnten */
    min-height: 2.25rem !important; /* Mindesthöhe zum Verhindern von zu kleinen Feldern */
    padding: 0.5rem 0.75rem !important; /* Gleicher Innenabstand wie bei Desktop */
    box-sizing: border-box !important; /* Verhindert, dass Padding Feldgröße ändert */
  }

  /* Stelle sicher, dass die Select-Felder richtig angezeigt werden */
  select {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E") !important;
    background-position: right 0.5rem center !important;
    background-repeat: no-repeat !important;
    background-size: 1.5em 1.5em !important;
    padding-right: 2.5rem !important;
  }

  /* Stelle sicher, dass der Text in den Feldern richtig lesbar ist */
  input::placeholder,
  textarea::placeholder {
    color: #9ca3af !important;
    opacity: 1 !important;
  }
}

/* Verbesserungen für Formularfelder auf mobilen Geräten */
@media (max-width: 640px) {
  /* Verbesserte Eingabefelder für alle Formulare */
  .container input,
  .container select,
  .container textarea {
    font-size: 0.875rem !important;
    height: auto !important;
    min-height: 2.5rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  /* Verbesserte Darstellung für Select-Elemente */
  .container select {
    background-size: 1.5em 1.5em !important;
    padding-right: 2.5rem !important;
  }
}

/* Verbesserte Darstellung der Formularfelder in Profil und UserManagementTab */
.bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 input,
.bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 select,
.bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 textarea,
form[onsubmit="handleUserSubmit"] input,
form[onsubmit="handleUserSubmit"] select,
form[onsubmit="handleUserSubmit"] textarea,
form[onsubmit="handleSubmit"] input,
form[onsubmit="handleSubmit"] select,
form[onsubmit="handleSubmit"] textarea,
div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 input,
div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 select,
div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 textarea {
  font-size: 0.875rem !important;
  height: auto !important;
  min-height: 2.5rem !important;
  padding: 0.5rem 0.75rem !important;
  width: 90% !important;
  max-width: 90% !important;
  box-sizing: border-box !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Spezielle Anpassungen für bestimmte Formularfelder im Desktop-Modus */
@media (min-width: 641px) {
  /* Für alle Felder in Profil und Benutzerverwaltung */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="date"],
  select,
  textarea,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-6 input,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-6 select,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-6 textarea,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-4 input,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-4 select,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-4 textarea {
    width: 90% !important;
    max-width: 90% !important;
  }
}

/* Verbesserte Mobildarstellung */
@media (max-width: 640px) {
  /* Einheitliche Formularfeldbreiten für alle Komponenten im Mobile-Modus */
  .container input,
  .container select,
  .container textarea,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="date"],
  select,
  textarea,
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 input,
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 select,
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 textarea,
  form[onsubmit="handleUserSubmit"] input,
  form[onsubmit="handleUserSubmit"] select,
  form[onsubmit="handleUserSubmit"] textarea,
  form[onsubmit="handleSubmit"] input,
  form[onsubmit="handleSubmit"] select,
  form[onsubmit="handleSubmit"] textarea,
  .grid.grid-cols-1.sm\:grid-cols-2 input,
  .grid.grid-cols-1.sm\:grid-cols-2 select,
  .grid.grid-cols-1.sm\:grid-cols-2 textarea,
  div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 input,
  div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 select,
  div.grid.grid-cols-1.sm\:grid-cols-2.gap-4 textarea {
    font-size: 0.875rem !important;
    height: auto !important;
    min-height: 2.5rem !important;
    padding: 0.5rem 0.75rem !important;
    width: 90% !important;
    max-width: 90% !important;
    box-sizing: border-box !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* Reduzierte Abstände zwischen Formularfeldern */
  .grid.grid-cols-1.gap-6,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-6 {
    gap: 0.5rem !important; /* Reduziert von 1.5rem (gap-6) auf 0.5rem */
  }
  
  .grid.grid-cols-1.gap-4,
  .grid.grid-cols-1.sm\:grid-cols-2.gap-4 {
    gap: 0.4rem !important; /* Reduziert von 1rem (gap-4) auf 0.4rem */
  }
  
  /* Verbesserte Darstellung für Select-Elemente */
  select {
    background-size: 1.5em 1.5em !important;
    padding-right: 2.5rem !important;
  }
  
  /* Kleinere Abstände um Labels */
  .bg-white.dark\:bg-gray-800.rounded-lg.shadow.p-6 label,
  form[onsubmit="handleUserSubmit"] label,
  form[onsubmit="handleSubmit"] label,
  label.block.text-sm.font-medium {
    margin-bottom: 0.2rem !important; /* Reduzierter Abstand unter Labels */
  }
  
  /* Reduzierter Abstand zwischen Label-Gruppen */
  .grid > div {
    margin-bottom: 0.25rem !important;
  }
}