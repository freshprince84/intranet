"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[784],{1726:(e,t,r)=>{r.d(t,{X:()=>a,d:()=>s});let a=function(e){return e.CONFIRMED="confirmed",e.CHECKED_IN="checked_in",e.CHECKED_OUT="checked_out",e.CANCELLED="cancelled",e.NO_SHOW="no_show",e}({}),s=function(e){return e.PENDING="pending",e.PAID="paid",e.PARTIALLY_PAID="partially_paid",e.REFUNDED="refunded",e}({})},1816:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const i=s.forwardRef(l)},4538:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=s.forwardRef(l)},4784:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var a=r(5043),s=r(4117),n=r(3216),l=r(1923),i=r(1801),d=r(1726),o=r(7988),c=r(5501),u=r(8682),g=r(9850),x=r(4538),h=r(7925),m=r(9837),v=r(887),b=r(4057),y=r(6511),k=r(579);const p=e=>{let{reservation:t,onClick:r,onUpdate:a}=e;const{t:n,i18n:l}=(0,s.Bd)(),i=()=>{switch(l.language){case"de":return v.de;case"es":return b.es;default:return y.c}},p=e=>{try{return(0,m.GP)(new Date(e),"dd.MM.yyyy",{locale:i()})}catch(t){return e}};return(0,k.jsxs)("div",{onClick:r,className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4 hover:shadow-lg transition-shadow cursor-pointer ".concat(t.status===d.X.CHECKED_IN?"ring-2 ring-green-500":""),children:[(0,k.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:t.guestName}),t.lobbyReservationId&&(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",t.lobbyReservationId]})]}),(0,k.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,k.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat((e=>{switch(e){case d.X.CONFIRMED:return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case d.X.CHECKED_IN:return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case d.X.CHECKED_OUT:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200";case d.X.CANCELLED:return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case d.X.NO_SHOW:return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}})(t.status)),children:n("reservations.status.".concat(t.status),t.status)}),(0,k.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat((e=>{switch(e){case d.d.PAID:return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case d.d.PARTIALLY_PAID:return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";case d.d.REFUNDED:return"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200";case d.d.PENDING:default:return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200"}})(t.paymentStatus)),children:n("reservations.paymentStatus.".concat(t.paymentStatus),t.paymentStatus)})]})]}),(0,k.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,k.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(o.A,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,k.jsxs)("span",{children:[p(t.checkInDate)," - ",p(t.checkOutDate)]})]}),t.roomNumber&&(0,k.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(c.A,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,k.jsxs)("span",{children:[n("reservations.room","Zimmer")," ",t.roomNumber]})]}),t.guestEmail&&(0,k.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(u.A,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,k.jsx)("span",{className:"truncate",children:t.guestEmail})]}),t.guestPhone&&(0,k.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(g.A,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,k.jsx)("span",{children:t.guestPhone})]}),(0,k.jsxs)("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[t.onlineCheckInCompleted&&(0,k.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400",title:n("reservations.onlineCheckInCompleted","Online Check-in abgeschlossen"),children:[(0,k.jsx)(x.A,{className:"h-4 w-4 mr-1"}),(0,k.jsx)("span",{className:"text-xs",children:n("reservations.onlineCheckIn","Online")})]}),t.sireRegistered&&(0,k.jsxs)("div",{className:"flex items-center text-blue-600 dark:text-blue-400",title:n("reservations.sireRegistered","SIRE registriert"),children:[(0,k.jsx)(x.A,{className:"h-4 w-4 mr-1"}),(0,k.jsx)("span",{className:"text-xs",children:"SIRE"})]}),t.doorPin&&(0,k.jsxs)("div",{className:"flex items-center text-purple-600 dark:text-purple-400",title:n("reservations.doorPin","T\xfcr-PIN"),children:[(0,k.jsx)(h.A,{className:"h-4 w-4 mr-1"}),(0,k.jsx)("span",{className:"text-xs",children:n("reservations.pin","PIN")})]})]})]})]})};var w=r(7855),f=r(8010),j=r(1816);const N=()=>{const{t:e}=(0,s.Bd)(),{showMessage:t}=(0,w.A)(),r=(0,n.Zp)(),[c,u]=(0,a.useState)([]),[g,x]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[v,b]=(0,a.useState)("all"),[y,N]=(0,a.useState)("all"),[E,A]=(0,a.useState)(""),[C,I]=(0,a.useState)(!1),[S,L]=(0,a.useState)(!1),R=async()=>{try{x(!0),m(null);const e=await l.A.get(i.Sn.RESERVATIONS.BASE);u(e.data||[])}catch(d){var r,a,s,n;console.error("Fehler beim Laden der Reservierungen:",d),m((null===(r=d.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||e("reservations.loadError","Fehler beim Laden der Reservierungen")),t((null===(s=d.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||e("reservations.loadError","Fehler beim Laden der Reservierungen"),"error")}finally{x(!1)}};(0,a.useEffect)((()=>{R()}),[]);const D=[...c.filter((e=>{if("all"!==v&&e.status!==v)return!1;if("all"!==y&&e.paymentStatus!==y)return!1;if(E){var t,r,a,s;const n=E.toLowerCase();return e.guestName.toLowerCase().includes(n)||(null===(t=e.guestEmail)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.guestPhone)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.roomNumber)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(s=e.lobbyReservationId)||void 0===s?void 0:s.toLowerCase().includes(n))}return!0}))].sort(((e,t)=>new Date(t.checkInDate).getTime()-new Date(e.checkInDate).getTime()));return g?(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,k.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,k.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),(0,k.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})}):h&&0===c.length?(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:h}),(0,k.jsx)("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("common.retry","Erneut versuchen")})]})}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4",children:[(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,k.jsx)("div",{className:"flex-1 w-full sm:w-auto",children:(0,k.jsx)("input",{type:"text",placeholder:e("reservations.searchPlaceholder","Suche nach Gast, E-Mail, Telefon..."),value:E,onChange:e=>A(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsxs)("button",{onClick:()=>I(!C),className:"px-4 py-2 rounded-lg border transition-colors ".concat(C||"all"!==v||"all"!==y?"bg-blue-100 dark:bg-blue-900 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"),children:[(0,k.jsx)(f.A,{className:"h-5 w-5 inline-block mr-2"}),e("common.filter","Filter")]}),(0,k.jsxs)("button",{onClick:async()=>{try{L(!0),await l.A.post(i.Sn.RESERVATIONS.SYNC),t(e("reservations.syncSuccess","Reservierungen erfolgreich synchronisiert"),"success"),await R()}catch(s){var r,a;console.error("Fehler beim Synchronisieren:",s),t((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||e("reservations.syncError","Fehler beim Synchronisieren"),"error")}finally{L(!1)}},disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,k.jsx)(j.A,{className:"h-5 w-5 mr-2 ".concat(S?"animate-spin":"")}),S?e("reservations.syncing","Synchronisiere..."):e("reservations.sync","Synchronisieren")]})]})]}),C&&(0,k.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("reservations.status","Status")}),(0,k.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,k.jsx)("option",{value:"all",children:e("common.all","Alle")}),(0,k.jsx)("option",{value:d.X.CONFIRMED,children:e("reservations.status.confirmed","Best\xe4tigt")}),(0,k.jsx)("option",{value:d.X.CHECKED_IN,children:e("reservations.status.checkedIn","Eingecheckt")}),(0,k.jsx)("option",{value:d.X.CHECKED_OUT,children:e("reservations.status.checkedOut","Ausgecheckt")}),(0,k.jsx)("option",{value:d.X.CANCELLED,children:e("reservations.status.cancelled","Storniert")}),(0,k.jsx)("option",{value:d.X.NO_SHOW,children:e("reservations.status.noShow","Nicht erschienen")})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("reservations.paymentStatus","Zahlungsstatus")}),(0,k.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,k.jsx)("option",{value:"all",children:e("common.all","Alle")}),(0,k.jsx)("option",{value:d.d.PENDING,children:e("reservations.paymentStatus.pending","Ausstehend")}),(0,k.jsx)("option",{value:d.d.PAID,children:e("reservations.paymentStatus.paid","Bezahlt")}),(0,k.jsx)("option",{value:d.d.PARTIALLY_PAID,children:e("reservations.paymentStatus.partiallyPaid","Teilweise bezahlt")}),(0,k.jsx)("option",{value:d.d.REFUNDED,children:e("reservations.paymentStatus.refunded","Erstattet")})]})]})]}),("all"!==v||"all"!==y)&&(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("button",{onClick:()=>{b("all"),N("all")},className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:e("common.clearFilters","Filter zur\xfccksetzen")})})]})]}),0===D.length?(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6 text-center",children:[(0,k.jsx)(o.A,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:E||"all"!==v||"all"!==y?e("reservations.noResults","Keine Reservierungen gefunden"):e("reservations.noReservations","Keine Reservierungen vorhanden")})]}):(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map((e=>(0,k.jsx)(p,{reservation:e,onClick:()=>r("/reservations/".concat(e.id)),onUpdate:R},e.id)))}),D.length>0&&(0,k.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:e("reservations.resultCount",{count:D.length,total:c.length},"".concat(D.length," von ").concat(c.length," Reservierungen"))})]})},E=()=>{const{t:e}=(0,s.Bd)();return(0,k.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("reservations.title","Reservierungen")}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("reservations.description","Verwalten Sie alle Reservierungen und Check-ins")})]}),(0,k.jsx)(N,{})]})}},7925:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const i=s.forwardRef(l)},7988:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const i=s.forwardRef(l)},8010:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const i=s.forwardRef(l)},8682:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const i=s.forwardRef(l)},9850:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45),s=r(5043);const n=["title","titleId"];function l(e,t){let{title:r,titleId:l}=e,i=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),r?s.createElement("title",{id:l},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const i=s.forwardRef(l)}}]);
//# sourceMappingURL=784.7bcdf61f.chunk.js.map