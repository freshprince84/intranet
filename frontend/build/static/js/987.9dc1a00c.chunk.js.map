{"version":3,"file":"static/js/987.9dc1a00c.chunk.js","mappings":"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","sources":["services/authService.ts","pages/Register.tsx"],"sourcesContent":["import axios from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { API_URL } from '../config/api.ts';\n\ninterface LoginData {\n  username: string;\n  password: string;\n}\n\ninterface RegisterData {\n  email: string;\n  password: string;\n}\n\ninterface AuthResponse {\n  token: string;\n  user: {\n    id: number;\n    username: string;\n    email: string;\n    firstName: string;\n    lastName: string;\n    roles: Array<{\n      id: number;\n      name: string;\n      permissions: Array<{\n        page: string;\n        accessLevel: string;\n      }>;\n    }>;\n  };\n  message: string;\n}\n\nconst authService = {\n  async login(data: LoginData): Promise<AuthResponse> {\n    const response = await axiosInstance.post('/auth/login', data);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  async register(data: RegisterData): Promise<AuthResponse> {\n    const response = await axiosInstance.post('/auth/register', data);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  async logout(): Promise<void> {\n    const token = localStorage.getItem('token');\n    if (token) {\n      await axiosInstance.post('/auth/logout', {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n    }\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser() {\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      return JSON.parse(userStr);\n    }\n    return null;\n  },\n\n  getToken() {\n    return localStorage.getItem('token');\n  },\n\n  isAuthenticated() {\n    return !!this.getToken();\n  }\n};\n\n// Axios Interceptor für Token\naxios.interceptors.request.use(\n  (config) => {\n    const token = authService.getToken();\n    if (token && config.headers) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default authService; ","import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport authService from '../services/authService.ts';\n\nconst Register: React.FC = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    \n    // Passwort-Bestätigung prüfen\n    if (formData.password !== formData.confirmPassword) {\n      setError('Die Passwörter stimmen nicht überein.');\n      return;\n    }\n    \n    // Passwort-Länge prüfen\n    if (formData.password.length < 6) {\n      setError('Das Passwort muss mindestens 6 Zeichen lang sein.');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      await authService.register({\n        email: formData.email,\n        password: formData.password\n      });\n      navigate('/dashboard');\n    } catch (err: any) {\n      console.error('Registrierung fehlgeschlagen:', err);\n      setError(err.response?.data?.message || 'Registrierung fehlgeschlagen. Bitte überprüfen Sie Ihre Eingaben.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center dark:bg-gray-900\">\n      <div className=\"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-lg shadow\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-center text-gray-900 dark:text-white\">\n            Registrierung\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n            Erstellen Sie Ihr Konto mit E-Mail und Passwort\n          </p>\n          {error && (\n            <p className=\"mt-2 text-center text-sm text-red-600 dark:text-red-400\">\n              {error}\n            </p>\n          )}\n        </div>\n        <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                E-Mail-Adresse\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                required\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder=\"ihre.email@beispiel.de\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                Passwort\n              </label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                required\n                minLength={6}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder=\"Mindestens 6 Zeichen\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                Passwort bestätigen\n              </label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                id=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                required\n                minLength={6}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder=\"Passwort wiederholen\"\n              />\n            </div>\n          </div>\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className={`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n            >\n              {loading ? 'Registriere...' : 'Registrieren'}\n            </button>\n          </div>\n        </form>\n        <p className=\"text-center text-sm text-gray-600 dark:text-gray-400\">\n          Bereits registriert?{' '}\n          <Link to=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300\">\n            Anmelden\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register; "],"names":["authService","login","data","response","axiosInstance","post","token","localStorage","setItem","JSON","stringify","user","register","logout","getItem","headers","Authorization","removeItem","getCurrentUser","userStr","parse","getToken","isAuthenticated","this","axios","interceptors","request","use","config","error","Promise","reject","Register","navigate","useNavigate","formData","setFormData","useState","email","password","confirmPassword","setError","loading","setLoading","handleChange","e","target","name","value","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","length","err","_err$response","_err$response$data","console","message","htmlFor","type","id","onChange","required","placeholder","minLength","disabled","Link","to"],"sourceRoot":""}