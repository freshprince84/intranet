"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[220],{3164:(e,t,r)=>{r.d(t,{A:()=>n});r(5043);var a=r(4117),s=r(8120),l=r(579);const n=e=>{let{className:t=""}=e;const{t:r}=(0,a.Bd)();return(0,l.jsx)("div",{className:"flex items-center ".concat(t),children:(0,l.jsxs)("select",{value:s.A.language||"de",onChange:e=>{const t=e.target.value;t&&(s.A.changeLanguage(t),document.documentElement.lang=t)},className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[80px]",children:[(0,l.jsx)("option",{value:"de",children:"\ud83c\udde9\ud83c\uddea DE"}),(0,l.jsx)("option",{value:"es",children:"\ud83c\udde8\ud83c\uddf4 ES"}),(0,l.jsx)("option",{value:"en",children:"\ud83c\uddec\ud83c\udde7 EN"})]})})}},3220:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var a=r(9379),s=r(5043),l=r(3216),n=r(5475),d=r(4117),o=r(2672),i=r(3164),c=r(579);const u=()=>{const e=(0,l.Zp)(),{t:t}=(0,d.Bd)(),{login:r,user:u}=(0,o.As)(),[g,m]=(0,s.useState)({username:"",password:""}),[x,b]=(0,s.useState)(""),[h,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{u&&(console.log("Benutzer bereits eingeloggt, pr\xfcfe Profilvollst\xe4ndigkeit"),(e=>!e.birthday||!e.bankDetails||!e.contract||!e.salary||!e.normalWorkingHours)(u)?e("/profile"):e("/dashboard"))}),[u,e]);const k=e=>{m((0,a.A)((0,a.A)({},g),{},{[e.target.name]:e.target.value}))};return(0,c.jsxs)("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900 relative",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 m-2",children:(0,c.jsx)(i.A,{})}),(0,c.jsxs)("div",{className:"max-w-lg w-full space-y-8 p-10 bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,c.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:t("login.title")}),x&&(0,c.jsx)("p",{className:"text-red-500 dark:text-red-400 text-center",children:x}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(""),p(!0);try{await r(g.username,g.password)}catch(l){var a,s;console.error("Login-Fehler:",l);const e=(null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||l.message||t("login.loginFailed");b(e),p(!1)}},className:"mt-8 space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:t("login.username")}),(0,c.jsx)("input",{type:"text",name:"username",id:"username",value:g.username,onChange:k,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white",disabled:h})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:t("login.password")}),(0,c.jsx)("input",{type:"password",name:"password",id:"password",value:g.password,onChange:k,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white",disabled:h})]}),(0,c.jsx)("button",{type:"submit",className:"w-full py-2 px-4 text-white rounded-md ".concat(h?"bg-blue-400 dark:bg-blue-500 cursor-not-allowed":"bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800"),disabled:h,children:t(h?"login.submitting":"login.submit")})]}),(0,c.jsxs)("p",{className:"text-center mt-4 text-gray-700 dark:text-gray-300",children:[t("login.noAccount")," ",(0,c.jsx)(n.N_,{to:"/register",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:t("login.register")})]})]})]})}}}]);
//# sourceMappingURL=220.f2e82117.chunk.js.map