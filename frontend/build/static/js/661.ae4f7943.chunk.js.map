{"version":3,"file":"static/js/661.ae4f7943.chunk.js","mappings":"yJAsBO,MAAMA,EAA0E,CACrFC,QAAS,CACPC,cAAe,IAEjBC,KAAM,CACJD,cAAe,KA0BnB,MAAME,EAA2D,CAC/DC,OAAQ,CAAEH,cAAe,GACzBI,MAAO,CAAEJ,cAAe,GACxBK,SAAU,CAAEL,cAAe,KAatB,SAASM,EACdC,GAKe,IAJfC,EAAwBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,UAC3BG,EAAmCH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnCE,EAAcJ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACdG,EAA2BL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE3B,IAAKJ,EACH,MAAO,OAGT,MAAMQ,EAAM,IAAIC,KACVC,EAAM,IAAID,KAAKT,GACfW,GAAgBH,EAAII,UAAYF,EAAIE,WAAS,KAGnD,GAAID,GAAgB,EAClB,MAAO,OAIT,IAAIE,EAEJ,GAAIR,EACFQ,EAAaR,OACR,GAAa,SAATJ,GAAmBK,EAAO,CAEnC,MAAMQ,EA3DH,SAAqBR,EAAeC,GACzC,MAAMQ,EAAaT,EAAMU,cACnBC,GAAaV,GAAe,IAAIS,cAEtC,OAAID,EAAWG,SAAS,iBAAgBD,EAAUC,SAAS,gBAClD,SAELH,EAAWG,SAAS,eAAcD,EAAUC,SAAS,cAChD,QAEF,UACT,CAgDqBC,CAAYb,EAAOC,GACpCM,EAAalB,EAAuBmB,EACtC,MACED,EAAatB,EAA0BU,GAIzC,OAAIU,GAAgBE,EAAWpB,cACtB,WAIF,SACT,CAQO,SAAS2B,EAAsBC,GAMpC,OAAQA,GACN,IAAK,UACH,MAAO,CACLC,YAAa,2CACbC,QAAS,qCACTC,UAAW,uCACXC,WAAY,4EAEhB,IAAK,WACH,MAAO,CACLH,YAAa,qCACbC,QAAS,+BACTC,UAAW,iCACXC,WAAY,gEAEhB,QACE,MAAO,CACLH,YAAa,GACbC,QAAS,GACTC,UAAW,GACXC,WAAY,IAGpB,CA+BO,SAASC,EACd1B,GAQ+E,IAJ/E2B,EAAsBzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtBwB,EAAa1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,gBAChB2B,EAAkC3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAI4B,GAASA,EAAKC,qBACpDC,EAAiB9B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAEjB,MAAM+B,EAAelC,EAAgBC,EARbE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,eAQyBE,EAPtCF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACaF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAOrB8B,EAAed,EAAsBa,GAE3C,MAAO,CACLN,OACAC,QACAO,MAAOnC,EAAU6B,EAAW,IAAIpB,KAAKT,IAAY,IACjDoC,UAA4B,SAAjBH,EACND,EAAWE,EAAaT,WAAaS,EAAaV,eACnDpB,EAER,C,2DCpLO,MAAMiC,EAAiBA,CAAChB,EAAgBiB,KAE7C,GAAoB,SAAhBA,EACF,OAAOjB,GACL,IAAK,OAUL,QACE,MAAO,gEATT,IAAK,cACH,MAAO,mEACT,IAAK,WACH,MAAO,2EACT,IAAK,kBACH,MAAO,2EACT,IAAK,OACH,MAAO,uEAOb,GAAoB,YAAhBiB,EACF,OAAOjB,GACL,IAAK,WACH,MAAO,wEACT,IAAK,WACH,MAAO,oEACT,IAAK,aACH,MAAO,gEACT,IAAK,SACH,MAAO,4DACT,QACE,MAAO,gEAKb,GAAoB,YAAhBiB,EACF,OAAOjB,GACL,IAAK,QAUL,QACE,MAAO,gEATT,IAAK,OACH,MAAO,gEACT,IAAK,OACH,MAAO,oEACT,IAAK,UACH,MAAO,4DACT,IAAK,YACH,MAAO,wEAOb,MAAO,+DAA+D,EAe3DkB,EAAgBA,CAC3BlB,EACAiB,EACAE,KAGA,GAAIA,EAAG,CACL,GAAoB,SAAhBF,EAAwB,CAC1B,MAAMG,EAAc,gBAAAC,OAAmBrB,GACjCsB,EAAaH,EAAEC,GAErB,GAAIE,IAAeF,EACjB,OAAOE,CAEX,CACA,GAAoB,YAAhBL,EAA2B,CAC7B,MAAMG,EAAc,mBAAAC,OAAsBrB,GACpCsB,EAAaH,EAAEC,GAErB,GAAIE,IAAeF,EACjB,OAAOE,CAEX,CACA,GAAoB,YAAhBL,EAA2B,CAC7B,MAAMG,EAAc,mBAAAC,OAAsBrB,EAAOL,eAC3C2B,EAAaH,EAAEC,GACrB,GAAIE,IAAeF,EACjB,OAAOE,CAEX,CACF,CAGA,GAAoB,SAAhBL,EACF,OAAOjB,GACL,IAAK,OAAQ,MAAO,QACpB,IAAK,cAAe,MAAO,iBAC3B,IAAK,WAAY,MAAO,gBACxB,IAAK,kBAAmB,MAAO,wBAC/B,IAAK,OAAQ,MAAO,WACpB,QAAS,OAAOA,EAKpB,GAAoB,YAAhBiB,EACF,OAAOjB,GACL,IAAK,WAAY,MAAO,QACxB,IAAK,WAAY,MAAO,YACxB,IAAK,aAAc,MAAO,gBAC1B,IAAK,SAAU,MAAO,YACtB,QAAS,OAAOA,EAKpB,GAAoB,YAAhBiB,EACF,OAAOjB,GACL,IAAK,QAAS,MAAO,UACrB,IAAK,OAAQ,MAAO,WACpB,IAAK,OAAQ,MAAO,UACpB,IAAK,UAAW,MAAO,mBACvB,IAAK,YAAa,MAAO,YACzB,QAAS,OAAOA,EAKpB,OAAOA,EAAOuB,OAAO,GAAGC,cAAgBxB,EAAOyB,MAAM,GAAGC,QAAQ,KAAM,IAAI,C,iGC7IrE,MAAMC,EAA8CC,IAA6D,IAADC,EAAA,IAA3D,OAAEC,EAAM,QAAEC,EAASC,aAAcC,GAAqBL,EAC9G,MAAM,EAAET,IAAMe,EAAAA,EAAAA,MAERC,EAAQ,IAAI/C,KACZgD,EAAW,GAAAf,OAAMc,EAAME,cAAa,KAAAhB,QAAKc,EAAMG,WAAa,GAAGC,WAAWC,SAAS,EAAG,KAAI,KAAAnB,OAAIc,EAAMM,UAAUF,WAAWC,SAAS,EAAG,OAEpIE,EAAWC,IAAgBC,EAAAA,EAAAA,UAAgB,KAC3CZ,EAAca,IAAmBD,EAAAA,EAAAA,UAAiBX,GAAuBG,IACzEU,EAASC,IAAcH,EAAAA,EAAAA,WAAS,IAChCI,EAAeC,IAAoBL,EAAAA,EAAAA,UAAiB,UACpDM,EAAgBC,IAAqBP,EAAAA,EAAAA,UAAqB,OAC1DQ,EAAOC,IAAYT,EAAAA,EAAAA,UAAwB,MAG5CU,EAA2BA,KAC7B,IAAKJ,EAAgB,OAAO,EAE5B,IAKI,OAHiBA,EAAeK,UAAUC,MAAM,KAAK,KAGjCxB,CACxB,CAAE,MAAOoB,GAEL,OADAK,QAAQL,MAAM,gEAA8DA,IACrE,CACX,GAGEM,GAAiBC,EAAAA,EAAAA,cAAYC,UAC/B,IACIP,EAAS,MACTN,GAAW,GAGX,IADcc,aAAaC,QAAQ,SAI/B,OAFAT,EAASlC,EAAE,2CACX4B,GAAW,GAIf,MAAMgB,EAAgB/B,EAIhBgC,EAAkB,WAFDC,EAAAA,EAAcC,IAAI,GAAD7C,OAAI8C,EAAAA,GAAcC,SAASC,KAAI,UAAAhD,OAAS0C,KAE3CO,MAAMC,MAAK,CAACC,EAAGC,IACzC,IAAIrF,KAAKoF,EAAEjB,WAAWhE,UAAY,IAAIH,KAAKqF,EAAElB,WAAWhE,YAGnEoD,EAAaqB,GAGb,MAAMU,QAAuBT,EAAAA,EAAcC,IAAIC,EAAAA,GAAcC,SAASO,QAElED,EAAeJ,MAAQM,OAAOC,KAAKH,EAAeJ,MAAMxF,OAAS,EACjEqE,EAAkBuB,EAAeJ,MAEjCnB,EAAkB,MAGtBJ,GAAW,EACf,CAAE,MAAOK,GACLK,QAAQL,MAAM,yCAA0CA,GACxDC,EAASlC,EAAE,4BACX4B,GAAW,EACf,IACD,CAACf,EAAcb,IA8HlB,IA5HA2D,EAAAA,EAAAA,YAAU,KACFhD,GACA4B,GACJ,GACD,CAAC5B,EAAQ4B,KAGZoB,EAAAA,EAAAA,YAAU,KACN,IAAIC,EAAe,EAwBnB,GArB0BrC,EAAUsC,QAAOC,IAAYC,EAAAA,EAAAA,IAAkCD,EAAUjD,KAGjFmD,SAASF,IACvB,GAAIA,EAASG,QACT,IACI,MAAMC,EAAQ,IAAIjG,KAAK6F,EAAS1B,WAE1B+B,EADM,IAAIlG,KAAK6F,EAASG,SACb7F,UAAY8F,EAAM9F,UAEnC,GAAI+F,EAAO,EAAG,CACV,MAAMC,EAAUC,KAAKC,MAAMH,EAAI,KAC/BP,GAAgBQ,CACpB,CACJ,CAAE,MAAOnC,GACLK,QAAQL,MAAM,6BAA8BA,EAChD,CACJ,IAIAF,GAAkBI,IAClB,IACI,MAAMoC,EAAc,IAAItG,KAAK8D,EAAeK,WACtCpE,EAAM,IAAIC,KAGhB,IAAIkG,EAEJ,GAAIpC,EAAeyC,SAAU,CAAC,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAGzB,MAAMC,EAAY,IAAIC,KAAKC,eAAe,QAAS,CAC/CC,SAAUrE,EAAeyC,SACzB6B,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,QAAQ,IAINC,EAAaX,EAAUY,cAActC,GAYrCuC,GAXiB,IAAI7I,KACvB8I,UAAgD,QAAvCtC,EAAAmC,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAgH,OAAA,EAAvCA,EAAyC9E,QAAS,KAC3DoH,UAAiD,QAAxCrC,EAAAkC,EAAWI,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAAiH,OAAA,EAAxCA,EAA0C/E,QAAS,KAAO,EACnEoH,UAA+C,QAAtCpC,EAAAiC,EAAWI,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAAkH,OAAA,EAAtCA,EAAwChF,QAAS,KAC1DoH,UAAgD,QAAvCnC,EAAAgC,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAmH,OAAA,EAAvCA,EAAyCjF,QAAS,KAC3DoH,UAAkD,QAAzClC,EAAA+B,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAoH,OAAA,EAAzCA,EAA2ClF,QAAS,KAC7DoH,UAAkD,QAAzCjC,EAAA8B,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAqH,OAAA,EAAzCA,EAA2CnF,QAAS,KAC7D,GAIasG,EAAUY,cAAc7I,IAcnCkJ,GAbe,IAAIjJ,KACrB8I,UAA8C,QAArChC,EAAA+B,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAsH,OAAA,EAArCA,EAAuCpF,QAAS,KACzDoH,UAA+C,QAAtC/B,EAAA8B,EAASE,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAAuH,OAAA,EAAtCA,EAAwCrF,QAAS,KAAO,EACjEoH,UAA6C,QAApC9B,EAAA6B,EAASE,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAAwH,OAAA,EAApCA,EAAsCtF,QAAS,KACxDoH,UAA8C,QAArC7B,EAAA4B,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAyH,OAAA,EAArCA,EAAuCvF,QAAS,KACzDoH,UAAgD,QAAvC5B,EAAA2B,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAA0H,OAAA,EAAvCA,EAAyCxF,QAAS,KAC3DoH,UAAgD,QAAvC3B,EAAA0B,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAA2H,OAAA,EAAvCA,EAAyCzF,QAAS,KAC3D,GAMiB1B,KAAKkJ,IACtBJ,UAAgD,QAAvC1B,EAAAuB,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAA4H,OAAA,EAAvCA,EAAyC1F,QAAS,KAC3DoH,UAAiD,QAAxCzB,EAAAsB,EAAWI,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAA6H,OAAA,EAAxCA,EAA0C3F,QAAS,KAAO,EACnEoH,UAA+C,QAAtCxB,EAAAqB,EAAWI,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAA8H,OAAA,EAAtCA,EAAwC5F,QAAS,KAC1DoH,UAAgD,QAAvCvB,EAAAoB,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAA+H,OAAA,EAAvCA,EAAyC7F,QAAS,KAC3DoH,UAAkD,QAAzCtB,EAAAmB,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAgI,OAAA,EAAzCA,EAA2C9F,QAAS,KAC7DoH,UAAkD,QAAzCrB,EAAAkB,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAiI,OAAA,EAAzCA,EAA2C/F,QAAS,KAC7D,IAcJwE,EAXmBlG,KAAKkJ,IACpBJ,UAA8C,QAArCpB,EAAAmB,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAkI,OAAA,EAArCA,EAAuChG,QAAS,KACzDoH,UAA+C,QAAtCnB,EAAAkB,EAASE,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAAmI,OAAA,EAAtCA,EAAwCjG,QAAS,KAAO,EACjEoH,UAA6C,QAApClB,EAAAiB,EAASE,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAAoI,OAAA,EAApCA,EAAsClG,QAAS,KACxDoH,UAA8C,QAArCjB,EAAAgB,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAqI,OAAA,EAArCA,EAAuCnG,QAAS,KACzDoH,UAAgD,QAAvChB,EAAAe,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAsI,OAAA,EAAvCA,EAAyCpG,QAAS,KAC3DoH,UAAgD,QAAvCf,EAAAc,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAuI,OAAA,EAAvCA,EAAyCrG,QAAS,KAC3D,GAIgBuH,CACxB,MAEI/C,EAAOnG,EAAII,UAAYmG,EAAYnG,UAGvC,GAAI+F,EAAO,EAAG,CACV,MAAMC,EAAUC,KAAKC,MAAMH,EAAI,KAC/BP,GAAgBQ,CACpB,CACJ,CAAE,MAAOnC,GACLK,QAAQL,MAAM,uDAAwDA,EAC1E,CAIJ,MAAMmF,EAAQ/C,KAAKC,MAAMV,EAAe,IAClCQ,EAAUR,EAAe,GACzByD,EAAiB,GAAAnH,OAAMkH,EAAK,MAAAlH,OAAKkE,EAAO,KAC9CtC,EAAiBuF,EAAkB,GACpC,CAAC9F,EAAWQ,EAAgBlB,KAE1BF,EAAQ,OAAO,KAGpB,MAAM2G,EAAoB/F,EAAUsC,QAAOC,IAAYC,EAAAA,EAAAA,IAAkCD,EAAUjD,KAoEnG,OACI0G,EAAAA,EAAAA,KAAA,OAAK3H,UAAU,iFAAgF4H,UAC3FC,EAAAA,EAAAA,MAAA,OAAK7H,UAAU,+HAA8H4H,SAAA,EACzIC,EAAAA,EAAAA,MAAA,OAAK7H,UAAU,sEAAqE4H,SAAA,EAChFD,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,wCAAuC4H,SAChDxH,EAAE,uBAAwB,CAAEV,MAAMD,EAAAA,EAAAA,IAAWwB,QAElD4G,EAAAA,EAAAA,MAAA,OAAK7H,UAAU,8BAA6B4H,SAAA,EACxCD,EAAAA,EAAAA,KAAA,SACI9J,KAAK,OACLkC,MAAOkB,EACP6G,SAAWC,IACPjG,EAAgBiG,EAAEC,OAAOjI,MAAM,EAEnCC,UAAU,uFAEd2H,EAAAA,EAAAA,KAAA,UACIM,QAASjH,EACThB,UAAU,gFAA+E4H,SAC5F,kBAMTD,EAAAA,EAAAA,KAAA,OAAK3H,UAAU,4BAA2B4H,SACrC7F,GACG4F,EAAAA,EAAAA,KAAA,OAAK3H,UAAU,wCAAuC4H,UAClDD,EAAAA,EAAAA,KAAA,OAAK3H,UAAU,wFAE6I,IAAhK2B,EAAUsC,QAAOC,IAAYC,EAAAA,EAAAA,IAAkCD,EAAUjD,KAAuC,OAArBiD,EAASG,SAAoB9B,OAA6BxE,QACrJ4J,EAAAA,EAAAA,KAAA,OAAK3H,UAAU,mDAAkD4H,SAC5DxH,EAAE,+BAGPyH,EAAAA,EAAAA,MAAA,SAAO7H,UAAU,2DAA0D4H,SAAA,EACvED,EAAAA,EAAAA,KAAA,SAAO3H,UAAU,8BAA6B4H,UAC1CC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACID,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,oGAAmG4H,SAC5GxH,EAAE,kCAEPuH,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,oGAAmG4H,SAC5GxH,EAAE,gCAEPuH,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,oGAAmG4H,SAC5GxH,EAAE,qCAEPuH,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,oGAAmG4H,SAC5GxH,EAAE,wCAIfyH,EAAAA,EAAAA,MAAA,SAAO7H,UAAU,0EAAyE4H,SAAA,CACrFF,EACEzD,QAAOC,GAAiC,OAArBA,EAASG,UAE5Bb,MAAK,CAACC,EAAGC,IAAM,IAAIrF,KAAKoF,EAAEjB,WAAWhE,UAAY,IAAIH,KAAKqF,EAAElB,WAAWhE,YACvE0J,KAAKhE,IACJ2D,EAAAA,EAAAA,MAAA,MAAsB7H,UAAU,0CAAyC4H,SAAA,EACrED,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,UAC/EO,EAAAA,EAAAA,IAAWjE,EAAS1B,cAEzBmF,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,SAC/E1D,EAASG,SAAU8D,EAAAA,EAAAA,IAAWjE,EAASG,SAAW,OAEvDsD,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,UAC/EQ,EAAAA,EAAAA,IAAkBlE,EAAS1B,UAAW0B,EAASG,YAEpDsD,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,SAC/E1D,EAASmE,OAAOC,SAXhBpE,EAASqE,MAiBrBhG,MACGsF,EAAAA,EAAAA,MAAA,MAAI7H,UAAU,iFAAgF4H,SAAA,EAC1FD,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,UAC/EO,EAAAA,EAAAA,IAAWhG,EAAeK,cAE/BmF,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,UAChFD,EAAAA,EAAAA,KAAA,QAAM3H,UAAU,SAAQ4H,SAAExH,EAAE,wBAEhCuH,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,sHAAqH4H,SApJvIY,MAC5B,IAAKrG,EAAgB,MAAO,IAE5B,MAAMmC,EAAQ,IAAIjG,KAAK8D,EAAeK,WAChCpE,EAAM,IAAIC,KAMhB,IAAIkG,EAEJ,GAAIpC,EAAeyC,SAAU,CAAC,IAAD6D,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAGzB,MAAM/C,EAAY,IAAIC,KAAKC,eAAe,QAAS,CAC/CC,SAAUrE,EAAeyC,SACzB6B,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,QAAQ,IAINC,EAAaX,EAAUY,cAAc3C,GACrCgD,EAAejJ,KAAKkJ,IACtBJ,UAAgD,QAAvCsB,EAAAzB,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAA4K,OAAA,EAAvCA,EAAyC1I,QAAS,KAC3DoH,UAAiD,QAAxCuB,EAAA1B,EAAWI,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAA6K,OAAA,EAAxCA,EAA0C3I,QAAS,KAAO,EACnEoH,UAA+C,QAAtCwB,EAAA3B,EAAWI,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAA8K,OAAA,EAAtCA,EAAwC5I,QAAS,KAC1DoH,UAAgD,QAAvCyB,EAAA5B,EAAWI,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAA+K,OAAA,EAAvCA,EAAyC7I,QAAS,KAC3DoH,UAAkD,QAAzC0B,EAAA7B,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAgL,OAAA,EAAzCA,EAA2C9I,QAAS,KAC7DoH,UAAkD,QAAzC2B,EAAA9B,EAAWI,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAiL,OAAA,EAAzCA,EAA2C/I,QAAS,KAC7D,GAIEmH,EAAWb,EAAUY,cAAc7I,GAYzCmG,EAXmBlG,KAAKkJ,IACpBJ,UAA8C,QAArC4B,EAAA7B,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAkL,OAAA,EAArCA,EAAuChJ,QAAS,KACzDoH,UAA+C,QAAtC6B,EAAA9B,EAASE,MAAKC,GAAgB,UAAXA,EAAExJ,cAAiB,IAAAmL,OAAA,EAAtCA,EAAwCjJ,QAAS,KAAO,EACjEoH,UAA6C,QAApC8B,EAAA/B,EAASE,MAAKC,GAAgB,QAAXA,EAAExJ,cAAe,IAAAoL,OAAA,EAApCA,EAAsClJ,QAAS,KACxDoH,UAA8C,QAArC+B,EAAAhC,EAASE,MAAKC,GAAgB,SAAXA,EAAExJ,cAAgB,IAAAqL,OAAA,EAArCA,EAAuCnJ,QAAS,KACzDoH,UAAgD,QAAvCgC,EAAAjC,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAsL,OAAA,EAAvCA,EAAyCpJ,QAAS,KAC3DoH,UAAgD,QAAvCiC,EAAAlC,EAASE,MAAKC,GAAgB,WAAXA,EAAExJ,cAAkB,IAAAuL,OAAA,EAAvCA,EAAyCrJ,QAAS,KAC3D,GAIgBuH,CACxB,MAEI/C,EAAOnG,EAAII,UAAY8F,EAAM9F,UAIjC,MAAMwF,EAAeS,KAAKC,MAAMH,EAAI,KAC9BiD,EAAQ/C,KAAKC,MAAMV,EAAe,IAClCQ,EAAUR,EAAe,GAE/B,MAAM,GAAN1D,OAAUkH,EAAK,MAAAlH,OAAKkE,EAAO,OAAAlE,OAAMF,EAAE,0BAAyB,MAuFvBoI,MAELb,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,uEAAsE4H,UAC1D,QAArB9G,EAAAqB,EAAekG,cAAM,IAAAvH,OAAA,EAArBA,EAAuBwH,OAAQlI,EAAE,2BAOlDuH,EAAAA,EAAAA,KAAA,SAAO3H,UAAU,+BAA8B4H,UAC3CC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACIC,EAAAA,EAAAA,MAAA,MAAIwB,QAAS,EAAGrJ,UAAU,4EAA2E4H,SAAA,CAChGxH,EAAE,gCAAgC,QAEvCuH,EAAAA,EAAAA,KAAA,MAAI3H,UAAU,sEAAqE4H,SAC9E3F,KAEL0F,EAAAA,EAAAA,KAAA,uBAOtB,C","sources":["utils/expiryUtils.ts","utils/statusUtils.tsx","components/WorktimeModal.tsx"],"sourcesContent":["/**\r\n * Utility-Funktionen für die Bestimmung des Ablauf-Status von Requests und Todos\r\n * \r\n * Diese Utilities sind wiederverwendbar für alle Tabellen/Komponenten, die dueDate anzeigen.\r\n */\r\nimport React from 'react';\r\n\r\n/**\r\n * Bestimmt den Ablauf-Status eines Items basierend auf dueDate\r\n */\r\nexport type ExpiryStatus = 'none' | 'expired' | 'critical';\r\n\r\n/**\r\n * Konfiguration für Ablauf-Schwellenwerte\r\n */\r\nexport interface ExpiryThresholds {\r\n  criticalHours: number; // Nach wie vielen Stunden wird es kritisch (rot)?\r\n}\r\n\r\n/**\r\n * Standard-Schwellenwerte für verschiedene Item-Typen\r\n */\r\nexport const DEFAULT_EXPIRY_THRESHOLDS: Record<'request' | 'todo', ExpiryThresholds> = {\r\n  request: {\r\n    criticalHours: 24 // Nach 24h wird ein Request kritisch (rot)\r\n  },\r\n  todo: {\r\n    criticalHours: 24 // Nach 24h wird ein Todo kritisch (rot)\r\n  }\r\n};\r\n\r\n/**\r\n * Bestimmt den Typ eines Todos basierend auf Titel und Beschreibung\r\n * @param title Der Titel des Todos\r\n * @param description Die Beschreibung des Todos\r\n * @returns 'hourly' | 'daily' | 'standard'\r\n */\r\nexport function getTodoType(title: string, description?: string | null): 'hourly' | 'daily' | 'standard' {\r\n  const titleLower = title.toLowerCase();\r\n  const descLower = (description || '').toLowerCase();\r\n  \r\n  if (titleLower.includes('stündlich') || descLower.includes('stündlich')) {\r\n    return 'hourly';\r\n  }\r\n  if (titleLower.includes('täglich') || descLower.includes('täglich')) {\r\n    return 'daily';\r\n  }\r\n  return 'standard';\r\n}\r\n\r\n/**\r\n * Schwellenwerte für verschiedene Todo-Typen\r\n */\r\nconst TODO_EXPIRY_THRESHOLDS: Record<string, ExpiryThresholds> = {\r\n  hourly: { criticalHours: 2 },    // Stündliche Todos: nach 2h kritisch\r\n  daily: { criticalHours: 6 },     // Tägliche Todos: nach 6h kritisch\r\n  standard: { criticalHours: 24 }  // Standard: nach 24h kritisch\r\n};\r\n\r\n/**\r\n * Bestimmt den Ablauf-Status eines Items\r\n * \r\n * @param dueDate Das Fälligkeitsdatum (optional)\r\n * @param type Der Typ des Items ('request' oder 'todo')\r\n * @param customThresholds Optionale benutzerdefinierte Schwellenwerte\r\n * @param title Optional: Titel für Todo-Typ-Erkennung\r\n * @param description Optional: Beschreibung für Todo-Typ-Erkennung\r\n * @returns 'none' | 'expired' | 'critical'\r\n */\r\nexport function getExpiryStatus(\r\n  dueDate: string | null | undefined,\r\n  type: 'request' | 'todo' = 'request',\r\n  customThresholds?: ExpiryThresholds,\r\n  title?: string,\r\n  description?: string | null\r\n): ExpiryStatus {\r\n  if (!dueDate) {\r\n    return 'none';\r\n  }\r\n\r\n  const now = new Date();\r\n  const due = new Date(dueDate);\r\n  const hoursOverdue = (now.getTime() - due.getTime()) / (1000 * 60 * 60);\r\n\r\n  // Wenn nicht abgelaufen\r\n  if (hoursOverdue <= 0) {\r\n    return 'none';\r\n  }\r\n\r\n  // Bestimme Schwellenwerte\r\n  let thresholds: ExpiryThresholds;\r\n  \r\n  if (customThresholds) {\r\n    thresholds = customThresholds;\r\n  } else if (type === 'todo' && title) {\r\n    // Für Todos: Typ-basierte Schwellenwerte\r\n    const todoType = getTodoType(title, description);\r\n    thresholds = TODO_EXPIRY_THRESHOLDS[todoType];\r\n  } else {\r\n    thresholds = DEFAULT_EXPIRY_THRESHOLDS[type];\r\n  }\r\n\r\n  // Wenn über kritischem Schwellenwert\r\n  if (hoursOverdue >= thresholds.criticalHours) {\r\n    return 'critical';\r\n  }\r\n\r\n  // Wenn abgelaufen aber noch nicht kritisch\r\n  return 'expired';\r\n}\r\n\r\n/**\r\n * Gibt die CSS-Klassen für die Ablauf-Markierung zurück\r\n * \r\n * @param status Der Ablauf-Status\r\n * @returns CSS-Klassen für Border und Hintergrund\r\n */\r\nexport function getExpiryColorClasses(status: ExpiryStatus): {\r\n  borderClass: string;\r\n  bgClass: string;\r\n  textClass: string;\r\n  badgeClass: string; // Für Badge-artige Darstellung (z.B. im Header)\r\n} {\r\n  switch (status) {\r\n    case 'expired':\r\n      return {\r\n        borderClass: 'border-orange-500 dark:border-orange-600',\r\n        bgClass: 'bg-orange-50 dark:bg-orange-900/20',\r\n        textClass: 'text-orange-700 dark:text-orange-300',\r\n        badgeClass: 'bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300'\r\n      };\r\n    case 'critical':\r\n      return {\r\n        borderClass: 'border-red-500 dark:border-red-600',\r\n        bgClass: 'bg-red-50 dark:bg-red-900/20',\r\n        textClass: 'text-red-700 dark:text-red-700',\r\n        badgeClass: 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300'\r\n      };\r\n    default:\r\n      return {\r\n        borderClass: '',\r\n        bgClass: '',\r\n        textClass: '',\r\n        badgeClass: ''\r\n      };\r\n  }\r\n}\r\n\r\n/**\r\n * Gibt die Highlight-Farbe für DataCard zurück\r\n * \r\n * @param status Der Ablauf-Status\r\n * @returns 'orange' | 'red' | undefined\r\n */\r\nexport function getExpiryHighlightColor(status: ExpiryStatus): 'orange' | 'red' | undefined {\r\n  switch (status) {\r\n    case 'expired':\r\n      return 'orange';\r\n    case 'critical':\r\n      return 'red';\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Erstellt ein MetadataItem für dueDate mit automatischer Farbmarkierung bei Ablauf\r\n * \r\n * @param dueDate Das Fälligkeitsdatum\r\n * @param type Der Typ des Items ('request' oder 'todo')\r\n * @param title Optional: Titel für Todo-Typ-Erkennung\r\n * @param description Optional: Beschreibung für Todo-Typ-Erkennung\r\n * @param icon Das Icon für das Metadaten-Item\r\n * @param label Das Label für das Metadaten-Item\r\n * @param formatDate Function zum Formatieren des Datums\r\n * @returns MetadataItem mit farblich markiertem dueDate\r\n */\r\nexport function createDueDateMetadataItem(\r\n  dueDate: string | null | undefined,\r\n  type: 'request' | 'todo' = 'request',\r\n  title?: string,\r\n  description?: string | null,\r\n  icon?: React.ReactNode,\r\n  label: string = 'Fälligkeit',\r\n  formatDate: (date: Date) => string = (date) => date.toLocaleDateString(),\r\n  useBadge: boolean = false // Für Badge-artige Darstellung im Header\r\n): { icon?: React.ReactNode; label: string; value: string; className?: string } {\r\n  const expiryStatus = getExpiryStatus(dueDate, type, undefined, title, description);\r\n  const expiryColors = getExpiryColorClasses(expiryStatus);\r\n  \r\n  return {\r\n    icon,\r\n    label,\r\n    value: dueDate ? formatDate(new Date(dueDate)) : '-',\r\n    className: expiryStatus !== 'none' \r\n      ? (useBadge ? expiryColors.badgeClass : expiryColors.textClass)\r\n      : undefined\r\n  };\r\n}\r\n\r\n","/**\r\n * Zentrale Status-Utils zur Eliminierung von Code-Duplikation\r\n * \r\n * Diese Datei konsolidiert Status-Farben und -Texte, die zuvor in mehreren Komponenten\r\n * dupliziert waren (Requests.tsx, Worktracker.tsx, TodoAnalyticsTab.tsx, etc.)\r\n * \r\n * WICHTIG: Die Logik ist exakt identisch mit der vorherigen Implementierung.\r\n * Nur die Code-Duplikation wurde entfernt, keine Funktionalitätsänderung!\r\n */\r\n\r\nimport React from 'react';\r\n\r\n/**\r\n * Gibt die CSS-Klasse für einen Status zurück\r\n * @param status - Der Status-String\r\n * @param processType - Optional: 'task' oder 'request' für spezifische Status\r\n * @returns CSS-Klassen-String für den Status\r\n */\r\nexport const getStatusColor = (status: string, processType?: 'task' | 'request' | 'invoice'): string => {\r\n  // Task Status-Farben (exakt wie in Worktracker.tsx vorher)\r\n  if (processType === 'task') {\r\n    switch(status) {\r\n      case 'open':\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n      case 'in_progress':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\r\n      case 'improval':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\r\n      case 'quality_control':\r\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300';\r\n      case 'done':\r\n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n    }\r\n  }\r\n  \r\n  // Request Status-Farben\r\n  if (processType === 'request') {\r\n    switch(status) {\r\n      case 'approval':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';\r\n      case 'approved':\r\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\r\n      case 'to_improve':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';\r\n      case 'denied':\r\n        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n    }\r\n  }\r\n  \r\n  // Invoice Status-Farben\r\n  if (processType === 'invoice') {\r\n    switch(status) {\r\n      case 'DRAFT':\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n      case 'SENT':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';\r\n      case 'PAID':\r\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\r\n      case 'OVERDUE':\r\n        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';\r\n      case 'CANCELLED':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n    }\r\n  }\r\n  \r\n  // Fallback für unbekannte Status\r\n  return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n};\r\n\r\n/**\r\n * Übersetzungs-Funktion Typ (z.B. react-i18next's t() Funktion)\r\n */\r\nexport type TranslationFunction = (key: string) => string;\r\n\r\n/**\r\n * Gibt den übersetzten Status-Text zurück\r\n * @param status - Der Status-String\r\n * @param processType - Optional: 'task' oder 'request' für spezifische Status\r\n * @param t - Optional: Übersetzungsfunktion (z.B. von react-i18next)\r\n * @returns Übersetzter Status-Text\r\n */\r\nexport const getStatusText = (\r\n  status: string, \r\n  processType?: 'task' | 'request' | 'invoice',\r\n  t?: TranslationFunction\r\n): string => {\r\n  // Wenn Übersetzungsfunktion vorhanden, verwende diese\r\n  if (t) {\r\n    if (processType === 'task') {\r\n      const translationKey = `tasks.status.${status}`;\r\n      const translated = t(translationKey);\r\n      // Falls Übersetzung gefunden (nicht gleich key), verwende diese\r\n      if (translated !== translationKey) {\r\n        return translated;\r\n      }\r\n    }\r\n    if (processType === 'request') {\r\n      const translationKey = `requests.status.${status}`;\r\n      const translated = t(translationKey);\r\n      // Falls Übersetzung gefunden (nicht gleich key), verwende diese\r\n      if (translated !== translationKey) {\r\n        return translated;\r\n      }\r\n    }\r\n    if (processType === 'invoice') {\r\n      const translationKey = `invoices.status.${status.toLowerCase()}`;\r\n      const translated = t(translationKey);\r\n      if (translated !== translationKey) {\r\n        return translated;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Tasks (hardcoded - keine Übersetzungen in Code gefunden)\r\n  if (processType === 'task') {\r\n    switch(status) {\r\n      case 'open': return 'Offen';\r\n      case 'in_progress': return 'In Bearbeitung';\r\n      case 'improval': return 'Nachbesserung';\r\n      case 'quality_control': return 'Qualitätskontrolle';\r\n      case 'done': return 'Erledigt';\r\n      default: return status;\r\n    }\r\n  }\r\n  \r\n  // Requests (Fallback wenn keine Übersetzung)\r\n  if (processType === 'request') {\r\n    switch(status) {\r\n      case 'approval': return 'Offen';\r\n      case 'approved': return 'Genehmigt';\r\n      case 'to_improve': return 'Nachbesserung';\r\n      case 'denied': return 'Abgelehnt';\r\n      default: return status;\r\n    }\r\n  }\r\n  \r\n  // Invoices (Fallback wenn keine Übersetzung)\r\n  if (processType === 'invoice') {\r\n    switch(status) {\r\n      case 'DRAFT': return 'Entwurf';\r\n      case 'SENT': return 'Gesendet';\r\n      case 'PAID': return 'Bezahlt';\r\n      case 'OVERDUE': return 'Überfällig';\r\n      case 'CANCELLED': return 'Storniert';\r\n      default: return status;\r\n    }\r\n  }\r\n  \r\n  // Default: Return capitalized status\r\n  return status.charAt(0).toUpperCase() + status.slice(1).replace(/_/g, ' ');\r\n};\r\n\r\n/**\r\n * React-Komponente für Status-Badge\r\n * @param status - Der Status-String\r\n * @param processType - Optional: 'task', 'request' oder 'invoice' für spezifische Status\r\n * @param t - Optional: Übersetzungsfunktion (z.B. von react-i18next)\r\n * @returns JSX-Element für Status-Badge\r\n */\r\nexport const StatusBadge: React.FC<{ \r\n  status: string, \r\n  processType?: 'task' | 'request' | 'invoice',\r\n  t?: TranslationFunction \r\n}> = ({ status, processType, t }) => {\r\n  return (\r\n    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(status, processType)} status-col`}>\r\n      {getStatusText(status, processType, t)}\r\n    </span>\r\n  );\r\n};\r\n\r\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport axiosInstance from '../config/axios.ts';\nimport { API_ENDPOINTS } from '../config/api.ts';\nimport { format, parseISO } from 'date-fns';\nimport { formatDate, formatTime, calculateDuration, isWorktimeRelevantForSelectedDate } from '../utils/dateUtils.ts';\n\n// Schnittstelle für das WorktimeModal\nexport interface WorktimeModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    selectedDate?: string; // Optional - wenn nicht angegeben, wird das heutige Datum verwendet\n}\n\nexport const WorktimeModal: React.FC<WorktimeModalProps> = ({ isOpen, onClose, selectedDate: initialSelectedDate }) => {\n    const { t } = useTranslation();\n    // Initialisiere das selectedDate mit dem übergebenen Datum oder dem heutigen Datum\n    const today = new Date();\n    const defaultDate = `${today.getFullYear()}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;\n    \n    const [worktimes, setWorktimes] = useState<any[]>([]);\n    const [selectedDate, setSelectedDate] = useState<string>(initialSelectedDate || defaultDate);\n    const [loading, setLoading] = useState(true);\n    const [totalDuration, setTotalDuration] = useState<string>('0h 0m');\n    const [activeWorktime, setActiveWorktime] = useState<any | null>(null);\n    const [error, setError] = useState<string | null>(null);\n\n    // Prüfe, ob die aktive Zeiterfassung am ausgewählten Tag begonnen hat\n    const isActiveWorktimeRelevant = (): boolean => {\n        if (!activeWorktime) return false;\n        \n        try {\n            // Extrahiere nur den Datumsteil (YYYY-MM-DD) aus dem startTime ISO-String\n            const dateOnly = activeWorktime.startTime.split('T')[0];\n            \n            // Vergleiche mit selectedDate\n            return dateOnly === selectedDate;\n        } catch (error) {\n            console.error(\"Fehler beim Prüfen der Relevanz der aktiven Zeiterfassung:\", error);\n            return false;\n        }\n    };\n\n    const fetchWorktimes = useCallback(async () => {\n        try {\n            setError(null);\n            setLoading(true);\n            \n            const token = localStorage.getItem('token');\n            if (!token) {\n                setError(t('worktime.tracker.notAuthenticated'));\n                setLoading(false);\n                return;\n            }\n            \n            const formattedDate = selectedDate;\n            \n            const response = await axiosInstance.get(`${API_ENDPOINTS.WORKTIME.BASE}?date=${formattedDate}`);\n            \n            const sortedWorktimes = [...response.data].sort((a, b) => {\n                return new Date(a.startTime).getTime() - new Date(b.startTime).getTime();\n            });\n            \n            setWorktimes(sortedWorktimes);\n            \n            // Auch die aktive Zeiterfassung abrufen\n            const activeResponse = await axiosInstance.get(API_ENDPOINTS.WORKTIME.ACTIVE);\n            \n            if (activeResponse.data && Object.keys(activeResponse.data).length > 0) {\n                setActiveWorktime(activeResponse.data);\n            } else {\n                setActiveWorktime(null);\n            }\n            \n            setLoading(false);\n        } catch (error) {\n            console.error('Fehler beim Laden der Zeiterfassungen:', error);\n            setError(t('worktime.list.loadError'));\n            setLoading(false);\n        }\n    }, [selectedDate, t]);\n\n    useEffect(() => {\n        if (isOpen) {\n            fetchWorktimes();\n        }\n    }, [isOpen, fetchWorktimes]);\n\n    // Berechne die Gesamtdauer aller Zeiteinträge für den Tag\n    useEffect(() => {\n        let totalMinutes = 0;\n        \n        // Filtere die relevanten Einträge für das ausgewählte Datum\n        const relevantWorktimes = worktimes.filter(worktime => isWorktimeRelevantForSelectedDate(worktime, selectedDate));\n        \n        // Berechne die Dauer der abgeschlossenen Zeiteinträge\n        relevantWorktimes.forEach((worktime) => {\n            if (worktime.endTime) {\n                try {\n                    const start = new Date(worktime.startTime);\n                    const end = new Date(worktime.endTime);\n                    const diff = end.getTime() - start.getTime();\n                    \n                    if (diff > 0) {\n                        const minutes = Math.floor(diff / (1000 * 60));\n                        totalMinutes += minutes;\n                    }\n                } catch (error) {\n                    console.error('Fehler bei der Berechnung:', error);\n                }\n            }\n        });\n        \n        // Füge die aktive Zeiterfassung hinzu, wenn sie für den ausgewählten Tag relevant ist\n        if (activeWorktime && isActiveWorktimeRelevant()) {\n            try {\n                const activeStart = new Date(activeWorktime.startTime);\n                const now = new Date();\n                \n                // WICHTIG: Wenn timezone gespeichert ist, müssen wir die Differenz in der lokalen Zeitzone berechnen\n                let diff: number;\n                \n                if (activeWorktime.timezone) {\n                    // KORREKT: Verwende Intl.DateTimeFormat um lokale Komponenten zu extrahieren\n                    // Dann verwende fromZonedTime() um lokale Zeit in UTC umzuwandeln\n                    const formatter = new Intl.DateTimeFormat('en-US', {\n                        timeZone: activeWorktime.timezone,\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit',\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        second: '2-digit',\n                        hour12: false\n                    });\n                    \n                    // Extrahiere lokale Zeitkomponenten für start\n                    const startParts = formatter.formatToParts(activeStart);\n                    const startLocalDate = new Date(\n                        parseInt(startParts.find(p => p.type === 'year')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'month')?.value || '0') - 1,\n                        parseInt(startParts.find(p => p.type === 'day')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'hour')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'minute')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'second')?.value || '0'),\n                        0\n                    );\n                    \n                    // Extrahiere lokale Zeitkomponenten für now\n                    const nowParts = formatter.formatToParts(now);\n                    const nowLocalDate = new Date(\n                        parseInt(nowParts.find(p => p.type === 'year')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'month')?.value || '0') - 1,\n                        parseInt(nowParts.find(p => p.type === 'day')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'hour')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'minute')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'second')?.value || '0'),\n                        0\n                    );\n                    \n                    // KORREKT: Berechne Differenz direkt aus lokalen Komponenten\n                    // Verwende Date.UTC() um UTC-Daten zu erstellen, die die lokalen Komponenten repräsentieren\n                    // Die Differenz zwischen zwei UTC-Daten mit lokalen Komponenten ist gleich der lokalen Differenz\n                    const startLocalMs = Date.UTC(\n                        parseInt(startParts.find(p => p.type === 'year')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'month')?.value || '0') - 1,\n                        parseInt(startParts.find(p => p.type === 'day')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'hour')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'minute')?.value || '0'),\n                        parseInt(startParts.find(p => p.type === 'second')?.value || '0'),\n                        0\n                    );\n                    \n                    const nowLocalMs = Date.UTC(\n                        parseInt(nowParts.find(p => p.type === 'year')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'month')?.value || '0') - 1,\n                        parseInt(nowParts.find(p => p.type === 'day')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'hour')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'minute')?.value || '0'),\n                        parseInt(nowParts.find(p => p.type === 'second')?.value || '0'),\n                        0\n                    );\n                    \n                    // Berechne die Differenz in Millisekunden (korrekt, da beide UTC-Daten mit lokalen Komponenten)\n                    diff = nowLocalMs - startLocalMs;\n                } else {\n                    // Fallback: Verwende UTC direkt (alte Berechnung)\n                    diff = now.getTime() - activeStart.getTime();\n                }\n                \n                if (diff > 0) {\n                    const minutes = Math.floor(diff / (1000 * 60));\n                    totalMinutes += minutes;\n                }\n            } catch (error) {\n                console.error(\"Fehler bei der Berechnung der aktiven Zeiterfassung:\", error);\n            }\n        }\n        \n        // Formatiere die Gesamtdauer\n        const hours = Math.floor(totalMinutes / 60);\n        const minutes = totalMinutes % 60;\n        const formattedDuration = `${hours}h ${minutes}m`;\n        setTotalDuration(formattedDuration);\n    }, [worktimes, activeWorktime, selectedDate]);\n\n    if (!isOpen) return null;\n    \n    // Berechne die relevanten Einträge für das ausgewählte Datum\n    const relevantWorktimes = worktimes.filter(worktime => isWorktimeRelevantForSelectedDate(worktime, selectedDate));\n\n    // Berechne die Dauer der aktiven Zeiterfassung\n    const calculateActiveDuration = (): string => {\n        if (!activeWorktime) return '-';\n        \n        const start = new Date(activeWorktime.startTime);\n        const now = new Date();\n        \n        // WICHTIG: Wenn timezone gespeichert ist, müssen wir die Differenz in der lokalen Zeitzone berechnen\n        // Problem: startTime ist in UTC gespeichert, aber repräsentiert lokale Zeit\n        // Lösung: Berechne die Differenz unter Berücksichtigung der Zeitzone\n        \n        let diff: number;\n        \n        if (activeWorktime.timezone) {\n            // Konvertiere beide Zeiten in die lokale Zeitzone und berechne die Differenz\n            // Verwende Intl.DateTimeFormat, um die lokalen Zeitkomponenten zu extrahieren\n            const formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: activeWorktime.timezone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            \n            // Extrahiere lokale Zeitkomponenten für start\n            const startParts = formatter.formatToParts(start);\n            const startLocalMs = Date.UTC(\n                parseInt(startParts.find(p => p.type === 'year')?.value || '0'),\n                parseInt(startParts.find(p => p.type === 'month')?.value || '0') - 1,\n                parseInt(startParts.find(p => p.type === 'day')?.value || '0'),\n                parseInt(startParts.find(p => p.type === 'hour')?.value || '0'),\n                parseInt(startParts.find(p => p.type === 'minute')?.value || '0'),\n                parseInt(startParts.find(p => p.type === 'second')?.value || '0'),\n                0\n            );\n            \n            // Extrahiere lokale Zeitkomponenten für now\n            const nowParts = formatter.formatToParts(now);\n            const nowLocalMs = Date.UTC(\n                parseInt(nowParts.find(p => p.type === 'year')?.value || '0'),\n                parseInt(nowParts.find(p => p.type === 'month')?.value || '0') - 1,\n                parseInt(nowParts.find(p => p.type === 'day')?.value || '0'),\n                parseInt(nowParts.find(p => p.type === 'hour')?.value || '0'),\n                parseInt(nowParts.find(p => p.type === 'minute')?.value || '0'),\n                parseInt(nowParts.find(p => p.type === 'second')?.value || '0'),\n                0\n            );\n            \n            // Berechne die Differenz in Millisekunden (korrekt, da beide UTC-Daten mit lokalen Komponenten)\n            diff = nowLocalMs - startLocalMs;\n        } else {\n            // Fallback: Verwende UTC direkt (alte Berechnung)\n            diff = now.getTime() - start.getTime();\n        }\n        \n        // Umrechnung in Stunden und Minuten\n        const totalMinutes = Math.floor(diff / (1000 * 60));\n        const hours = Math.floor(totalMinutes / 60);\n        const minutes = totalMinutes % 60;\n        \n        return `${hours}h ${minutes}m (${t('worktime.modal.running')})`;\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 w-full max-w-4xl max-h-[90vh] flex flex-col\">\n                <div className=\"p-4 border-b dark:border-gray-700 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-semibold dark:text-white\">\n                        {t('worktime.modal.title', { date: formatDate(selectedDate) })}\n                    </h2>\n                    <div className=\"flex items-center space-x-2\">\n                        <input\n                            type=\"date\"\n                            value={selectedDate}\n                            onChange={(e) => {\n                                setSelectedDate(e.target.value);\n                            }}\n                            className=\"border dark:border-gray-600 rounded-md px-3 py-2 dark:bg-gray-700 dark:text-white\"\n                        />\n                        <button \n                            onClick={onClose}\n                            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                        >\n                            ✕\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"overflow-y-auto flex-grow\">\n                    {loading ? (\n                        <div className=\"flex justify-center items-center h-32\">\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-300\"></div>\n                        </div>\n                    ) : worktimes.filter(worktime => isWorktimeRelevantForSelectedDate(worktime, selectedDate) && (worktime.endTime !== null || isActiveWorktimeRelevant())).length === 0 ? (\n                        <div className=\"p-4 text-center text-gray-500 dark:text-gray-400\">\n                            {t('worktime.modal.noEntries')}\n                        </div>\n                    ) : (\n                        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                                <tr>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                                        {t('worktime.list.columns.start')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                                        {t('worktime.list.columns.end')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                                        {t('worktime.list.columns.duration')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                                        {t('worktime.list.columns.branch')}\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                                {relevantWorktimes\n                                  .filter(worktime => worktime.endTime !== null)\n                                  // Sortiere nach Startzeit (frühester Eintrag zuerst)\n                                  .sort((a, b) => new Date(a.startTime).getTime() - new Date(b.startTime).getTime())\n                                  .map((worktime) => (\n                                    <tr key={worktime.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {formatTime(worktime.startTime)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {worktime.endTime ? formatTime(worktime.endTime) : '-'}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {calculateDuration(worktime.startTime, worktime.endTime)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {worktime.branch.name}\n                                        </td>\n                                    </tr>\n                                ))}\n                                \n                                {/* Aktive Zeiterfassung anzeigen, wenn sie für den ausgewählten Tag relevant ist */}\n                                {isActiveWorktimeRelevant() && (\n                                    <tr className=\"bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50\">\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {formatTime(activeWorktime.startTime)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            <span className=\"italic\">{t('worktime.active')}</span>\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200 font-medium text-green-600 dark:text-green-400\">\n                                            {calculateActiveDuration()}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                                            {activeWorktime.branch?.name || t('common.unknown')}\n                                        </td>\n                                    </tr>\n                                )}\n                            </tbody>\n                            \n                            {/* Gesamtdauer des Tages */}\n                            <tfoot className=\"bg-gray-100 dark:bg-gray-700\">\n                                <tr>\n                                    <td colSpan={2} className=\"px-6 py-3 text-right text-sm font-medium text-gray-700 dark:text-gray-300\">\n                                        {t('worktime.modal.totalDuration')}:\n                                    </td>\n                                    <td className=\"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white\">\n                                        {totalDuration}\n                                    </td>\n                                    <td></td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}; "],"names":["DEFAULT_EXPIRY_THRESHOLDS","request","criticalHours","todo","TODO_EXPIRY_THRESHOLDS","hourly","daily","standard","getExpiryStatus","dueDate","type","arguments","length","undefined","customThresholds","title","description","now","Date","due","hoursOverdue","getTime","thresholds","todoType","titleLower","toLowerCase","descLower","includes","getTodoType","getExpiryColorClasses","status","borderClass","bgClass","textClass","badgeClass","createDueDateMetadataItem","icon","label","formatDate","date","toLocaleDateString","useBadge","expiryStatus","expiryColors","value","className","getStatusColor","processType","getStatusText","t","translationKey","concat","translated","charAt","toUpperCase","slice","replace","WorktimeModal","_ref","_activeWorktime$branc","isOpen","onClose","selectedDate","initialSelectedDate","useTranslation","today","defaultDate","getFullYear","getMonth","toString","padStart","getDate","worktimes","setWorktimes","useState","setSelectedDate","loading","setLoading","totalDuration","setTotalDuration","activeWorktime","setActiveWorktime","error","setError","isActiveWorktimeRelevant","startTime","split","console","fetchWorktimes","useCallback","async","localStorage","getItem","formattedDate","sortedWorktimes","axiosInstance","get","API_ENDPOINTS","WORKTIME","BASE","data","sort","a","b","activeResponse","ACTIVE","Object","keys","useEffect","totalMinutes","filter","worktime","isWorktimeRelevantForSelectedDate","forEach","endTime","start","diff","minutes","Math","floor","activeStart","timezone","_startParts$find","_startParts$find2","_startParts$find3","_startParts$find4","_startParts$find5","_startParts$find6","_nowParts$find","_nowParts$find2","_nowParts$find3","_nowParts$find4","_nowParts$find5","_nowParts$find6","_startParts$find7","_startParts$find8","_startParts$find9","_startParts$find10","_startParts$find11","_startParts$find12","_nowParts$find7","_nowParts$find8","_nowParts$find9","_nowParts$find10","_nowParts$find11","_nowParts$find12","formatter","Intl","DateTimeFormat","timeZone","year","month","day","hour","minute","second","hour12","startParts","formatToParts","nowParts","parseInt","find","p","startLocalMs","UTC","hours","formattedDuration","relevantWorktimes","_jsx","children","_jsxs","onChange","e","target","onClick","map","formatTime","calculateDuration","branch","name","id","calculateActiveDuration","_startParts$find13","_startParts$find14","_startParts$find15","_startParts$find16","_startParts$find17","_startParts$find18","_nowParts$find13","_nowParts$find14","_nowParts$find15","_nowParts$find16","_nowParts$find17","_nowParts$find18","colSpan"],"sourceRoot":""}