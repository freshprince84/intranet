{"version":3,"file":"static/js/535.00e651eb.chunk.js","mappings":"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","sources":["components/shared/CardGrid.tsx","components/shared/DataCard.tsx","api/tableSettingsApi.ts","hooks/useTableSettings.ts","components/TableColumnConfig.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface CardGridProps {\n  children: React.ReactNode;\n  columns?: {\n    mobile?: number;\n    tablet?: number;\n    desktop?: number;\n    largeDesktop?: number;\n  };\n  gap?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nconst CardGrid: React.FC<CardGridProps> = ({\n  children,\n  columns = {\n    mobile: 1,\n    tablet: 1,\n    desktop: 1,\n    largeDesktop: 1\n  },\n  gap = 'md',\n  className = ''\n}) => {\n  const gapClass = {\n    sm: 'gap-0.5',\n    md: 'gap-0.5',\n    lg: 'gap-1'\n  }[gap];\n\n  // Immer 1 Spalte für bessere Übersichtlichkeit - Cards nehmen volle Breite ein\n  return (\n    <div \n      className={`flex flex-col ${gapClass} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default CardGrid;\n\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ChevronLeftIcon, ChevronRightIcon, ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/outline';\nimport MarkdownPreview from '../MarkdownPreview.tsx';\n\nexport interface MetadataItem {\n  icon?: React.ReactNode;\n  label: string;\n  value: string | React.ReactNode;\n  className?: string;\n  descriptionContent?: string; // Für expandierbare Beschreibung\n  attachmentMetadata?: Array<{\n    id: number;\n    fileName: string;\n    fileType: string;\n    url: string;\n  }>; // Attachment-Metadaten für Vorschau\n  section?: 'left' | 'main' | 'main-second' | 'right' | 'right-inline' | 'full'; // Position im Layout\n}\n\nexport interface DataCardProps {\n  title: string | React.ReactNode;\n  subtitle?: string;\n  status?: {\n    label: string;\n    color: string;\n    className?: string;\n    onPreviousClick?: () => void;\n    onNextClick?: () => void;\n  };\n  metadata: MetadataItem[];\n  actions?: React.ReactNode;\n  expandable?: {\n    isExpanded: boolean;\n    content: React.ReactNode;\n    onToggle: () => void;\n  };\n  onClick?: () => void;\n  className?: string;\n  headerClassName?: string;\n  highlightBorder?: boolean;\n  highlightColor?: string;\n  children?: React.ReactNode;\n}\n\n// Komponente für expandierbare Beschreibung\nconst DescriptionMetadataItem: React.FC<{ item: MetadataItem }> = ({ item }) => {\n  const { t } = useTranslation();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [needsExpansion, setNeedsExpansion] = useState(false);\n  const firstLineRef = useRef<HTMLParagraphElement>(null);\n  const labelRef = useRef<HTMLSpanElement>(null);\n  \n  // Beschreibung als Plain Text (ohne Markdown) für die Vorschau extrahieren\n  const getPlainTextPreview = (markdown: string): string => {\n    // Entferne Markdown-Syntax für Vorschau\n    let plain = markdown\n      .replace(/^#+\\s+/gm, '') // Headers\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1') // Bold\n      .replace(/\\*([^*]+)\\*/g, '$1') // Italic\n      .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '') // Bilder komplett entfernen\n      .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '') // Links komplett entfernen (nicht nur alt-Text)\n      .replace(/```[\\s\\S]*?```/g, '') // Code blocks\n      .replace(/`([^`]+)`/g, '$1') // Inline code\n      .replace(/^\\s*[-*+]\\s+/gm, '') // List items\n      .replace(/^\\s*\\d+\\.\\s+/gm, '') // Numbered list\n      // Entferne verbleibende Dateinamen, die wie Attachment-Dateinamen aussehen\n      .replace(/\\b\\d{4}-\\d{2}-\\d{2}_\\d{2}h\\d{2}_\\d{2}\\.\\w+\\b/g, '')\n      .replace(/\\s+/g, ' ') // Mehrfache Leerzeichen zu einem\n      .trim();\n    \n    return plain;\n  };\n  \n  const fullText = getPlainTextPreview(item.descriptionContent || '');\n  \n  // Erste Zeile extrahieren (ungefähr die ersten 150 Zeichen oder bis zum ersten Zeilenumbruch)\n  // Versucht nach einem Wortende zu schneiden, nicht mitten im Wort\n  const getFirstLine = (text: string): string => {\n    const firstNewline = text.indexOf('\\n');\n    if (firstNewline > 0 && firstNewline < 150) {\n      return text.substring(0, firstNewline);\n    }\n    if (text.length > 150) {\n      // Suche nach einem guten Schnittpunkt (nach einem Leerzeichen oder Satzzeichen)\n      let cutPoint = 150;\n      for (let i = 150; i > 100; i--) {\n        if (text[i] === ' ' || text[i] === '.' || text[i] === ',' || text[i] === '!' || text[i] === '?') {\n          cutPoint = i + 1;\n          break;\n        }\n      }\n      return text.substring(0, cutPoint);\n    }\n    return text;\n  };\n  \n  const firstLine = getFirstLine(fullText);\n  // Prüfe ob mehr Content vorhanden ist (Text länger als erste Zeile ODER Zeilenumbruch vorhanden)\n  const hasMoreContent = fullText.length > firstLine.length || fullText.includes('\\n');\n  \n  // Debug: Aktivieren für Troubleshooting\n  console.log('DescriptionMetadataItem:', {\n    firstLine,\n    fullText,\n    hasMoreContent,\n    fullTextLength: fullText.length,\n    firstLineLength: firstLine.length,\n    hasNewline: fullText.includes('\\n'),\n    remainingPlainText,\n    remainingMarkdown,\n    descriptionContent: item.descriptionContent\n  });\n  \n  // Debug: Log für Entwicklung\n  // console.log('DescriptionMetadataItem Debug:', {\n  //   firstLine,\n  //   fullText,\n  //   hasMoreContent,\n  //   fullTextLength: fullText.length,\n  //   firstLineLength: firstLine.length\n  // });\n  \n  // Rest-Text extrahieren (alles nach der ersten Zeile)\n  const getRemainingText = (text: string, firstLineText: string): string => {\n    if (!text || !firstLineText) return '';\n    \n    const firstLineIndex = text.indexOf(firstLineText);\n    if (firstLineIndex === -1) {\n      // Fallback: Versuche Zeilenumbruch zu finden\n      const firstNewline = text.indexOf('\\n');\n      if (firstNewline > 0) {\n        return text.substring(firstNewline + 1).trim();\n      }\n      // Wenn kein Zeilenumbruch, nimm Rest nach der ersten Zeile\n      return text.length > firstLineText.length ? text.substring(firstLineText.length).trim() : '';\n    }\n    \n    // Wenn Zeilenumbruch vorhanden, nimm alles danach\n    const firstNewline = text.indexOf('\\n', firstLineIndex);\n    if (firstNewline > 0) {\n      return text.substring(firstNewline + 1).trim();\n    }\n    \n    // Wenn keine Zeilenumbruch, nimm Rest nach der ersten Zeile\n    const remainingStart = firstLineIndex + firstLineText.length;\n    return text.length > remainingStart \n      ? text.substring(remainingStart).trim() \n      : '';\n  };\n  \n  const remainingPlainText = hasMoreContent ? getRemainingText(fullText, firstLine) : '';\n  \n  // Prüfe ob Text mehr als eine Zeile benötigt (nach dem ersten Render)\n  useEffect(() => {\n    if (firstLineRef.current && fullText) {\n      // Erstelle temporäres Element zum Messen der Textbreite\n      const tempDiv = document.createElement('div');\n      tempDiv.style.position = 'absolute';\n      tempDiv.style.visibility = 'hidden';\n      tempDiv.style.width = firstLineRef.current.offsetWidth + 'px';\n      tempDiv.style.whiteSpace = 'nowrap';\n      tempDiv.style.fontSize = window.getComputedStyle(firstLineRef.current).fontSize;\n      tempDiv.style.fontFamily = window.getComputedStyle(firstLineRef.current).fontFamily;\n      tempDiv.textContent = fullText;\n      document.body.appendChild(tempDiv);\n      \n      const fullTextWidth = tempDiv.scrollWidth;\n      const firstLineWidth = firstLineRef.current.scrollWidth;\n      const isOverflowing = fullTextWidth > firstLineWidth || hasMoreContent;\n      \n      setNeedsExpansion(isOverflowing && hasMoreContent);\n      document.body.removeChild(tempDiv);\n    }\n  }, [fullText, hasMoreContent]);\n  \n  // Rest-Markdown extrahieren (für die Anzeige beim Aufklappen)\n  const getRemainingMarkdown = (markdown: string, firstLinePlain: string): string => {\n    if (!markdown) return '';\n    \n    // Versuche zuerst nach Zeilenumbruch zu schneiden\n    const firstNewline = markdown.indexOf('\\n');\n    if (firstNewline > 0) {\n      return markdown.substring(firstNewline + 1).trim();\n    }\n    \n    // Wenn kein Zeilenumbruch, finde die Position der ersten Zeile im Plain Text\n    const plainText = getPlainTextPreview(markdown);\n    const firstLineIndex = plainText.indexOf(firstLinePlain);\n    \n    if (firstLineIndex >= 0 && plainText.length > firstLineIndex + firstLinePlain.length) {\n      // Berechne wie viele Zeichen im Markdown der ersten Zeile entsprechen\n      // Vereinfachter Ansatz: Wenn Plain Text länger ist, schneide Markdown entsprechend\n      const remainingPlainLength = plainText.length - (firstLineIndex + firstLinePlain.length);\n      if (remainingPlainLength > 0 && markdown.length > firstLinePlain.length) {\n        // Suche nach einem guten Schnittpunkt im Markdown (nach der ersten Zeile)\n        // Versuche nach ~150 Zeichen oder nach der ersten Zeile zu schneiden\n        let cutPoint = Math.min(150, markdown.length);\n        \n        // Suche rückwärts nach einem Wortende\n        for (let i = cutPoint; i > 100 && i < markdown.length; i--) {\n          if (markdown[i] === ' ' || markdown[i] === '.' || markdown[i] === ',' || markdown[i] === '\\n') {\n            cutPoint = i + 1;\n            break;\n          }\n        }\n        \n        // Wenn die erste Zeile länger ist als der Schnittpunkt, verwende die Länge der ersten Zeile\n        if (firstLinePlain.length > cutPoint) {\n          cutPoint = firstLinePlain.length;\n          // Suche nach einem Wortende nach der ersten Zeile\n          for (let i = cutPoint; i < markdown.length && i < cutPoint + 50; i++) {\n            if (markdown[i] === ' ' || markdown[i] === '.' || markdown[i] === ',' || markdown[i] === '\\n') {\n              cutPoint = i + 1;\n              break;\n            }\n          }\n        }\n        \n        if (markdown.length > cutPoint) {\n          return markdown.substring(cutPoint).trim();\n        }\n      }\n    }\n    \n    return '';\n  };\n  \n  // Berechne remainingMarkdown immer (nicht nur wenn expanded), damit wir es für die Bedingung verwenden können\n  const remainingMarkdown = hasMoreContent ? getRemainingMarkdown(item.descriptionContent || '', firstLine) : '';\n  \n  // Extrahiere Anhänge aus dem gesamten descriptionContent (nicht nur aus remainingMarkdown)\n  const fullDescriptionContent = item.descriptionContent || '';\n  \n  // Prüfe, ob Bilder im gesamten Text vorhanden sind (unabhängig von remainingMarkdown)\n  const hasImages = /!\\[([^\\]]*)\\]\\([^)]+\\)/.test(fullDescriptionContent);\n  \n  // Pfeil soll NUR erscheinen, wenn mehr Text vorhanden ist (nicht nur wegen Bilder)\n  const shouldShowExpandButton = hasMoreContent && needsExpansion;\n  \n  return (\n    <div className={`text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 ${item.className || ''}`}>\n      {/* Hauptzeile: Label, Text, Pfeil rechts */}\n      <div className=\"flex items-center gap-1 sm:gap-1.5\">\n        <span ref={labelRef} className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap flex-shrink-0\">{item.label}:</span>\n        {/* Text - kann umbrechen, keine line-clamp mehr */}\n        <span \n          ref={firstLineRef}\n          className=\"text-gray-900 dark:text-white flex-1 min-w-0 break-words\"\n        >\n          {firstLine}\n        </span>\n        {/* Pfeil rechts, nach dem Text - erscheint wenn mehr Text ODER Bilder vorhanden */}\n        {shouldShowExpandButton && !isExpanded && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsExpanded(true);\n            }}\n            className=\"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3\"\n            title={t('dataCard.expandDescription')}\n          >\n            <ChevronLeftIcon className=\"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8\" />\n          </button>\n        )}\n        {isExpanded && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsExpanded(false);\n            }}\n            className=\"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3\"\n            title={t('dataCard.collapseDescription')}\n          >\n            <ChevronDownIcon className=\"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8\" />\n          </button>\n        )}\n      </div>\n      {/* Bilder IMMER anzeigen (auch wenn nicht expanded) */}\n      {/* Wenn kein Text vorhanden ist, Bild auf Höhe des Labels positionieren */}\n      {hasImages && (\n        <div \n          className={firstLine.trim() === '' ? '-mt-6' : 'mt-2'} \n          style={{ \n            marginLeft: labelRef.current ? `${labelRef.current.offsetWidth + 8}px` : 'calc(0.75rem * 5 + 0.5rem)'\n          }}\n        >\n          <MarkdownPreview \n            content={fullDescriptionContent} \n            showImagePreview={true}\n            attachmentMetadata={item.attachmentMetadata || []}\n          />\n        </div>\n      )}\n      {/* REST-TEXT NUR wenn expanded UND es gibt mehr Text (Bilder werden bereits oben angezeigt) */}\n      {isExpanded && hasMoreContent && (() => {\n        // Vereinfachte Logik: Zeige einfach den REST-Text nach der ersten Zeile\n        let restContent = '';\n        \n        // Versuche zuerst remainingPlainText (einfachste Methode)\n        if (remainingPlainText && remainingPlainText.trim() !== '') {\n          restContent = remainingPlainText;\n        }\n        // Fallback: Schneide einfach nach firstLine.length im Plain Text\n        else if (fullText.length > firstLine.length) {\n          restContent = fullText.substring(firstLine.length).trim();\n        }\n        \n        // Zeige REST-Text wenn vorhanden\n        if (restContent && restContent.trim() !== '') {\n          return (\n            <div \n              className=\"mt-1\" \n              style={{ \n                marginLeft: labelRef.current ? `${labelRef.current.offsetWidth + 8}px` : 'calc(0.75rem * 5 + 0.5rem)'\n              }}\n            >\n              <div className=\"dark:text-gray-200 break-words text-gray-900 dark:text-white\">\n                {restContent.trim()}\n              </div>\n            </div>\n          );\n        }\n        \n        return null;\n      })()}\n    </div>\n  );\n};\n\nconst DataCard: React.FC<DataCardProps> = ({\n  title,\n  subtitle,\n  status,\n  metadata,\n  actions,\n  expandable,\n  onClick,\n  className = '',\n  headerClassName = '',\n  highlightBorder = false,\n  highlightColor = 'green',\n  children\n}) => {\n  const borderClass = highlightBorder\n    ? `border-2 border-${highlightColor}-500 dark:border-${highlightColor}-600`\n    : 'border border-gray-300 dark:border-gray-700';\n\n  return (\n    <div\n      className={`bg-white dark:bg-gray-800 rounded-lg ${borderClass} p-3 sm:p-4 md:p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow ${onClick ? 'cursor-pointer' : ''} w-full overflow-hidden ${className}`}\n      onClick={onClick}\n    >\n      {/* Container für Titel links und alle Metadaten rechts - Grid-Layout mit 2 Spalten */}\n      <div className=\"grid items-start gap-4 mb-2 min-w-0\" style={{ gridTemplateColumns: '1fr auto' }}>\n        {/* Titel links - flexibel, nimmt nur benötigten Platz, kann umbrechen */}\n        <div className=\"min-w-0 pr-2\">\n          {typeof title === 'string' ? (\n            <h3 className=\"font-semibold text-gray-900 dark:text-white break-words\" style={{ fontSize: 'clamp(0.9375rem, 1.2vw + 0.5rem, 1.25rem)', wordBreak: 'break-word', overflowWrap: 'break-word' }}>\n              {title}\n            </h3>\n          ) : (\n            title\n          )}\n          {subtitle && (\n            <p className=\"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-500 dark:text-gray-400 mt-1 break-words\">\n              {subtitle}\n            </p>\n          )}\n        </div>\n        \n        {/* Rechts: Alle Metadaten zusammen (Solicitado por, Responsable, Datum, Status) - rechtsbündig ausgerichtet, feste Breite für Bündigkeit */}\n        <div className=\"flex items-start justify-end gap-3 sm:gap-4 flex-nowrap flex-shrink-0 min-w-[220px]\">\n          {/* Container für Solicitado por + Responsable (untereinander) */}\n          <div className=\"flex flex-col gap-1 sm:gap-1.5 flex-shrink-0\">\n            {/* Solicitado por (erste Zeile) */}\n            {metadata.filter(item => item.section === 'main' || (!item.section && item.label === 'Angefragt von')).length > 0 && (\n              <div className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap\">\n                {metadata\n                  .filter(item => item.section === 'main' || (!item.section && item.label === 'Angefragt von'))\n                  .map((item, index) => {\n                    if (item.descriptionContent) return null;\n                    \n                    return (\n                      <React.Fragment key={index}>\n                        {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                        <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label}:</span>\n                        <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                          {typeof item.value === 'string' ? item.value : item.value}\n                        </span>\n                      </React.Fragment>\n                    );\n                  })}\n              </div>\n            )}\n            \n            {/* Responsable (zweite Zeile, bündig unter Solicitado por) */}\n            {metadata.filter(item => item.section === 'main-second' || (!item.section && item.label === 'Verantwortlicher')).length > 0 && (\n              <div className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap\">\n                {metadata\n                  .filter(item => item.section === 'main-second' || (!item.section && item.label === 'Verantwortlicher'))\n                  .map((item, index) => {\n                    if (item.descriptionContent) return null;\n                    \n                    return (\n                      <React.Fragment key={index}>\n                        {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                        <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label}:</span>\n                        <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                          {typeof item.value === 'string' ? item.value : item.value}\n                        </span>\n                      </React.Fragment>\n                    );\n                  })}\n              </div>\n            )}\n          </div>\n          \n          {/* Datum (right-inline) */}\n          {metadata.filter(item => item.section === 'right-inline').map((item, index) => (\n            <div\n              key={index}\n              className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-shrink-0 whitespace-nowrap\"\n            >\n              {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n              <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                {typeof item.value === 'string' ? item.value : item.value}\n              </span>\n            </div>\n          ))}\n          \n          {/* Status - sicherstellen dass innerhalb der Card bleibt */}\n          {status && (\n            <div className=\"flex items-center gap-0.5 sm:gap-1 flex-shrink-0 min-w-0\">\n              {/* Status-Shift-Button (links) */}\n              {status.onPreviousClick ? (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    status.onPreviousClick?.();\n                  }}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0\"\n                  title=\"Vorheriger Status\"\n                >\n                  <ChevronLeftIcon className=\"h-6 w-6\" />\n                </button>\n              ) : null}\n              <span className={`px-1.5 sm:px-2 md:px-2.5 py-0.5 sm:py-0.5 md:py-1 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl font-medium rounded-full ${status.color} ${status.className || ''} whitespace-nowrap flex-shrink-0`}>\n                {status.label}\n              </span>\n              {/* Status-Shift-Button (rechts) */}\n              {status.onNextClick ? (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    status.onNextClick?.();\n                  }}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0\"\n                  title=\"Nächster Status\"\n                >\n                  <ChevronRightIcon className=\"h-6 w-6\" />\n                </button>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Right-Metadaten (nicht inline) - unter Status, bündig ausgerichtet (für andere Komponenten) */}\n      {metadata.filter(item => item.section === 'right').length > 0 && (\n        <div className=\"flex-shrink-0 ml-4 flex flex-col items-end gap-1 sm:gap-2 mb-3 sm:mb-4 md:mb-5\">\n          {metadata.filter(item => item.section === 'right').map((item, index) => {\n            const leftPlaceholderWidth = status?.onPreviousClick ? 'w-8 sm:w-10 md:w-12' : 'w-8 sm:w-10 md:w-12';\n            const rightPlaceholderWidth = status?.onNextClick ? 'w-8 sm:w-10 md:w-12' : 'w-8 sm:w-10 md:w-12';\n            \n            return (\n              <div\n                key={index}\n                className=\"flex items-center gap-1 justify-end\"\n              >\n                <div className={`${leftPlaceholderWidth} flex-shrink-0`} />\n                <div\n                  className={`flex items-center gap-1 sm:gap-1.5 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-md ${item.className || 'text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50'} text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl font-medium`}\n                  title={item.label || 'Fälligkeit'}\n                >\n                  {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                  <span className={item.className || 'text-gray-900 dark:text-white'}>\n                    {typeof item.value === 'string' ? item.value : item.value}\n                  </span>\n                </div>\n                <div className={`${rightPlaceholderWidth} flex-shrink-0`} />\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Beschreibung und Buttons in einer Zeile - Grid-Layout für feste Positionen */}\n      {(metadata.filter(item => item.section === 'full' && item.descriptionContent).length > 0 || actions) && (\n        <div className=\"grid items-start gap-3 sm:gap-4 mt-2 sm:mt-2.5 mb-3 sm:mb-4\" style={{ gridTemplateColumns: '1fr auto' }}>\n          {/* Beschreibung links - nimmt verfügbaren Platz */}\n          {metadata.filter(item => item.section === 'full' && item.descriptionContent).length > 0 ? (\n            <div className=\"flex-1 min-w-0\">\n              {metadata.filter(item => item.section === 'full' && item.descriptionContent).map((item, index) => (\n                <DescriptionMetadataItem key={index} item={item} />\n              ))}\n            </div>\n          ) : (\n            <div />\n          )}\n          {/* Buttons rechts - immer an der unteren rechten Ecke */}\n          {actions ? (\n            <div\n              className=\"flex items-center space-x-2 flex-shrink-0 self-end\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {actions}\n            </div>\n          ) : (\n            <div />\n          )}\n        </div>\n      )}\n\n      {/* Metadaten - strukturiertes Layout (für andere Komponenten) */}\n      {metadata.filter(item => item.section !== 'full' && item.section !== 'main' && item.section !== 'main-second' && item.section !== 'right-inline').length > 0 && (\n        <div className=\"flex flex-col gap-3 sm:gap-4 mb-3 sm:mb-4\">\n          {/* Links: Niederlassung (meist ausgeblendet) */}\n          {metadata.filter(item => item.section === 'left').length > 0 && (\n            <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n              {metadata.filter(item => item.section === 'left').map((item, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                >\n                  {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                  <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label}:</span>\n                  <span className={item.className || 'text-gray-900 dark:text-white'}>\n                    {typeof item.value === 'string' ? item.value : item.value}\n                  </span>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Haupt-Metadaten: Alle außer \"Angefragt von\" und \"Verantwortlicher\" (die sind jetzt im Header) */}\n          {metadata.filter(item => {\n            const section = item.section;\n            if (section === 'main' || section === 'main-second' || section === 'right-inline') return false;\n            return !section && item.label !== 'Angefragt von' && item.label !== 'Verantwortlicher';\n          }).length > 0 && (\n            <div className=\"flex flex-col gap-2 sm:gap-2.5\">\n              {metadata\n                .filter(item => {\n                  const section = item.section;\n                  if (section === 'main' || section === 'main-second' || section === 'right-inline') return false;\n                  return !section && item.label !== 'Angefragt von' && item.label !== 'Verantwortlicher';\n                })\n                .map((item, index) => {\n                  // Spezielle Behandlung für Beschreibung mit expandierbarem Inhalt\n                  if (item.descriptionContent) {\n                    return <DescriptionMetadataItem key={index} item={item} />;\n                  }\n                  \n                  return (\n                    <div\n                      key={index}\n                      className=\"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                    >\n                      {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                      <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label}:</span>\n                      <span className={`flex-1 min-w-0 break-words ${item.className || 'text-gray-900 dark:text-white'}`}>\n                        {typeof item.value === 'string' ? item.value : item.value}\n                      </span>\n                    </div>\n                  );\n                })}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Children Content (z.B. für zusätzliche Details) */}\n      {children && (\n        <div className=\"mb-4\">\n          {children}\n        </div>\n      )}\n\n      {/* Expandable Content */}\n      {expandable && (\n        <div className=\"mb-4\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              expandable.onToggle();\n            }}\n            className=\"flex items-center justify-between w-full text-left text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\"\n          >\n            <span>Details</span>\n            {expandable.isExpanded ? (\n              <ChevronDownIcon className=\"h-4 w-4\" />\n            ) : (\n              <span className=\"text-base lg:text-lg xl:text-xl\">&lt;</span>\n            )}\n          </button>\n          {expandable.isExpanded && (\n            <div className=\"mt-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\n              {expandable.content}\n            </div>\n          )}\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default DataCard;\n\n","// import axios from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { API_URL } from '../config/api.ts';\n\nexport interface TableSettings {\n  tableId: string;\n  columnOrder: string[];\n  hiddenColumns: string[];\n  viewMode?: 'table' | 'cards';\n}\n\n// Helfer-Funktion, um den localStorage-Schlüssel für eine Tabelle zu generieren\nconst getLocalStorageKey = (tableId: string) => `table_settings_${tableId}`;\n\n// API zum Verwalten der Tabelleneinstellungen\nexport const tableSettingsApi = {\n  // Benutzerspezifische Tabelleneinstellungen abrufen\n  getTableSettings: async (tableId: string): Promise<TableSettings> => {\n    try {\n      // Zuerst versuchen, Einstellungen vom API-Server zu laden\n      const response = await axiosInstance.get(`/table-settings/${tableId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Fehler beim Abrufen der Tabelleneinstellungen vom Server:', error);\n      \n      // Fallback: Versuchen, aus dem localStorage zu laden\n      try {\n        const localStorageKey = getLocalStorageKey(tableId);\n        const storedSettings = localStorage.getItem(localStorageKey);\n        \n        if (storedSettings) {\n          return JSON.parse(storedSettings);\n        }\n      } catch (localError) {\n        console.error('Fehler beim Laden aus localStorage:', localError);\n      }\n      \n      // Default-Einstellungen zurückgeben, wenn keine gespeicherten verfügbar sind\n      return {\n        tableId,\n        columnOrder: [],\n        hiddenColumns: []\n      };\n    }\n  },\n  \n  // Tabelleneinstellungen speichern (server-side und localStorage)\n  saveTableSettings: async (settings: TableSettings): Promise<void> => {\n    try {\n      // Zum API-Server senden\n      await axiosInstance.post(`/table-settings`, settings);\n      \n      // Auch im localStorage speichern\n      const localStorageKey = getLocalStorageKey(settings.tableId);\n      localStorage.setItem(localStorageKey, JSON.stringify(settings));\n    } catch (error) {\n      console.error('Fehler beim Speichern der Tabelleneinstellungen auf dem Server:', error);\n      \n      // Trotzdem im localStorage speichern\n      try {\n        const localStorageKey = getLocalStorageKey(settings.tableId);\n        localStorage.setItem(localStorageKey, JSON.stringify(settings));\n      } catch (localError) {\n        console.error('Fehler beim Speichern im localStorage:', localError);\n      }\n    }\n  },\n  \n  // Tabelleneinstellungen zurücksetzen\n  resetTableSettings: (tableId: string): void => {\n    try {\n      const localStorageKey = getLocalStorageKey(tableId);\n      localStorage.removeItem(localStorageKey);\n      console.log(`Tabelleneinstellungen für ${tableId} zurückgesetzt`);\n    } catch (error) {\n      console.error('Fehler beim Zurücksetzen der Tabelleneinstellungen:', error);\n    }\n  }\n}; ","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { tableSettingsApi, TableSettings } from '../api/tableSettingsApi.ts';\n\ninterface UseTableSettingsOptions {\n  defaultColumnOrder?: string[];\n  defaultHiddenColumns?: string[];\n  defaultViewMode?: 'table' | 'cards';\n  defaultVisibleCardMetadata?: string[];\n  defaultCardColumnOrder?: string[];\n  defaultCardSortDirections?: Record<string, 'asc' | 'desc'>;\n}\n\n/**\n * Hook zum Verwalten von benutzerdefinierten Tabelleneinstellungen\n * @param tableId Eindeutige ID der Tabelle\n * @param options Optionale Standardwerte\n */\nexport const useTableSettings = (tableId: string, options?: UseTableSettingsOptions) => {\n  const [settings, setSettings] = useState<TableSettings>({\n    tableId,\n    columnOrder: options?.defaultColumnOrder || [],\n    hiddenColumns: options?.defaultHiddenColumns || []\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Tabelleneinstellungen laden - beim Mount oder wenn tableId sich ändert\n  useEffect(() => {\n    let isMounted = true;\n    \n    const loadSettings = async () => {\n      try {\n        setIsLoading(true);\n        const loadedSettings = await tableSettingsApi.getTableSettings(tableId);\n        \n        if (!isMounted) return; // Component wurde bereits unmounted\n        \n        console.log('Geladene Tabelleneinstellungen vom Server:', loadedSettings);\n        \n        // Wenn leere Einstellungen zurückgegeben werden, verwende die Standardwerte\n        if (loadedSettings.columnOrder.length === 0 && options?.defaultColumnOrder) {\n          loadedSettings.columnOrder = options.defaultColumnOrder;\n        }\n        \n        // View-Mode initialisieren, falls nicht vorhanden\n        if (!loadedSettings.viewMode && options?.defaultViewMode) {\n          loadedSettings.viewMode = options.defaultViewMode;\n        }\n        \n        console.log('Finale Tabelleneinstellungen nach Initialisierung:', loadedSettings);\n        setSettings(loadedSettings);\n        setError(null);\n      } catch (err) {\n        if (!isMounted) return;\n        setError(err instanceof Error ? err : new Error('Fehler beim Laden der Einstellungen'));\n        console.error('Fehler beim Laden der Tabelleneinstellungen:', err);\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    loadSettings();\n    \n    return () => {\n      isMounted = false;\n    };\n  }, [tableId]); // NUR tableId als Dependency!\n\n  // Spaltenreihenfolge aktualisieren\n  const updateColumnOrder = useCallback(async (newColumnOrder: string[]) => {\n    try {\n      const updatedSettings = { ...settings, columnOrder: newColumnOrder };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Spaltenreihenfolge'));\n      console.error('Fehler beim Speichern der Spaltenreihenfolge:', err);\n    }\n  }, [settings]);\n\n  // Versteckte Spalten aktualisieren\n  const updateHiddenColumns = useCallback(async (newHiddenColumns: string[]) => {\n    try {\n      const updatedSettings = { ...settings, hiddenColumns: newHiddenColumns };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der versteckten Spalten'));\n      console.error('Fehler beim Speichern der versteckten Spalten:', err);\n    }\n  }, [settings]);\n\n  // Eine einzelne Spalte ein- oder ausblenden\n  const toggleColumnVisibility = useCallback(async (columnId: string) => {\n    try {\n      let newHiddenColumns: string[];\n      \n      if (settings.hiddenColumns.includes(columnId)) {\n        // Spalte einblenden (aus hiddenColumns entfernen)\n        newHiddenColumns = settings.hiddenColumns.filter(id => id !== columnId);\n      } else {\n        // Spalte ausblenden (zu hiddenColumns hinzufügen)\n        newHiddenColumns = [...settings.hiddenColumns, columnId];\n      }\n      \n      const updatedSettings = { ...settings, hiddenColumns: newHiddenColumns };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Ändern der Spaltenansicht'));\n      console.error('Fehler beim Ändern der Spaltenansicht:', err);\n    }\n  }, [settings]);\n\n  // View-Mode aktualisieren\n  const updateViewMode = useCallback(async (newViewMode: 'table' | 'cards') => {\n    try {\n      const updatedSettings = { ...settings, viewMode: newViewMode };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern des View-Modes'));\n      console.error('Fehler beim Speichern des View-Modes:', err);\n    }\n  }, [settings]);\n\n  return {\n    settings,\n    isLoading,\n    error,\n    updateColumnOrder,\n    updateHiddenColumns,\n    toggleColumnVisibility,\n    isColumnVisible: (columnId: string) => !settings.hiddenColumns.includes(columnId),\n    updateViewMode\n  };\n}; ","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { EyeIcon, EyeSlashIcon, Bars2Icon, ArrowsUpDownIcon, ArrowUpIcon, ArrowDownIcon, CheckIcon } from '@heroicons/react/24/outline';\n\ninterface Column {\n  id: string;\n  label: string;\n}\n\ninterface TableColumnConfigProps {\n  columns: Column[];\n  visibleColumns: string[];\n  columnOrder: string[];\n  onToggleColumnVisibility: (columnId: string) => void;\n  onMoveColumn: (dragIndex: number, hoverIndex: number) => void;\n  onClose: () => void;\n  buttonTitle?: string; // Optional: Custom Button-Titel\n  modalTitle?: string; // Optional: Custom Modal-Titel\n  sortDirections?: Record<string, 'asc' | 'desc'>; // Optional: Sortierrichtungen pro Spalte (für Cards-Mode)\n  onSortDirectionChange?: (columnId: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Sortierrichtung pro Spalte\n  showSortDirection?: boolean; // Optional: Sortierrichtung anzeigen\n}\n\ninterface DraggableItemProps {\n  id: string;\n  label: string;\n  index: number;\n  isVisible: boolean;\n  isDragging: boolean;\n  isOver: boolean;\n  onDragStart: (index: number) => void;\n  onDragOver: (index: number) => void;\n  onDragEnd: () => void;\n  onToggleVisibility: (id: string) => void;\n  sortDirection?: 'asc' | 'desc'; // Optional: Sortierrichtung für diese Spalte\n  onSortDirectionChange?: (id: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Sortierrichtung\n  showSortDirection?: boolean; // Optional: Sortierrichtung anzeigen\n  sortOrder?: number; // Optional: Sortierreihenfolge (1, 2, 3, etc.)\n}\n\n// Komponente für eine einzelne, ziehbare Spalte\nconst DraggableColumnItem: React.FC<DraggableItemProps> = ({ \n  id, \n  label, \n  index, \n  isVisible,\n  isDragging,\n  isOver,\n  onDragStart,\n  onDragOver,\n  onDragEnd,\n  onToggleVisibility,\n  sortDirection,\n  onSortDirectionChange,\n  showSortDirection = false,\n  sortOrder\n}) => {\n  const { t } = useTranslation();\n  \n  return (\n    <li \n      draggable\n      onDragStart={() => onDragStart(index)}\n      onDragOver={(e) => {\n        e.preventDefault();\n        onDragOver(index);\n      }}\n      onDragEnd={onDragEnd}\n      className={`flex items-center justify-between px-2.5 py-2 rounded-md transition-colors duration-150\n        ${isDragging ? 'opacity-50 bg-gray-100 dark:bg-gray-700' : ''}\n        ${isOver ? 'border-t-2 border-blue-500 dark:border-blue-400' : ''}\n        ${!isDragging && !isOver ? 'hover:bg-gray-50 dark:hover:bg-gray-700' : ''}`}\n    >\n      <div className=\"flex items-center flex-1 min-w-0\">\n        <Bars2Icon className=\"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500 cursor-move flex-shrink-0\" />\n        <span className=\"text-sm dark:text-gray-300 flex items-center gap-2\">\n          {showSortDirection && sortOrder !== undefined && isVisible && (\n            <span className=\"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded\">\n              {sortOrder}\n            </span>\n          )}\n          <span>{label}</span>\n        </span>\n      </div>\n      <div className=\"flex items-center gap-1\">\n        {/* Sortierrichtung-Toggle */}\n        {showSortDirection && isVisible && sortDirection !== undefined && onSortDirectionChange && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onSortDirectionChange(id, sortDirection === 'asc' ? 'desc' : 'asc');\n            }}\n            className=\"inline-flex items-center justify-center p-1.5 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n            title={`${t('tableColumn.sortDirection')}: ${sortDirection === 'asc' ? t('tableColumn.ascending') : t('tableColumn.descending')} (${t('tableColumn.clickToToggle')})`}\n          >\n            {sortDirection === 'asc' ? (\n              <ArrowUpIcon className=\"h-4 w-4\" />\n            ) : (\n              <ArrowDownIcon className=\"h-4 w-4\" />\n            )}\n          </button>\n        )}\n        <button\n          onClick={() => onToggleVisibility(id)}\n          className=\"inline-flex items-center justify-center p-1.5 rounded-full bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n          title={isVisible ? t('tableColumn.hideColumn') : t('tableColumn.showColumn')}\n        >\n          {isVisible ? (\n            <EyeIcon className=\"w-4 h-4 dark:text-gray-300\" />\n          ) : (\n            <EyeSlashIcon className=\"w-4 h-4 text-gray-400 dark:text-gray-500\" />\n          )}\n        </button>\n      </div>\n    </li>\n  );\n};\n\nconst TableColumnConfig: React.FC<TableColumnConfigProps> = ({\n  columns,\n  visibleColumns,\n  columnOrder,\n  onToggleColumnVisibility,\n  onMoveColumn,\n  onClose,\n  buttonTitle,\n  modalTitle,\n  sortDirections = {},\n  onSortDirectionChange,\n  showSortDirection = false\n}) => {\n  const { t } = useTranslation();\n  const defaultButtonTitle = buttonTitle || t('tableColumn.configure');\n  const defaultModalTitle = modalTitle || t('tableColumn.configure');\n  const [isOpen, setIsOpen] = useState(false);\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [overIndex, setOverIndex] = useState<number | null>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // Sortiere die Spalten gemäß der benutzerdefinierten Reihenfolge\n  const sortedColumns = [...columns].sort((a, b) => {\n    const indexA = columnOrder.indexOf(a.id);\n    const indexB = columnOrder.indexOf(b.id);\n    // Wenn eine Spalte nicht in columnOrder ist, platziere sie am Ende\n    if (indexA === -1) return 1;\n    if (indexB === -1) return -1;\n    return indexA - indexB;\n  });\n\n  // Handler für den Beginn des Drag-Vorgangs\n  const handleDragStart = (index: number) => {\n    setDraggedIndex(index);\n    setOverIndex(index);\n  };\n\n  // Handler für Drag-Over-Ereignis\n  const handleDragOver = (index: number) => {\n    setOverIndex(index);\n  };\n\n  // Handler für das Ende des Drag-Vorgangs\n  const handleDragEnd = () => {\n    if (draggedIndex !== null && overIndex !== null && draggedIndex !== overIndex) {\n      onMoveColumn(draggedIndex, overIndex);\n    }\n    setDraggedIndex(null);\n    setOverIndex(null);\n  };\n\n  // Handler zum Schließen des Menüs\n  const handleClose = () => {\n    setIsOpen(false);\n    onClose();\n  };\n\n  // Click outside handler\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      <button\n        className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n        onClick={() => setIsOpen(!isOpen)}\n        title={defaultButtonTitle}\n      >\n        {showSortDirection ? (\n          <ArrowsUpDownIcon className=\"w-5 h-5\" />\n        ) : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5\">\n            <path fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 012 10z\" clipRule=\"evenodd\" />\n          </svg>\n        )}\n      </button>\n\n      {isOpen && (\n        <div \n          className=\"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-300 dark:border-gray-600\"\n          onDragOver={(e) => e.preventDefault()}\n        >\n          <div className=\"px-3 py-2.5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n            <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">{defaultModalTitle}</h3>\n            <button\n              onClick={handleClose}\n              className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n              title={t('common.close')}\n            >\n              <CheckIcon className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <ul className=\"px-2 py-1 max-h-64 overflow-y-auto\">\n            {sortedColumns.map((column, index) => {\n              // Bestimme Sortierreihenfolge (nur für sichtbare Spalten)\n              const visibleSortedColumns = sortedColumns.filter(col => visibleColumns.includes(col.id));\n              const sortOrder = visibleSortedColumns.findIndex(col => col.id === column.id) + 1;\n              const isVisible = visibleColumns.includes(column.id);\n              \n              return (\n                <DraggableColumnItem\n                  key={column.id}\n                  id={column.id}\n                  label={column.label}\n                  index={index}\n                  isVisible={isVisible}\n                  isDragging={draggedIndex === index}\n                  isOver={overIndex === index && draggedIndex !== index}\n                  onDragStart={handleDragStart}\n                  onDragOver={handleDragOver}\n                  onDragEnd={handleDragEnd}\n                  onToggleVisibility={onToggleColumnVisibility}\n                  sortDirection={showSortDirection && isVisible ? (sortDirections[column.id] || 'asc') : undefined}\n                  onSortDirectionChange={showSortDirection ? onSortDirectionChange : undefined}\n                  showSortDirection={showSortDirection}\n                  sortOrder={showSortDirection && isVisible ? sortOrder : undefined}\n                />\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TableColumnConfig; "],"names":["_ref","children","columns","mobile","tablet","desktop","largeDesktop","gap","className","gapClass","sm","md","lg","_jsx","concat","DescriptionMetadataItem","item","t","useTranslation","isExpanded","setIsExpanded","useState","needsExpansion","setNeedsExpansion","firstLineRef","useRef","labelRef","getPlainTextPreview","markdown","replace","trim","fullText","descriptionContent","firstLine","text","firstNewline","indexOf","substring","length","cutPoint","i","getFirstLine","hasMoreContent","includes","console","log","fullTextLength","firstLineLength","hasNewline","remainingPlainText","remainingMarkdown","getRemainingText","firstLineText","firstLineIndex","remainingStart","useEffect","current","tempDiv","document","createElement","style","position","visibility","width","offsetWidth","whiteSpace","fontSize","window","getComputedStyle","fontFamily","textContent","body","appendChild","fullTextWidth","scrollWidth","firstLineWidth","removeChild","getRemainingMarkdown","firstLinePlain","plainText","Math","min","fullDescriptionContent","hasImages","test","shouldShowExpandButton","_jsxs","ref","label","onClick","e","stopPropagation","title","ChevronLeftIcon","ChevronDownIcon","marginLeft","MarkdownPreview","content","showImagePreview","attachmentMetadata","restContent","_ref2","subtitle","status","metadata","actions","expandable","headerClassName","highlightBorder","highlightColor","borderClass","gridTemplateColumns","wordBreak","overflowWrap","filter","section","map","index","React","icon","value","onPreviousClick","_status$onPreviousCli","call","color","onNextClick","_status$onNextClick","ChevronRightIcon","leftPlaceholderWidth","rightPlaceholderWidth","onToggle","getLocalStorageKey","tableId","tableSettingsApi","async","axiosInstance","get","data","error","localStorageKey","storedSettings","localStorage","getItem","JSON","parse","localError","columnOrder","hiddenColumns","post","settings","setItem","stringify","useTableSettings","options","setSettings","defaultColumnOrder","defaultHiddenColumns","isLoading","setIsLoading","setError","isMounted","loadedSettings","viewMode","defaultViewMode","err","Error","loadSettings","updateColumnOrder","useCallback","updatedSettings","_objectSpread","newColumnOrder","updateHiddenColumns","newHiddenColumns","toggleColumnVisibility","columnId","id","updateViewMode","newViewMode","isColumnVisible","DraggableColumnItem","isVisible","isDragging","isOver","onDragStart","onDragOver","onDragEnd","onToggleVisibility","sortDirection","onSortDirectionChange","showSortDirection","sortOrder","draggable","preventDefault","Bars2Icon","undefined","ArrowUpIcon","ArrowDownIcon","EyeIcon","EyeSlashIcon","visibleColumns","onToggleColumnVisibility","onMoveColumn","onClose","buttonTitle","modalTitle","sortDirections","defaultButtonTitle","defaultModalTitle","isOpen","setIsOpen","draggedIndex","setDraggedIndex","overIndex","setOverIndex","menuRef","sortedColumns","sort","a","b","indexA","indexB","handleDragStart","handleDragOver","handleDragEnd","handleClose","handleClickOutside","event","contains","target","addEventListener","removeEventListener","ArrowsUpDownIcon","xmlns","viewBox","fill","fillRule","d","clipRule","CheckIcon","column","col","findIndex"],"sourceRoot":""}