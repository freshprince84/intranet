{"version":3,"file":"static/js/987.56d38e3f.chunk.js","mappings":"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","sources":["components/LanguageSelector.tsx","services/authService.ts","pages/Register.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../i18n/config.ts';\r\n\r\ninterface LanguageSelectorProps {\r\n  className?: string;\r\n}\r\n\r\nconst LanguageSelector: React.FC<LanguageSelectorProps> = ({ className = '' }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const handleLanguageChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const newLanguage = e.target.value;\r\n    if (newLanguage) {\r\n      i18n.changeLanguage(newLanguage);\r\n      document.documentElement.lang = newLanguage;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center ${className}`}>\r\n      <select\r\n        value={i18n.language || 'de'}\r\n        onChange={handleLanguageChange}\r\n        className=\"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[80px]\"\r\n      >\r\n        <option value=\"de\">ðŸ‡©ðŸ‡ª DE</option>\r\n        <option value=\"es\">ðŸ‡¨ðŸ‡´ ES</option>\r\n        <option value=\"en\">ðŸ‡¬ðŸ‡§ EN</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;\r\n\r\n","import axios from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { API_URL } from '../config/api.ts';\n\ninterface LoginData {\n  username: string;\n  password: string;\n}\n\ninterface RegisterData {\n  email: string;\n  password: string;\n  language?: string;\n}\n\ninterface AuthResponse {\n  token: string;\n  user: {\n    id: number;\n    username: string;\n    email: string;\n    firstName: string;\n    lastName: string;\n    roles: Array<{\n      id: number;\n      name: string;\n      permissions: Array<{\n        page: string;\n        accessLevel: string;\n      }>;\n    }>;\n  };\n  message: string;\n}\n\nconst authService = {\n  async login(data: LoginData): Promise<AuthResponse> {\n    const response = await axiosInstance.post('/auth/login', data);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  async register(data: RegisterData): Promise<AuthResponse> {\n    const response = await axiosInstance.post('/auth/register', data);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  async logout(): Promise<void> {\n    const token = localStorage.getItem('token');\n    if (token) {\n      await axiosInstance.post('/auth/logout', {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n    }\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser() {\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      return JSON.parse(userStr);\n    }\n    return null;\n  },\n\n  getToken() {\n    return localStorage.getItem('token');\n  },\n\n  isAuthenticated() {\n    return !!this.getToken();\n  }\n};\n\n// Axios Interceptor fÃ¼r Token\naxios.interceptors.request.use(\n  (config) => {\n    const token = authService.getToken();\n    if (token && config.headers) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default authService; ","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, Link } from 'react-router-dom';\nimport i18n from '../i18n/config.ts';\nimport authService from '../services/authService.ts';\nimport LanguageSelector from '../components/LanguageSelector.tsx';\n\nconst Register: React.FC = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    \n    // Passwort-BestÃ¤tigung prÃ¼fen\n    if (formData.password !== formData.confirmPassword) {\n      setError(t('register.passwordsDoNotMatch'));\n      return;\n    }\n    \n    // Passwort-LÃ¤nge prÃ¼fen\n    if (formData.password.length < 6) {\n      setError(t('register.passwordTooShort'));\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      // Aktuelle Sprache aus i18n nehmen\n      const currentLanguage = i18n.language || 'de';\n      \n      await authService.register({\n        email: formData.email,\n        password: formData.password,\n        language: currentLanguage\n      });\n      navigate('/dashboard');\n    } catch (err: any) {\n      console.error('Registrierung fehlgeschlagen:', err);\n      setError(err.response?.data?.message || t('register.registrationFailed'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center dark:bg-gray-900 relative\">\n      <div className=\"absolute top-0 right-0 m-2\">\n        <LanguageSelector />\n      </div>\n      <div className=\"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-lg shadow\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-center text-gray-900 dark:text-white\">\n            {t('register.title')}\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n            {t('register.subtitle')}\n          </p>\n          {error && (\n            <p className=\"mt-2 text-center text-sm text-red-600 dark:text-red-400\">\n              {error}\n            </p>\n          )}\n        </div>\n        <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                {t('register.email')}\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                required\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder={t('register.emailPlaceholder')}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                {t('register.password')}\n              </label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                required\n                minLength={6}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder={t('register.passwordPlaceholder')}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                {t('register.confirmPassword')}\n              </label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                id=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                required\n                minLength={6}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                placeholder={t('register.confirmPasswordPlaceholder')}\n              />\n            </div>\n          </div>\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className={`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n            >\n              {loading ? t('register.registering') : t('register.register')}\n            </button>\n          </div>\n        </form>\n        <p className=\"text-center text-sm text-gray-600 dark:text-gray-400\">\n          {t('register.alreadyRegistered')}{' '}\n          <Link to=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300\">\n            {t('register.login')}\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register; "],"names":["_ref","className","t","useTranslation","_jsx","concat","children","_jsxs","value","i18n","language","onChange","e","newLanguage","target","changeLanguage","document","documentElement","lang","authService","login","data","response","axiosInstance","post","token","localStorage","setItem","JSON","stringify","user","register","logout","getItem","headers","Authorization","removeItem","getCurrentUser","userStr","parse","getToken","isAuthenticated","this","axios","interceptors","request","use","config","error","Promise","reject","Register","navigate","useNavigate","formData","setFormData","useState","email","password","confirmPassword","setError","loading","setLoading","handleChange","_objectSpread","name","LanguageSelector","onSubmit","async","preventDefault","length","currentLanguage","err","_err$response","_err$response$data","console","message","htmlFor","type","id","required","placeholder","minLength","disabled","Link","to"],"sourceRoot":""}