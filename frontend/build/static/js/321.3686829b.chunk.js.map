{"version":3,"file":"static/js/321.3686829b.chunk.js","mappings":"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","sources":["components/priceAnalysis/OTAListingsTab.tsx","components/priceAnalysis/AnalysisTab.tsx","components/priceAnalysis/PriceRecommendationsTab.tsx","components/priceAnalysis/PricingRulesTab.tsx","pages/PriceAnalysis.tsx","../node_modules/@heroicons/react/24/outline/esm/ArrowPathIcon.js","../node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../node_modules/@heroicons/react/24/outline/esm/MagnifyingGlassIcon.js","../node_modules/@heroicons/react/24/outline/esm/SparklesIcon.js","../node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../node_modules/@heroicons/react/24/outline/esm/PlusIcon.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../node_modules/@heroicons/react/24/outline/esm/CheckIcon.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { useError } from '../../contexts/ErrorContext.tsx';\nimport { useBranch } from '../../contexts/BranchContext.tsx';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport { ArrowPathIcon, MagnifyingGlassIcon } from '@heroicons/react/24/outline';\n\ninterface OTAListing {\n    id: number;\n    branchId: number | null;\n    platform: string;\n    listingId: string;\n    listingUrl: string | null;\n    city: string;\n    country: string | null;\n    roomType: string;\n    roomName: string | null;\n    isActive: boolean;\n    discoveredAt: string;\n    lastScrapedAt: string | null;\n    createdAt: string;\n    updatedAt: string;\n    priceData: OTAPriceData[];\n}\n\ninterface OTAPriceData {\n    id: number;\n    listingId: number;\n    date: string;\n    price: number;\n    currency: string;\n    available: boolean;\n    availableRooms: number | null;\n    scrapedAt: string;\n    source: string | null;\n}\n\nconst OTAListingsTab: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission } = usePermissions();\n    const { showMessage } = useMessage();\n    const errorContext = useError();\n    const { branches, selectedBranch } = useBranch();\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\n    \n    const handleError = errorContext?.handleError || ((err: any) => {\n        console.error(t('common.error', 'Fehler'), err);\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\n        showMessage(errorMessage, 'error');\n    });\n\n    const [listings, setListings] = useState<OTAListing[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [rateShoppingLoading, setRateShoppingLoading] = useState(false);\n    const [discovering, setDiscovering] = useState(false);\n    const [selectedPlatform, setSelectedPlatform] = useState<string>('booking.com');\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    const loadListings = useCallback(async () => {\n        if (!currentBranch) return;\n\n        setLoading(true);\n        try {\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.OTA.LISTINGS, {\n                params: {\n                    branchId: currentBranch.id\n                }\n            });\n            setListings(response.data);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setLoading(false);\n        }\n    }, [currentBranch, handleError]);\n\n    useEffect(() => {\n        if (currentBranch) {\n            loadListings();\n        }\n        \n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, [currentBranch, loadListings]);\n\n    const handleRunRateShopping = useCallback(async () => {\n        if (!currentBranch) {\n            return;\n        }\n\n        if (!hasPermission('price_analysis_run_rate_shopping', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setRateShoppingLoading(true);\n        try {\n            const startDate = new Date();\n            const endDate = new Date();\n            endDate.setMonth(endDate.getMonth() + 3);\n\n            const requestData = {\n                branchId: currentBranch.id,\n                platform: selectedPlatform,\n                startDate: startDate.toISOString().split('T')[0],\n                endDate: endDate.toISOString().split('T')[0]\n            };\n\n            const response = await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.OTA.RATE_SHOPPING, requestData);\n\n            if (response.data?.success) {\n                showMessage(t('priceAnalysis.rateShopping.started', 'Rate Shopping gestartet'), 'success');\n            } else {\n                showMessage(response.data?.message || t('priceAnalysis.rateShopping.started', 'Rate Shopping gestartet'), 'success');\n            }\n            \n            // Lade Listings nach kurzer VerzÃ¶gerung neu\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(() => {\n                loadListings();\n            }, 2000);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setRateShoppingLoading(false);\n        }\n    }, [currentBranch, selectedPlatform, hasPermission, showMessage, t, handleError, loadListings]);\n\n    const handleDiscoverListings = useCallback(async () => {\n        if (!currentBranch) {\n            return;\n        }\n\n        if (!hasPermission('price_analysis_run_rate_shopping', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setDiscovering(true);\n        try {\n            const response = await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.OTA.DISCOVER, {\n                branchId: currentBranch.id,\n                platform: selectedPlatform\n            });\n\n            if (response.data?.success) {\n                showMessage(\n                    t('priceAnalysis.discovery.completed', { \n                        count: response.data.listingsFound || 0,\n                        defaultValue: `${response.data.listingsFound || 0} Listings gefunden` \n                    }), \n                    'success'\n                );\n                // Lade Listings neu\n                await loadListings();\n            } else {\n                showMessage(response.data?.message || t('priceAnalysis.discovery.error'), 'error');\n            }\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setDiscovering(false);\n        }\n    }, [currentBranch, selectedPlatform, hasPermission, showMessage, t, handleError, loadListings]);\n\n    if (loading) {\n        return (\n            <div className=\"text-center py-4\">\n                {t('priceAnalysis.loading')}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n            <div className=\"mb-4 flex items-center gap-2\">\n                <select\n                    value={selectedPlatform}\n                    onChange={(e) => setSelectedPlatform(e.target.value)}\n                    className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\n                >\n                    <option value=\"booking.com\">Booking.com</option>\n                    <option value=\"hostelworld.com\">Hostelworld</option>\n                </select>\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleDiscoverListings}\n                        disabled={discovering || !hasPermission('price_analysis_run_rate_shopping', 'write', 'button')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.discovery.discover', 'Listings finden')}\n                    >\n                        <MagnifyingGlassIcon className={`h-5 w-5 ${discovering ? 'animate-pulse' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.discovery.discover', 'Listings finden')}\n                    </div>\n                </div>\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleRunRateShopping}\n                        disabled={rateShoppingLoading || !hasPermission('price_analysis_run_rate_shopping', 'write', 'button')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.rateShopping.run', 'Rate Shopping starten')}\n                    >\n                        <ArrowPathIcon className={`h-5 w-5 ${rateShoppingLoading ? 'animate-spin' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.rateShopping.run', 'Rate Shopping starten')}\n                    </div>\n                </div>\n            </div>\n\n            {listings.length === 0 ? (\n                <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\n                    {t('priceAnalysis.noListings')}\n                </div>\n            ) : (\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                        <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.platform')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('branches.city')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.roomType')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.roomName')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.listingUrl')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.status')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.lastScraped')}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n                            {listings.map((listing) => (\n                                <tr key={listing.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.platform}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.city}{listing.country ? `, ${listing.country}` : ''}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.roomType === 'dorm' ? t('priceAnalysis.dorm', 'Dorm') : t('priceAnalysis.private', 'Privatzimmer')}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.roomName || '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.listingUrl ? (\n                                            <a \n                                                href={listing.listingUrl} \n                                                target=\"_blank\" \n                                                rel=\"noopener noreferrer\"\n                                                className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\"\n                                            >\n                                                {t('common.view')}\n                                            </a>\n                                        ) : '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                                            listing.isActive \n                                                ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' \n                                                : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\n                                        }`}>\n                                            {listing.isActive ? t('priceAnalysis.active') : t('priceAnalysis.inactive')}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.lastScrapedAt\n                                            ? new Date(listing.lastScrapedAt).toLocaleDateString()\n                                            : listing.priceData.length > 0\n                                            ? new Date(listing.priceData[0].scrapedAt).toLocaleDateString()\n                                            : '-'}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default OTAListingsTab;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { useError } from '../../contexts/ErrorContext.tsx';\nimport { useBranch } from '../../contexts/BranchContext.tsx';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport { PlayIcon } from '@heroicons/react/24/outline';\n\ninterface PriceAnalysis {\n    id: number;\n    branchId: number;\n    analysisDate: string;\n    startDate: string;\n    endDate: string;\n    categoryId: number | null;\n    roomType: string;\n    currentPrice: number | null;\n    averagePrice: number | null;\n    minPrice: number | null;\n    maxPrice: number | null;\n    occupancyRate: number | null;\n    availableRooms: number | null;\n    competitorAvgPrice: number | null;\n    pricePosition: string | null;\n    createdAt: string;\n    updatedAt: string;\n    recommendations: any[];\n}\n\nconst AnalysisTab: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission } = usePermissions();\n    const { showMessage } = useMessage();\n    const errorContext = useError();\n    const { branches, selectedBranch } = useBranch();\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\n    \n    const handleError = errorContext?.handleError || ((err: any) => {\n        console.error(t('common.error', 'Fehler'), err);\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\n        showMessage(errorMessage, 'error');\n    });\n\n    const [analyses, setAnalyses] = useState<PriceAnalysis[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [analyzing, setAnalyzing] = useState(false);\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    const loadAnalyses = useCallback(async () => {\n        if (!currentBranch) return;\n\n        setLoading(true);\n        try {\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.ANALYSES, {\n                params: {\n                    branchId: currentBranch.id\n                }\n            });\n            setAnalyses(response.data);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setLoading(false);\n        }\n    }, [currentBranch, handleError]);\n\n    useEffect(() => {\n        if (currentBranch) {\n            loadAnalyses();\n        }\n        \n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, [currentBranch, loadAnalyses]);\n\n    const handleAnalyze = useCallback(async () => {\n        if (!currentBranch) return;\n\n        if (!hasPermission('price_analysis', 'write', 'page')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setAnalyzing(true);\n        try {\n            const startDate = new Date();\n            const endDate = new Date();\n            endDate.setMonth(endDate.getMonth() + 3);\n\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.ANALYZE, {\n                branchId: currentBranch.id,\n                startDate: startDate.toISOString().split('T')[0],\n                endDate: endDate.toISOString().split('T')[0]\n            });\n\n            showMessage(t('priceAnalysis.analysis.started', 'Preisanalyse gestartet'), 'success');\n            \n            // Lade Analysen nach kurzer VerzÃ¶gerung neu\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(() => {\n                loadAnalyses();\n            }, 2000);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setAnalyzing(false);\n        }\n    }, [currentBranch, hasPermission, showMessage, t, handleError, loadAnalyses]);\n\n    const formatPrice = (price: number | null): string => {\n        if (price === null) return '-';\n        return new Intl.NumberFormat('de-DE', {\n            style: 'currency',\n            currency: 'COP',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(price);\n    };\n\n    const formatDate = (dateString: string): string => {\n        return new Date(dateString).toLocaleDateString('de-DE');\n    };\n\n    const formatPercent = (value: number | null | string | undefined): string => {\n        if (value === null || value === undefined) return '-';\n        const numValue = typeof value === 'string' ? parseFloat(value) : value;\n        if (isNaN(numValue)) return '-';\n        return `${numValue.toFixed(1)}%`;\n    };\n\n    if (loading) {\n        return (\n            <div className=\"text-center py-4\">\n                {t('priceAnalysis.loading')}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n            <div className=\"mb-4\">\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleAnalyze}\n                        disabled={analyzing || !hasPermission('price_analysis', 'write', 'page')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.analysis.run', 'Preisanalyse starten')}\n                    >\n                        <PlayIcon className={`h-5 w-5 ${analyzing ? 'animate-pulse' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.analysis.run', 'Preisanalyse starten')}\n                    </div>\n                </div>\n            </div>\n\n            {analyses.length === 0 ? (\n                <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\n                    {t('priceAnalysis.noAnalyses', 'Keine Preisanalysen gefunden')}\n                </div>\n            ) : (\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                        <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.date', 'Datum')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.categoryId', 'Kategorie')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.roomType', 'Zimmerart')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.currentPrice', 'Aktueller Preis')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.averagePrice', 'Ã Preis')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.minPrice', 'Min')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.maxPrice', 'Max')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.occupancyRate', 'Belegung')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.availableRooms', 'VerfÃ¼gbar')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.competitorPrice', 'Konkurrenz')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.pricePosition', 'Position')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.recommendations', 'Empfehlungen')}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n                            {analyses.map((analysis) => (\n                                <tr key={analysis.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {formatDate(analysis.analysisDate)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.categoryId || '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.roomType === 'dorm' ? t('priceAnalysis.roomType.dorm', 'Dorm') : t('priceAnalysis.roomType.private', 'Privat')}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.currentPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.averagePrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.minPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.maxPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPercent(analysis.occupancyRate)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {analysis.availableRooms ?? '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.competitorAvgPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.pricePosition === 'above' && 'â ' + t('priceAnalysis.pricePosition.above', 'Ãber')}\n                                        {analysis.pricePosition === 'below' && 'â ' + t('priceAnalysis.pricePosition.below', 'Unter')}\n                                        {analysis.pricePosition === 'equal' && '= ' + t('priceAnalysis.pricePosition.equal', 'Gleich')}\n                                        {!analysis.pricePosition && '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {analysis.recommendations?.length || 0}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AnalysisTab;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dialog } from '@headlessui/react';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { useError } from '../../contexts/ErrorContext.tsx';\nimport { useBranch } from '../../contexts/BranchContext.tsx';\nimport { useSidepane } from '../../contexts/SidepaneContext.tsx';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport { \n    SparklesIcon, \n    CheckIcon, \n    XMarkIcon, \n    ArrowRightIcon \n} from '@heroicons/react/24/outline';\n\ninterface PriceRecommendation {\n    id: number;\n    branchId: number;\n    analysisId: number | null;\n    date: string;\n    categoryId: number | null;\n    roomType: string;\n    recommendedPrice: number;\n    currentPrice: number | null;\n    priceChange: number | null;\n    priceChangePercent: number | null;\n    appliedRules: any;\n    reasoning: string | null;\n    status: 'pending' | 'approved' | 'applied' | 'rejected';\n    appliedAt: string | null;\n    appliedBy: number | null;\n    approvedAt: string | null;\n    approvedBy: number | null;\n    createdAt: string;\n    updatedAt: string;\n}\n\nconst PriceRecommendationsTab: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission } = usePermissions();\n    const { showMessage } = useMessage();\n    const errorContext = useError();\n    const { branches, selectedBranch } = useBranch();\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\n    const { openSidepane, closeSidepane } = useSidepane();\n    \n    const handleError = errorContext?.handleError || ((err: any) => {\n        console.error(t('common.error', 'Fehler'), err);\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\n        showMessage(errorMessage, 'error');\n    });\n\n    const [recommendations, setRecommendations] = useState<PriceRecommendation[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [statusFilter, setStatusFilter] = useState<string>('pending');\n    const [generating, setGenerating] = useState(false);\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n    \n    // Modal/Sidepane states\n    const [rejectModalOpen, setRejectModalOpen] = useState(false);\n    const [applyModalOpen, setApplyModalOpen] = useState(false);\n    const [selectedRecommendationId, setSelectedRecommendationId] = useState<number | null>(null);\n    const [rejectReason, setRejectReason] = useState('');\n    const [isMobile, setIsMobile] = useState<boolean>(window.innerWidth < 640);\n\n    // Ãberwache BildschirmgrÃ¶Ãe\n    useEffect(() => {\n        const handleResize = () => {\n            setIsMobile(window.innerWidth < 640);\n        };\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    // Sidepane Ã¶ffnen/schlieÃen basierend auf Modal-Status\n    useEffect(() => {\n        if (rejectModalOpen || applyModalOpen) {\n            openSidepane();\n        } else {\n            closeSidepane();\n        }\n        return () => {\n            closeSidepane();\n        };\n    }, [rejectModalOpen, applyModalOpen, openSidepane, closeSidepane]);\n\n    const loadRecommendations = useCallback(async () => {\n        if (!currentBranch) return;\n\n        setLoading(true);\n        try {\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.BASE, {\n                params: {\n                    branchId: currentBranch.id,\n                    status: statusFilter || undefined\n                }\n            });\n            setRecommendations(response.data);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setLoading(false);\n        }\n    }, [currentBranch, statusFilter, handleError]);\n\n    useEffect(() => {\n        if (currentBranch) {\n            loadRecommendations();\n        }\n        \n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, [currentBranch, statusFilter, loadRecommendations]);\n\n    const handleGenerateRecommendations = useCallback(async () => {\n        if (!currentBranch) return;\n\n        if (!hasPermission('price_analysis', 'write', 'page')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setGenerating(true);\n        try {\n            const startDate = new Date();\n            const endDate = new Date();\n            endDate.setMonth(endDate.getMonth() + 3);\n\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.GENERATE, {\n                branchId: currentBranch.id,\n                startDate: startDate.toISOString().split('T')[0],\n                endDate: endDate.toISOString().split('T')[0]\n            });\n\n            showMessage(t('priceAnalysis.recommendations.generated', 'Preisempfehlungen generiert'), 'success');\n            \n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(() => {\n                loadRecommendations();\n            }, 2000);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setGenerating(false);\n        }\n    }, [currentBranch, hasPermission, showMessage, t, handleError, loadRecommendations]);\n\n    const handleApprove = useCallback(async (recommendationId: number) => {\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        try {\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.APPROVE(recommendationId));\n            showMessage(t('priceAnalysis.recommendations.approved', 'Empfehlung genehmigt'), 'success');\n            loadRecommendations();\n        } catch (error: any) {\n            handleError(error);\n        }\n    }, [hasPermission, showMessage, t, handleError, loadRecommendations]);\n\n    const openRejectModal = useCallback((recommendationId: number) => {\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n        setSelectedRecommendationId(recommendationId);\n        setRejectReason('');\n        setRejectModalOpen(true);\n    }, [hasPermission, showMessage, t]);\n\n    const handleReject = useCallback(async () => {\n        if (!selectedRecommendationId) return;\n\n        try {\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.REJECT(selectedRecommendationId), {\n                reason: rejectReason || undefined\n            });\n            showMessage(t('priceAnalysis.recommendations.rejected', 'Empfehlung abgelehnt'), 'success');\n            setRejectModalOpen(false);\n            setSelectedRecommendationId(null);\n            setRejectReason('');\n            loadRecommendations();\n        } catch (error: any) {\n            handleError(error);\n        }\n    }, [selectedRecommendationId, rejectReason, showMessage, t, handleError, loadRecommendations]);\n\n    const openApplyModal = useCallback((recommendationId: number) => {\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n        setSelectedRecommendationId(recommendationId);\n        setApplyModalOpen(true);\n    }, [hasPermission, showMessage, t]);\n\n    const handleApply = useCallback(async () => {\n        if (!selectedRecommendationId) return;\n\n        try {\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.APPLY(selectedRecommendationId));\n            showMessage(t('priceAnalysis.recommendations.applied', 'Empfehlung angewendet'), 'success');\n            setApplyModalOpen(false);\n            setSelectedRecommendationId(null);\n            loadRecommendations();\n        } catch (error: any) {\n            handleError(error);\n        }\n    }, [selectedRecommendationId, showMessage, t, handleError, loadRecommendations]);\n\n    const formatPrice = (price: number | null): string => {\n        if (price === null) return '-';\n        return new Intl.NumberFormat('de-DE', {\n            style: 'currency',\n            currency: 'COP',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(price);\n    };\n\n    const formatDate = (dateString: string): string => {\n        return new Date(dateString).toLocaleDateString('de-DE');\n    };\n\n    const formatPercent = (value: number | null | any): string => {\n        if (value === null || value === undefined) return '-';\n        \n        // Konvertiere Prisma Decimal oder andere Objekte zu Number\n        let numValue: number;\n        if (typeof value === 'object' && value !== null) {\n            // Prisma Decimal hat toNumber() Methode\n            if (typeof value.toNumber === 'function') {\n                numValue = value.toNumber();\n            } else if (typeof value.toString === 'function') {\n                numValue = parseFloat(value.toString());\n            } else {\n                numValue = Number(value);\n            }\n        } else {\n            numValue = Number(value);\n        }\n        \n        if (isNaN(numValue)) return '-';\n        const sign = numValue >= 0 ? '+' : '';\n        return `${sign}${numValue.toFixed(1)}%`;\n    };\n\n    const getStatusColor = (status: string): string => {\n        switch (status) {\n            case 'pending': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\n            case 'approved': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\n            case 'applied': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\n            case 'rejected': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\n            default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n        }\n    };\n\n    const getStatusText = (status: string): string => {\n        switch (status) {\n            case 'pending': return t('priceAnalysis.recommendations.status.pending', 'Ausstehend');\n            case 'approved': return t('priceAnalysis.recommendations.status.approved', 'Genehmigt');\n            case 'applied': return t('priceAnalysis.recommendations.status.applied', 'Angewendet');\n            case 'rejected': return t('priceAnalysis.recommendations.status.rejected', 'Abgelehnt');\n            default: return status;\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"text-center py-4\">\n                {t('priceAnalysis.loading')}\n            </div>\n        );\n    }\n\n    return (\n        <>\n            <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n                <div className=\"mb-4 flex items-center gap-2 flex-wrap\">\n                    <div className=\"relative group\">\n                        <button\n                            onClick={handleGenerateRecommendations}\n                            disabled={generating || !hasPermission('price_analysis', 'write', 'page')}\n                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                            title={t('priceAnalysis.recommendations.generate', 'Empfehlungen generieren')}\n                        >\n                            <SparklesIcon className={`h-5 w-5 ${generating ? 'animate-pulse' : ''}`} />\n                        </button>\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                            {t('priceAnalysis.recommendations.generate', 'Empfehlungen generieren')}\n                        </div>\n                    </div>\n                    \n                    <select\n                        value={statusFilter}\n                        onChange={(e) => setStatusFilter(e.target.value)}\n                        className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\n                    >\n                        <option value=\"\">{t('priceAnalysis.recommendations.allStatuses', 'Alle Status')}</option>\n                        <option value=\"pending\">{t('priceAnalysis.recommendations.status.pending', 'Ausstehend')}</option>\n                        <option value=\"approved\">{t('priceAnalysis.recommendations.status.approved', 'Genehmigt')}</option>\n                        <option value=\"applied\">{t('priceAnalysis.recommendations.status.applied', 'Angewendet')}</option>\n                        <option value=\"rejected\">{t('priceAnalysis.recommendations.status.rejected', 'Abgelehnt')}</option>\n                    </select>\n                </div>\n\n                {recommendations.length === 0 ? (\n                    <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\n                        {t('priceAnalysis.recommendations.noRecommendations', 'Keine Preisempfehlungen gefunden')}\n                    </div>\n                ) : (\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                            <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                                <tr>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.date', 'Datum')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.categoryId', 'Kategorie')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.roomType', 'Zimmerart')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.currentPrice', 'Aktueller Preis')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.recommendedPrice', 'Empfohlener Preis')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.change', 'Ãnderung')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.reasoning', 'BegrÃ¼ndung')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('priceAnalysis.recommendations.status', 'Status')}\n                                    </th>\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                        {t('common.actions', 'Aktionen')}\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n                                {recommendations.map((recommendation) => (\n                                    <tr key={recommendation.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                            {formatDate(recommendation.date)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                            {recommendation.categoryId || '-'}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                            {recommendation.roomType === 'dorm' ? t('priceAnalysis.roomType.dorm', 'Dorm') : t('priceAnalysis.roomType.private', 'Privat')}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                            {formatPrice(recommendation.currentPrice)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white text-right\">\n                                            {formatPrice(recommendation.recommendedPrice)}\n                                        </td>\n                                        <td className={`px-6 py-4 whitespace-nowrap text-sm text-right ${\n                                            (recommendation.priceChangePercent || 0) >= 0 \n                                                ? 'text-green-600 dark:text-green-400' \n                                                : 'text-red-600 dark:text-red-400'\n                                        }`}>\n                                            {formatPercent(recommendation.priceChangePercent)}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs\">\n                                            <div className=\"truncate\" title={recommendation.reasoning || ''}>\n                                                {recommendation.reasoning || '-'}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(recommendation.status)}`}>\n                                                {getStatusText(recommendation.status)}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                                            <div className=\"flex items-center gap-2\">\n                                                {recommendation.status === 'pending' && (\n                                                    <>\n                                                        <div className=\"relative group\">\n                                                            <button\n                                                                onClick={() => handleApprove(recommendation.id)}\n                                                                disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\n                                                                className=\"p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                                                title={t('priceAnalysis.recommendations.approve', 'Genehmigen')}\n                                                            >\n                                                                <CheckIcon className=\"h-4 w-4\" />\n                                                            </button>\n                                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                                {t('priceAnalysis.recommendations.approve', 'Genehmigen')}\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"relative group\">\n                                                            <button\n                                                                onClick={() => openRejectModal(recommendation.id)}\n                                                                disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\n                                                                className=\"p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                                                title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                                            >\n                                                                <XMarkIcon className=\"h-4 w-4\" />\n                                                            </button>\n                                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                                {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                                            </div>\n                                                        </div>\n                                                    </>\n                                                )}\n                                                {recommendation.status === 'approved' && (\n                                                    <div className=\"relative group\">\n                                                        <button\n                                                            onClick={() => openApplyModal(recommendation.id)}\n                                                            disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\n                                                            className=\"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                                            title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                                        >\n                                                            <ArrowRightIcon className=\"h-4 w-4\" />\n                                                        </button>\n                                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                            {t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                                        </div>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                )}\n            </div>\n\n            {/* Reject Modal/Sidepane */}\n            {rejectModalOpen && (\n                <>\n                    {isMobile ? (\n                        <Dialog open={rejectModalOpen} onClose={() => setRejectModalOpen(false)} className=\"relative z-50\">\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\n                                    <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n                                        <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                                            {t('priceAnalysis.recommendations.reject', 'Empfehlung ablehnen')}\n                                        </Dialog.Title>\n                                        <button\n                                            onClick={() => setRejectModalOpen(false)}\n                                            className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\n                                        >\n                                            <XMarkIcon className=\"h-6 w-6\" />\n                                        </button>\n                                    </div>\n                                    <div className=\"p-6\">\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                                            {t('priceAnalysis.recommendations.rejectReason', 'Grund fÃ¼r Ablehnung (optional):')}\n                                        </label>\n                                        <textarea\n                                            value={rejectReason}\n                                            onChange={(e) => setRejectReason(e.target.value)}\n                                            rows={4}\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                                            placeholder={t('priceAnalysis.recommendations.rejectReasonPlaceholder', 'Grund eingeben...')}\n                                        />\n                                    </div>\n                                    <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\n                                        <div className=\"relative group\">\n                                            <button\n                                                onClick={() => setRejectModalOpen(false)}\n                                                className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                                title={t('common.cancel', 'Abbrechen')}\n                                            >\n                                                <XMarkIcon className=\"h-5 w-5\" />\n                                            </button>\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                {t('common.cancel', 'Abbrechen')}\n                                            </div>\n                                        </div>\n                                        <div className=\"relative group\">\n                                            <button\n                                                onClick={handleReject}\n                                                className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                                title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                            >\n                                                <XMarkIcon className=\"h-5 w-5\" />\n                                            </button>\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Dialog.Panel>\n                            </div>\n                        </Dialog>\n                    ) : (\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\n                            style={{\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                                transform: rejectModalOpen ? 'translateX(0)' : 'translateX(100%)',\n                                pointerEvents: rejectModalOpen ? 'auto' : 'none'\n                            }}\n                        >\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\n                                    {t('priceAnalysis.recommendations.reject', 'Empfehlung ablehnen')}\n                                </h2>\n                                <button\n                                    onClick={() => setRejectModalOpen(false)}\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\n                                >\n                                    <XMarkIcon className=\"h-6 w-6\" />\n                                </button>\n                            </div>\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                                    {t('priceAnalysis.recommendations.rejectReason', 'Grund fÃ¼r Ablehnung (optional):')}\n                                </label>\n                                <textarea\n                                    value={rejectReason}\n                                    onChange={(e) => setRejectReason(e.target.value)}\n                                    rows={4}\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                                    placeholder={t('priceAnalysis.recommendations.rejectReasonPlaceholder', 'Grund eingeben...')}\n                                />\n                            </div>\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\n                                <div className=\"relative group\">\n                                    <button\n                                        onClick={() => setRejectModalOpen(false)}\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                        title={t('common.cancel', 'Abbrechen')}\n                                    >\n                                        <XMarkIcon className=\"h-5 w-5\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                        {t('common.cancel', 'Abbrechen')}\n                                    </div>\n                                </div>\n                                <div className=\"relative group\">\n                                    <button\n                                        onClick={handleReject}\n                                        className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                        title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                    >\n                                        <XMarkIcon className=\"h-5 w-5\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                        {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </>\n            )}\n\n            {/* Apply Modal/Sidepane */}\n            {applyModalOpen && (\n                <>\n                    {isMobile ? (\n                        <Dialog open={applyModalOpen} onClose={() => setApplyModalOpen(false)} className=\"relative z-50\">\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\n                                    <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n                                        <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                                            {t('priceAnalysis.recommendations.applyConfirm', 'Empfehlung anwenden')}\n                                        </Dialog.Title>\n                                        <button\n                                            onClick={() => setApplyModalOpen(false)}\n                                            className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\n                                        >\n                                            <XMarkIcon className=\"h-6 w-6\" />\n                                        </button>\n                                    </div>\n                                    <div className=\"p-6\">\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                            {t('priceAnalysis.recommendations.applyConfirmText', 'MÃ¶chten Sie diese Empfehlung wirklich anwenden?')}\n                                        </p>\n                                    </div>\n                                    <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\n                                        <div className=\"relative group\">\n                                            <button\n                                                onClick={() => setApplyModalOpen(false)}\n                                                className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                                title={t('common.cancel', 'Abbrechen')}\n                                            >\n                                                <XMarkIcon className=\"h-5 w-5\" />\n                                            </button>\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                {t('common.cancel', 'Abbrechen')}\n                                            </div>\n                                        </div>\n                                        <div className=\"relative group\">\n                                            <button\n                                                onClick={handleApply}\n                                                className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                                title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                            >\n                                                <CheckIcon className=\"h-5 w-5\" />\n                                            </button>\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                                {t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Dialog.Panel>\n                            </div>\n                        </Dialog>\n                    ) : (\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\n                            style={{\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                                transform: applyModalOpen ? 'translateX(0)' : 'translateX(100%)',\n                                pointerEvents: applyModalOpen ? 'auto' : 'none'\n                            }}\n                        >\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\n                                    {t('priceAnalysis.recommendations.applyConfirm', 'Empfehlung anwenden')}\n                                </h2>\n                                <button\n                                    onClick={() => setApplyModalOpen(false)}\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\n                                >\n                                    <XMarkIcon className=\"h-6 w-6\" />\n                                </button>\n                            </div>\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                    {t('priceAnalysis.recommendations.applyConfirmText', 'MÃ¶chten Sie diese Empfehlung wirklich anwenden?')}\n                                </p>\n                            </div>\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\n                                <div className=\"relative group\">\n                                    <button\n                                        onClick={() => setApplyModalOpen(false)}\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                        title={t('common.cancel', 'Abbrechen')}\n                                    >\n                                        <XMarkIcon className=\"h-5 w-5\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                        {t('common.cancel', 'Abbrechen')}\n                                    </div>\n                                </div>\n                                <div className=\"relative group\">\n                                    <button\n                                        onClick={handleApply}\n                                        className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                                        title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                    >\n                                        <CheckIcon className=\"h-5 w-5\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                        {t('priceAnalysis.recommendations.apply', 'Anwenden')}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </>\n            )}\n        </>\n    );\n};\n\nexport default PriceRecommendationsTab;\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Dialog } from '@headlessui/react';\r\nimport { usePermissions } from '../../hooks/usePermissions.ts';\r\nimport useMessage from '../../hooks/useMessage.ts';\r\nimport { useError } from '../../contexts/ErrorContext.tsx';\r\nimport { useBranch } from '../../contexts/BranchContext.tsx';\r\nimport { useSidepane } from '../../contexts/SidepaneContext.tsx';\r\nimport { API_ENDPOINTS } from '../../config/api.ts';\r\nimport axiosInstance from '../../config/axios.ts';\r\nimport { \r\n    PlusIcon, \r\n    PencilIcon, \r\n    TrashIcon, \r\n    XMarkIcon, \r\n    CheckIcon \r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface PricingRule {\r\n    id: number;\r\n    branchId: number;\r\n    name: string;\r\n    description: string | null;\r\n    conditions: any;\r\n    action: any;\r\n    roomTypes: any;\r\n    categoryIds: any;\r\n    priority: number;\r\n    isActive: boolean;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n    createdBy: number | null;\r\n    createdByUser: {\r\n        id: number;\r\n        firstName: string | null;\r\n        lastName: string | null;\r\n        username: string;\r\n    } | null;\r\n}\r\n\r\nconst PricingRulesTab: React.FC = () => {\r\n    const { t } = useTranslation();\r\n    const { hasPermission } = usePermissions();\r\n    const { showMessage } = useMessage();\r\n    const errorContext = useError();\r\n    const { branches, selectedBranch } = useBranch();\r\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\r\n    const { openSidepane, closeSidepane } = useSidepane();\r\n    \r\n    const handleError = errorContext?.handleError || ((err: any) => {\r\n        console.error(t('common.error', 'Fehler'), err);\r\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\r\n        showMessage(errorMessage, 'error');\r\n    });\r\n\r\n    const [rules, setRules] = useState<PricingRule[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n    const [isMobile, setIsMobile] = useState<boolean>(window.innerWidth < 640);\r\n\r\n    // Ãberwache BildschirmgrÃ¶Ãe\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setIsMobile(window.innerWidth < 640);\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    // Sidepane Ã¶ffnen/schlieÃen basierend auf Modal-Status\r\n    useEffect(() => {\r\n        if (isModalOpen || deleteModalOpen) {\r\n            openSidepane();\r\n        } else {\r\n            closeSidepane();\r\n        }\r\n        return () => {\r\n            closeSidepane();\r\n        };\r\n    }, [isModalOpen, deleteModalOpen, openSidepane, closeSidepane]);\r\n    const [editingRule, setEditingRule] = useState<PricingRule | null>(null);\r\n    const [ruleToDelete, setRuleToDelete] = useState<number | null>(null);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        priority: 0,\r\n        isActive: true,\r\n        conditions: JSON.stringify({ occupancyRate: { operator: '>', value: 80 } }, null, 2),\r\n        action: JSON.stringify({ type: 'increase', value: 15, maxChange: 30, minPrice: 40000, maxPrice: 80000, cumulative: true }, null, 2),\r\n        roomTypes: '',\r\n        categoryIds: ''\r\n    });\r\n\r\n    const loadRules = useCallback(async () => {\r\n        if (!currentBranch) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BASE, {\r\n                params: {\r\n                    branchId: currentBranch.id\r\n                }\r\n            });\r\n            setRules(response.data);\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [currentBranch, handleError]);\r\n\r\n    useEffect(() => {\r\n        if (currentBranch) {\r\n            loadRules();\r\n        }\r\n    }, [currentBranch, loadRules]);\r\n\r\n    const handleCreate = useCallback(() => {\r\n        setEditingRule(null);\r\n        setFormData({\r\n            name: '',\r\n            description: '',\r\n            priority: 0,\r\n            isActive: true,\r\n            conditions: JSON.stringify({ occupancyRate: { operator: '>', value: 80 } }, null, 2),\r\n            action: JSON.stringify({ type: 'increase', value: 15, maxChange: 30, minPrice: 40000, maxPrice: 80000, cumulative: true }, null, 2),\r\n            roomTypes: '',\r\n            categoryIds: ''\r\n        });\r\n        setIsModalOpen(true);\r\n    }, []);\r\n\r\n    const handleEdit = useCallback((rule: PricingRule) => {\r\n        setEditingRule(rule);\r\n        setFormData({\r\n            name: rule.name,\r\n            description: rule.description || '',\r\n            priority: rule.priority,\r\n            isActive: rule.isActive,\r\n            conditions: JSON.stringify(rule.conditions, null, 2),\r\n            action: JSON.stringify(rule.action, null, 2),\r\n            roomTypes: rule.roomTypes ? JSON.stringify(rule.roomTypes) : '',\r\n            categoryIds: rule.categoryIds ? JSON.stringify(rule.categoryIds) : ''\r\n        });\r\n        setIsModalOpen(true);\r\n    }, []);\r\n\r\n    const openDeleteModal = useCallback((ruleId: number) => {\r\n        if (!hasPermission('price_analysis_delete_rule', 'write', 'button')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n        setRuleToDelete(ruleId);\r\n        setDeleteModalOpen(true);\r\n    }, [hasPermission, showMessage, t]);\r\n\r\n    const handleDelete = useCallback(async () => {\r\n        if (!ruleToDelete) return;\r\n\r\n        try {\r\n            await axiosInstance.delete(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BY_ID(ruleToDelete));\r\n            showMessage(t('priceAnalysis.rules.deleted', 'Regel gelÃ¶scht'), 'success');\r\n            setDeleteModalOpen(false);\r\n            setRuleToDelete(null);\r\n            loadRules();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [ruleToDelete, showMessage, t, handleError, loadRules]);\r\n\r\n    const handleSubmit = useCallback(async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!currentBranch) return;\r\n\r\n        try {\r\n            let conditions, action, roomTypes, categoryIds;\r\n\r\n            // Parse JSON\r\n            try {\r\n                conditions = JSON.parse(formData.conditions);\r\n                action = JSON.parse(formData.action);\r\n                roomTypes = formData.roomTypes ? JSON.parse(formData.roomTypes) : null;\r\n                categoryIds = formData.categoryIds ? JSON.parse(formData.categoryIds) : null;\r\n            } catch (error) {\r\n                showMessage(t('priceAnalysis.rules.invalidJson', 'UngÃ¼ltiges JSON-Format'), 'error');\r\n                return;\r\n            }\r\n\r\n            const payload = {\r\n                branchId: currentBranch.id,\r\n                name: formData.name,\r\n                description: formData.description || null,\r\n                conditions,\r\n                action,\r\n                roomTypes,\r\n                categoryIds,\r\n                priority: formData.priority,\r\n                isActive: formData.isActive\r\n            };\r\n\r\n            if (editingRule) {\r\n                await axiosInstance.put(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BY_ID(editingRule.id), payload);\r\n                showMessage(t('priceAnalysis.rules.updated', 'Regel aktualisiert'), 'success');\r\n            } else {\r\n                await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BASE, payload);\r\n                showMessage(t('priceAnalysis.rules.created', 'Regel erstellt'), 'success');\r\n            }\r\n\r\n            setIsModalOpen(false);\r\n            setEditingRule(null);\r\n            // Warte kurz, damit der Server die Regel verarbeitet hat\r\n            setTimeout(() => {\r\n                loadRules();\r\n            }, 500);\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [currentBranch, formData, editingRule, showMessage, t, handleError, loadRules]);\r\n\r\n    const formatDate = (dateString: string): string => {\r\n        return new Date(dateString).toLocaleDateString('de-DE');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"text-center py-4\">\r\n                {t('priceAnalysis.loading')}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\r\n                <div className=\"mb-4\">\r\n                    <div className=\"relative group\">\r\n                        <button\r\n                            onClick={handleCreate}\r\n                            disabled={!hasPermission('price_analysis_create_rule', 'write', 'button')}\r\n                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            title={t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                        >\r\n                            <PlusIcon className=\"h-5 w-5\" />\r\n                        </button>\r\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                            {t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {rules.length === 0 ? (\r\n                    <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\r\n                        {t('priceAnalysis.rules.noRules', 'Keine Preisregeln gefunden')}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n                                <tr>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.name', 'Name')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.status', 'Status')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.createdBy', 'Erstellt von')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.createdAt', 'Erstellt am')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('common.actions', 'Aktionen')}\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                                {rules.map((rule) => (\r\n                                    <tr key={rule.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.name}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.description || '-'}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\r\n                                            {rule.priority}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                                                rule.isActive \r\n                                                    ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' \r\n                                                    : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\r\n                                            }`}>\r\n                                                {rule.isActive ? t('priceAnalysis.active', 'Aktiv') : t('priceAnalysis.inactive', 'Inaktiv')}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.createdByUser \r\n                                                ? `${rule.createdByUser.firstName || ''} ${rule.createdByUser.lastName || ''}`.trim() || rule.createdByUser.username\r\n                                                : '-'\r\n                                            }\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {formatDate(rule.createdAt)}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <div className=\"relative group\">\r\n                                                    <button\r\n                                                        onClick={() => handleEdit(rule)}\r\n                                                        disabled={!hasPermission('price_analysis_edit_rule', 'write', 'button')}\r\n                                                        className=\"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                        title={t('common.edit', 'Bearbeiten')}\r\n                                                    >\r\n                                                        <PencilIcon className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                        {t('common.edit', 'Bearbeiten')}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"relative group\">\r\n                                                    <button\r\n                                                        onClick={() => openDeleteModal(rule.id)}\r\n                                                        disabled={!hasPermission('price_analysis_delete_rule', 'write', 'button')}\r\n                                                        className=\"p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                        title={t('common.delete', 'LÃ¶schen')}\r\n                                                    >\r\n                                                        <TrashIcon className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                        {t('common.delete', 'LÃ¶schen')}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Create/Edit Modal/Sidepane */}\r\n            {isModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={isModalOpen} onClose={() => setIsModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-4xl w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl max-h-[90vh] overflow-y-auto\">\r\n                        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                            <Dialog.Title className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n                                {editingRule ? t('priceAnalysis.rules.edit', 'Regel bearbeiten') : t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                            </Dialog.Title>\r\n                            <button\r\n                                onClick={() => setIsModalOpen(false)}\r\n                                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                            >\r\n                                <XMarkIcon className=\"h-6 w-6\" />\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.name', 'Name')} *\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.name}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.description}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white min-h-[60px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                </label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={formData.priority}\r\n                                    onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) || 0 })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={formData.isActive}\r\n                                    onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\r\n                                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                />\r\n                                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                                    {t('priceAnalysis.rules.isActive', 'Aktiv')}\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.conditions', 'Bedingungen')} (JSON) *\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.conditions}\r\n                                    onChange={(e) => setFormData({ ...formData, conditions: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.action', 'Aktion')} (JSON) *\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.action}\r\n                                    onChange={(e) => setFormData({ ...formData, action: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.roomTypes', 'Zimmerarten')} (JSON, optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.roomTypes}\r\n                                    onChange={(e) => setFormData({ ...formData, roomTypes: e.target.value })}\r\n                                    placeholder='[\"dorm\", \"private\"] oder leer fÃ¼r alle'\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.categoryIds', 'Kategorie-IDs')} (JSON, optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.categoryIds}\r\n                                    onChange={(e) => setFormData({ ...formData, categoryIds: e.target.value })}\r\n                                    placeholder='[34280, 34281] oder leer fÃ¼r alle'\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end gap-2 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => setIsModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.save', 'Speichern')}\r\n                                    >\r\n                                        <CheckIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.save', 'Speichern')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                                </form>\r\n                            </Dialog.Panel>\r\n                        </div>\r\n                    </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: isModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: isModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {editingRule ? t('priceAnalysis.rules.edit', 'Regel bearbeiten') : t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 min-h-0\">\r\n                                <div className=\"flex-1 overflow-y-auto min-h-0 p-4 space-y-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.name', 'Name')} *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.name}\r\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.description}\r\n                                            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white min-h-[60px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={formData.priority}\r\n                                            onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) || 0 })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={formData.isActive}\r\n                                            onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\r\n                                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                        />\r\n                                        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                                            {t('priceAnalysis.rules.isActive', 'Aktiv')}\r\n                                        </label>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.conditions', 'Bedingungen')} (JSON) *\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.conditions}\r\n                                            onChange={(e) => setFormData({ ...formData, conditions: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.action', 'Aktion')} (JSON) *\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.action}\r\n                                            onChange={(e) => setFormData({ ...formData, action: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.roomTypes', 'Zimmerarten')} (JSON, optional)\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.roomTypes}\r\n                                            onChange={(e) => setFormData({ ...formData, roomTypes: e.target.value })}\r\n                                            placeholder='[\"dorm\", \"private\"] oder leer fÃ¼r alle'\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.categoryIds', 'Kategorie-IDs')} (JSON, optional)\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.categoryIds}\r\n                                            onChange={(e) => setFormData({ ...formData, categoryIds: e.target.value })}\r\n                                            placeholder='[34280, 34281] oder leer fÃ¼r alle'\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                    <div className=\"relative group\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setIsModalOpen(false)}\r\n                                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                            title={t('common.cancel', 'Abbrechen')}\r\n                                        >\r\n                                            <XMarkIcon className=\"h-5 w-5\" />\r\n                                        </button>\r\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                            {t('common.cancel', 'Abbrechen')}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"relative group\">\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                            title={t('common.save', 'Speichern')}\r\n                                        >\r\n                                            <CheckIcon className=\"h-5 w-5\" />\r\n                                        </button>\r\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                            {t('common.save', 'Speichern')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* Delete Confirmation Modal/Sidepane */}\r\n            {deleteModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={deleteModalOpen} onClose={() => setDeleteModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\r\n                        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                            <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                                {t('priceAnalysis.rules.deleteConfirm', 'Regel lÃ¶schen')}\r\n                            </Dialog.Title>\r\n                            <button\r\n                                onClick={() => setDeleteModalOpen(false)}\r\n                                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                            >\r\n                                <XMarkIcon className=\"h-6 w-6\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                {t('priceAnalysis.rules.deleteConfirmText', 'MÃ¶chten Sie diese Regel wirklich lÃ¶schen?')}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n                            <div className=\"relative group\">\r\n                                <button\r\n                                    onClick={() => setDeleteModalOpen(false)}\r\n                                    className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                    title={t('common.cancel', 'Abbrechen')}\r\n                                >\r\n                                    <XMarkIcon className=\"h-5 w-5\" />\r\n                                </button>\r\n                                <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                    {t('common.cancel', 'Abbrechen')}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"relative group\">\r\n                                <button\r\n                                    onClick={handleDelete}\r\n                                    className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                    title={t('common.delete', 'LÃ¶schen')}\r\n                                >\r\n                                    <TrashIcon className=\"h-5 w-5\" />\r\n                                </button>\r\n                                <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                    {t('common.delete', 'LÃ¶schen')}\r\n                                </div>\r\n                            </div>\r\n                                </div>\r\n                            </Dialog.Panel>\r\n                        </div>\r\n                    </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: deleteModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: deleteModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {t('priceAnalysis.rules.deleteConfirm', 'Regel lÃ¶schen')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setDeleteModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\r\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                    {t('priceAnalysis.rules.deleteConfirmText', 'MÃ¶chten Sie diese Regel wirklich lÃ¶schen?')}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={() => setDeleteModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={handleDelete}\r\n                                        className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.delete', 'LÃ¶schen')}\r\n                                    >\r\n                                        <TrashIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.delete', 'LÃ¶schen')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PricingRulesTab;\r\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../hooks/usePermissions.ts';\nimport OTAListingsTab from '../components/priceAnalysis/OTAListingsTab.tsx';\nimport AnalysisTab from '../components/priceAnalysis/AnalysisTab.tsx';\nimport PriceRecommendationsTab from '../components/priceAnalysis/PriceRecommendationsTab.tsx';\nimport PricingRulesTab from '../components/priceAnalysis/PricingRulesTab.tsx';\n\nconst PriceAnalysis: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission, loading: permissionsLoading } = usePermissions();\n\n    const [activeTab, setActiveTab] = useState<'listings' | 'analysis' | 'recommendations' | 'rules'>('listings');\n\n    // PrÃ¼fe Berechtigung\n    if (permissionsLoading) {\n        return (\n            <div className=\"p-6 text-center\">\n                {t('common.loading', { defaultValue: 'LÃ¤dt...' })}\n            </div>\n        );\n    }\n\n    if (!hasPermission('price_analysis', 'read', 'page')) {\n        return (\n            <div className=\"p-6 text-center\">\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n                    {t('common.error')}\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                    {t('common.noPermission')}\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-6\">\n            <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-white mb-6\">\n                {t('priceAnalysis.title')}\n            </h1>\n            \n            {/* Tabs */}\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-6\">\n                <nav className=\"-mb-px flex space-x-2 overflow-x-auto\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('listings')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'listings'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.listings')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('analysis')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'analysis'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabAnalysis')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('recommendations')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'recommendations'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabRecommendations')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('rules')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'rules'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabRules')}\n                    </button>\n                </nav>\n            </div>\n\n            {/* Tab Content */}\n            {activeTab === 'listings' && <OTAListingsTab />}\n            {activeTab === 'analysis' && <AnalysisTab />}\n            {activeTab === 'recommendations' && <PriceRecommendationsTab />}\n            {activeTab === 'rules' && <PricingRulesTab />}\n        </div>\n    );\n};\n\nexport default PriceAnalysis;\n","import * as React from \"react\";\nfunction ArrowPathIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowPathIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction SparklesIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SparklesIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;"],"names":["OTAListingsTab","t","useTranslation","hasPermission","usePermissions","showMessage","useMessage","errorContext","useError","branches","selectedBranch","useBranch","currentBranch","find","b","id","handleError","err","_err$response","_err$response$data","console","error","errorMessage","response","data","message","listings","setListings","useState","loading","setLoading","rateShoppingLoading","setRateShoppingLoading","discovering","setDiscovering","selectedPlatform","setSelectedPlatform","timeoutRef","useRef","loadListings","useCallback","async","axiosInstance","get","API_ENDPOINTS","PRICE_ANALYSIS","OTA","LISTINGS","params","branchId","useEffect","current","clearTimeout","handleRunRateShopping","_response$data","startDate","Date","endDate","setMonth","getMonth","requestData","platform","toISOString","split","post","RATE_SHOPPING","_response$data2","success","setTimeout","handleDiscoverListings","_response$data3","DISCOVER","_response$data4","count","listingsFound","defaultValue","concat","_jsx","className","children","_jsxs","value","onChange","e","target","onClick","disabled","title","MagnifyingGlassIcon","ArrowPathIcon","length","map","listing","city","country","roomType","roomName","listingUrl","href","rel","isActive","lastScrapedAt","toLocaleDateString","priceData","scrapedAt","AnalysisTab","analyses","setAnalyses","analyzing","setAnalyzing","loadAnalyses","ANALYSES","handleAnalyze","ANALYZE","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatPercent","undefined","numValue","parseFloat","isNaN","toFixed","PlayIcon","analysis","_analysis$availableRo","_analysis$recommendat","dateString","analysisDate","categoryId","currentPrice","averagePrice","minPrice","maxPrice","occupancyRate","availableRooms","competitorAvgPrice","pricePosition","recommendations","PriceRecommendationsTab","openSidepane","closeSidepane","useSidepane","setRecommendations","statusFilter","setStatusFilter","generating","setGenerating","rejectModalOpen","setRejectModalOpen","applyModalOpen","setApplyModalOpen","selectedRecommendationId","setSelectedRecommendationId","rejectReason","setRejectReason","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","loadRecommendations","RECOMMENDATIONS","BASE","status","handleGenerateRecommendations","GENERATE","handleApprove","APPROVE","recommendationId","openRejectModal","handleReject","REJECT","reason","openApplyModal","handleApply","APPLY","toNumber","toString","Number","getStatusColor","getStatusText","_Fragment","SparklesIcon","recommendation","date","recommendedPrice","priceChangePercent","reasoning","CheckIcon","XMarkIcon","ArrowRightIcon","Dialog","open","onClose","Panel","Title","rows","placeholder","transition","transform","pointerEvents","PricingRulesTab","rules","setRules","isModalOpen","setIsModalOpen","deleteModalOpen","setDeleteModalOpen","editingRule","setEditingRule","ruleToDelete","setRuleToDelete","formData","setFormData","name","description","priority","conditions","JSON","stringify","operator","action","type","maxChange","cumulative","roomTypes","categoryIds","loadRules","RULES","handleCreate","handleEdit","rule","openDeleteModal","ruleId","handleDelete","delete","BY_ID","handleSubmit","preventDefault","parse","payload","put","PlusIcon","createdByUser","firstName","lastName","trim","username","createdAt","PencilIcon","TrashIcon","onSubmit","_objectSpread","required","parseInt","checked","PriceAnalysis","permissionsLoading","activeTab","setActiveTab","_ref","svgRef","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}