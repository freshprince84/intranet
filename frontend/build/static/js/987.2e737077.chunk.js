"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[987],{8987:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var a=t(9379),s=t(5043),o=t(4117),l=t(3216),n=t(5475),d=t(9722),i=t(1923);const c={async login(e){const r=await i.A.post("/auth/login",e);return r.data.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user))),r.data},async register(e){const r=await i.A.post("/auth/register",e);return r.data.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user))),r.data},async logout(){const e=localStorage.getItem("token");e&&await i.A.post("/auth/logout",{},{headers:{Authorization:"Bearer ".concat(e)}}),localStorage.removeItem("token"),localStorage.removeItem("user")},getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},getToken:()=>localStorage.getItem("token"),isAuthenticated(){return!!this.getToken()}};d.A.interceptors.request.use((e=>{const r=c.getToken();return r&&e.headers&&(e.headers.Authorization="Bearer ".concat(r)),e}),(e=>Promise.reject(e)));const u=c;var g=t(579);const m=()=>{const{t:e}=(0,o.Bd)(),r=(0,l.Zp)(),[t,d]=(0,s.useState)({email:"",password:"",confirmPassword:""}),[i,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),x=e=>{d((0,a.A)((0,a.A)({},t),{},{[e.target.name]:e.target.value}))};return(0,g.jsx)("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:(0,g.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:e("register.title")}),(0,g.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:e("register.subtitle")}),i&&(0,g.jsx)("p",{className:"mt-2 text-center text-sm text-red-600 dark:text-red-400",children:i})]}),(0,g.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),c(""),t.password===t.confirmPassword)if(t.password.length<6)c(e("register.passwordTooShort"));else{h(!0);try{await u.register({email:t.email,password:t.password}),r("/dashboard")}catch(l){var s,o;console.error("Registrierung fehlgeschlagen:",l),c((null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||e("register.registrationFailed"))}finally{h(!1)}}else c(e("register.passwordsDoNotMatch"))},className:"mt-8 space-y-6",children:[(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:e("register.email")}),(0,g.jsx)("input",{type:"email",name:"email",id:"email",value:t.email,onChange:x,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:e("register.emailPlaceholder")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:e("register.password")}),(0,g.jsx)("input",{type:"password",name:"password",id:"password",value:t.password,onChange:x,required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:e("register.passwordPlaceholder")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:e("register.confirmPassword")}),(0,g.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:t.confirmPassword,onChange:x,required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:e("register.confirmPasswordPlaceholder")})]})]}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(m?"opacity-50 cursor-not-allowed":""),children:e(m?"register.registering":"register.register")})})]}),(0,g.jsxs)("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("register.alreadyRegistered")," ",(0,g.jsx)(n.N_,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:e("register.login")})]})]})})}}}]);
//# sourceMappingURL=987.2e737077.chunk.js.map