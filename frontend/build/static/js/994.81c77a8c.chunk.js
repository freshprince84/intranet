"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[994],{1816:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const d=s.forwardRef(n)},2979:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var a=t(9379),s=t(5043),l=t(1923),n=t(4117),d=t(2672),i=t(6009),o=t(2704),c=t(6238),m=t(2811),x=t(9422),g=t(7591),b=t(7855),u=t(9e3),h=t(1801),y=t(4538),p=t(7012),f=t(7098),k=t(579);const v=e=>{let{userId:r}=e;const{t:t}=(0,n.Bd)(),[a,d]=(0,s.useState)(null),[i,m]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null);(0,s.useEffect)((()=>{b()}),[r]);const b=async()=>{try{m(!0);const e=await l.A.get(h.Sn.LIFECYCLE.BY_USER(r));d(e.data),g(null)}catch(a){var e,t;console.error("Fehler beim Laden der Lebenszyklus-Daten:",a),g((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Fehler beim Laden der Daten")}finally{m(!1)}};if(i)return(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(x)return(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4",children:(0,k.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:x})})});if(!a)return(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Keine Lebenszyklus-Daten verf\xfcgbar"})});const{lifecycle:u,progress:v,socialSecurityRegistrations:j=[]}=a,w=e=>{switch(e){case"registered":return(0,k.jsx)(y.A,{className:"h-5 w-5 text-green-500"});case"pending":return(0,k.jsx)(p.A,{className:"h-5 w-5 text-yellow-500"});case"failed":return(0,k.jsx)(f.A,{className:"h-5 w-5 text-red-500"});case"not_required":return(0,k.jsx)(y.A,{className:"h-5 w-5 text-gray-400"});default:return(0,k.jsx)(p.A,{className:"h-5 w-5 text-gray-400"})}};return(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,k.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,k.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"Lebenszyklus-Status"]}),(e=>{const r={onboarding:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",label:"Onboarding"},active:{color:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",label:"Aktiv"},contract_change:{color:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",label:"Vertrags\xe4nderung"},offboarding:{color:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",label:"Offboarding"},archived:{color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",label:"Archiviert"}}[e]||{color:"bg-gray-100 text-gray-800",label:e};return(0,k.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(r.color),children:r.label})})(u.status)]}),(0,k.jsxs)("div",{className:"space-y-2 text-sm",children:[u.onboardingStartedAt&&(0,k.jsxs)("div",{className:"flex justify-between",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Onboarding gestartet:"}),(0,k.jsx)("span",{className:"dark:text-white",children:new Date(u.onboardingStartedAt).toLocaleDateString("de-DE")})]}),u.onboardingCompletedAt&&(0,k.jsxs)("div",{className:"flex justify-between",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Onboarding abgeschlossen:"}),(0,k.jsx)("span",{className:"dark:text-white",children:new Date(u.onboardingCompletedAt).toLocaleDateString("de-DE")})]}),u.contractStartDate&&(0,k.jsxs)("div",{className:"flex justify-between",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Vertragsbeginn:"}),(0,k.jsx)("span",{className:"dark:text-white",children:new Date(u.contractStartDate).toLocaleDateString("de-DE")})]}),u.contractEndDate&&(0,k.jsxs)("div",{className:"flex justify-between",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Vertragsende:"}),(0,k.jsx)("span",{className:"dark:text-white",children:new Date(u.contractEndDate).toLocaleDateString("de-DE")})]})]})]}),"onboarding"===u.status&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold dark:text-white mb-4",children:"Onboarding-Fortschritt"}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,k.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[v.completed," von ",v.total," Schritten abgeschlossen"]}),(0,k.jsxs)("span",{className:"font-medium dark:text-white",children:[v.percent,"%"]})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,k.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(v.percent,"%")}})})]})]}),j.length>0&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsxs)("h3",{className:"text-lg font-semibold dark:text-white mb-4 flex items-center",children:[(0,k.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Sozialversicherungen"]}),(0,k.jsx)("div",{className:"space-y-3",children:j.map((e=>{return(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3",children:[w(e.status),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-medium dark:text-white uppercase",children:e.registrationType}),e.provider&&(0,k.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.provider}),e.registrationNumber&&(0,k.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Nr: ",e.registrationNumber]})]})]}),(0,k.jsx)("span",{className:"text-sm font-medium dark:text-white",children:(r=e.status,{registered:"Registriert",pending:"Ausstehend",failed:"Fehlgeschlagen",not_required:"Nicht erforderlich",deregistered:"Abgemeldet"}[r]||r)})]},e.id);var r}))})]})]})};var j=t(7988),w=t(4129),N=t(4791);const A=e=>{let{userId:r}=e;const{t:t}=(0,n.Bd)(),{showMessage:a}=(0,b.A)(),[d,i]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[x,g]=(0,s.useState)(!0),[u,p]=(0,s.useState)(null),[f,v]=(0,s.useState)(null),[A,E]=(0,s.useState)(null);(0,s.useEffect)((()=>{C()}),[r]);const C=async()=>{try{g(!0);const[e,t]=await Promise.all([l.A.get(h.Sn.LIFECYCLE.CERTIFICATES(r)),l.A.get(h.Sn.LIFECYCLE.CONTRACTS(r))]);i(e.data||[]),m(t.data||[]),p(null)}catch(s){var e,t;console.error("Fehler beim Laden der Dokumente:",s),p((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Fehler beim Laden der Dokumente"),a("Fehler beim Laden der Dokumente","error")}finally{g(!1)}},D=e=>new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return x?(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):u?(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4",children:(0,k.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})})}):(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,k.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Arbeitszeugnisse"]})}),0===d.length?(0,k.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,k.jsx)(o.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,k.jsx)("p",{children:"Keine Arbeitszeugnisse verf\xfcgbar"})]}):(0,k.jsx)("div",{className:"space-y-4",children:d.map((e=>(0,k.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:(0,k.jsxs)("div",{className:"flex items-start justify-between",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,k.jsxs)("h4",{className:"font-medium dark:text-white",children:["Arbeitszeugnis","employment"!==e.certificateType&&" (".concat(e.certificateType,")")]}),e.isLatest&&(0,k.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center",children:[(0,k.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"Aktuell"]})]}),(0,k.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)(j.A,{className:"h-4 w-4"}),(0,k.jsxs)("span",{children:["Ausgestellt am: ",D(e.issueDate)]})]}),e.generatedByUser&&(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)(w.A,{className:"h-4 w-4"}),(0,k.jsxs)("span",{children:["Erstellt von: ",e.generatedByUser.firstName," ",e.generatedByUser.lastName]})]}),e.templateVersion&&(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Template-Version: ",e.templateVersion]})]})]}),(0,k.jsx)("button",{onClick:()=>(async e=>{v(e);try{const t=await l.A.get(h.Sn.LIFECYCLE.CERTIFICATE_DOWNLOAD(r,e),{responseType:"blob"}),s=new Blob([t.data],{type:"application/pdf"}),n=window.URL.createObjectURL(s),d=document.createElement("a");d.href=n,d.download="arbeitszeugnis-".concat(e,".pdf"),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(n),a("Arbeitszeugnis erfolgreich heruntergeladen","success")}catch(t){console.error("Fehler beim Herunterladen:",t),a("Fehler beim Herunterladen des Arbeitszeugnisses","error")}finally{v(null)}})(e.id),disabled:f===e.id,className:"ml-4 p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Arbeitszeugnis herunterladen",children:f===e.id?(0,k.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):(0,k.jsx)(N.A,{className:"h-5 w-5"})})]})},e.id)))})]}),(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,k.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Arbeitsvertr\xe4ge"]})}),0===c.length?(0,k.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,k.jsx)(o.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,k.jsx)("p",{children:"Keine Arbeitsvertr\xe4ge verf\xfcgbar"})]}):(0,k.jsx)("div",{className:"space-y-4",children:c.map((e=>(0,k.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:(0,k.jsxs)("div",{className:"flex items-start justify-between",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,k.jsxs)("h4",{className:"font-medium dark:text-white",children:["Arbeitsvertrag","employment"!==e.contractType&&" (".concat(e.contractType,")")]}),e.isLatest&&(0,k.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center",children:[(0,k.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"Aktuell"]})]}),(0,k.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)(j.A,{className:"h-4 w-4"}),(0,k.jsxs)("span",{children:[D(e.startDate),e.endDate&&" - ".concat(D(e.endDate))]})]}),e.position&&(0,k.jsxs)("div",{children:["Position: ",e.position]}),e.salary&&(0,k.jsxs)("div",{children:["Gehalt: ",e.salary.toLocaleString("de-DE",{style:"currency",currency:"EUR"})]}),e.workingHours&&(0,k.jsxs)("div",{children:["Arbeitsstunden: ",e.workingHours,"h/Woche"]}),e.generatedByUser&&(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)(w.A,{className:"h-4 w-4"}),(0,k.jsxs)("span",{children:["Erstellt von: ",e.generatedByUser.firstName," ",e.generatedByUser.lastName]})]}),e.templateVersion&&(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Template-Version: ",e.templateVersion]})]})]}),(0,k.jsx)("button",{onClick:()=>(async e=>{E(e);try{const t=await l.A.get(h.Sn.LIFECYCLE.CONTRACT_DOWNLOAD(r,e),{responseType:"blob"}),s=new Blob([t.data],{type:"application/pdf"}),n=window.URL.createObjectURL(s),d=document.createElement("a");d.href=n,d.download="arbeitsvertrag-".concat(e,".pdf"),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(n),a("Arbeitsvertrag erfolgreich heruntergeladen","success")}catch(t){console.error("Fehler beim Herunterladen:",t),a("Fehler beim Herunterladen des Arbeitsvertrags","error")}finally{E(null)}})(e.id),disabled:A===e.id,className:"ml-4 p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Arbeitsvertrag herunterladen",children:A===e.id?(0,k.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):(0,k.jsx)(N.A,{className:"h-5 w-5"})})]})},e.id)))})]})]})},E=[{value:"passport",label:"Reisepass"},{value:"national_id",label:"Personalausweis"},{value:"driving_license",label:"F\xfchrerschein"},{value:"residence_permit",label:"Aufenthaltserlaubnis"},{value:"work_permit",label:"Arbeitserlaubnis"},{value:"tax_id",label:"Steuer-ID"},{value:"social_security",label:"Sozialversicherungsausweis"}],C=()=>{const{user:e}=(0,d.As)(),{showMessage:r}=(0,b.A)(),{t:t}=(0,n.Bd)(),[h,y]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)({}),[N,C]=(0,s.useState)("profile"),D=[{code:"CO",name:t("countries.CO")},{code:"CH",name:t("countries.CH")},{code:"DE",name:t("countries.DE")},{code:"AT",name:t("countries.AT")}],L=[{code:"es",name:t("languages.es")},{code:"de",name:t("languages.de")},{code:"en",name:t("languages.en")}];(0,s.useEffect)((()=>{if(e){const r={id:e.id,username:e.username,email:e.email,firstName:e.firstName||"",lastName:e.lastName||"",birthday:null,bankDetails:null,contract:null,salary:null,normalWorkingHours:7.6,country:"CO",language:"es",identificationNumber:null,identificationType:null,identificationExpiryDate:null,identificationIssuingCountry:null};y(r),w(r),S()}}),[e]);const S=async()=>{try{if(!localStorage.getItem("token"))throw new Error("Kein Token gefunden");const e=await l.A.get("/users/profile");if(console.log("Profile response:",e.data),e.data){const r=(0,a.A)((0,a.A)({},e.data),{},{birthday:e.data.birthday?new Date(e.data.birthday).toISOString().split("T")[0]:null,normalWorkingHours:e.data.normalWorkingHours||7.6,country:e.data.country||"CO",language:e.data.language||"es",identificationExpiryDate:e.data.identificationExpiryDate?new Date(e.data.identificationExpiryDate).toISOString().split("T")[0]:null});y(r),w(r)}}catch(n){var e,t,s;console.error("Error fetching profile:",(null===(e=n.response)||void 0===e?void 0:e.data)||n);const a="Fehler beim Laden des Profils: "+((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||n.message);r(a,"error")}},I=e=>{const{name:r,value:t}=e.target;w((e=>(0,a.A)((0,a.A)({},e),{},{[r]:""===t?null:t})))};if(!h)return(0,k.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Laden..."});return(0,k.jsx)("div",{className:"min-h-screen dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto py-0 px-2 -mt-6 sm:-mt-3 lg:-mt-3 sm:px-4 lg:px-6",children:[(!h.birthday||!h.bankDetails||!h.contract||!h.salary||!h.normalWorkingHours)&&(0,k.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 mb-6",children:(0,k.jsxs)("div",{className:"flex",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,k.jsx)("div",{className:"ml-3",children:(0,k.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[(0,k.jsx)("strong",{children:t("profile.profileIncomplete")})," ",t("profile.completeProfile")]})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 mb-6",children:(0,k.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("nav",{className:"flex -mb-px",children:[(0,k.jsxs)("button",{onClick:()=>C("profile"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("profile"===N?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,k.jsx)(i.A,{className:"h-5 w-5 inline mr-2"}),t("profile.title")]}),(0,k.jsxs)("button",{onClick:()=>C("documents"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("documents"===N?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,k.jsx)(o.A,{className:"h-5 w-5 inline mr-2"}),t("profile.documents")]}),(0,k.jsxs)("button",{onClick:()=>C("lifecycle"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("lifecycle"===N?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,k.jsx)(c.A,{className:"h-5 w-5 inline mr-2"}),"Lebenszyklus"]}),(0,k.jsxs)("button",{onClick:()=>C("myDocuments"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("myDocuments"===N?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,k.jsx)(o.A,{className:"h-5 w-5 inline mr-2"}),"Meine Dokumente"]})]})})}),"profile"===N&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,k.jsxs)("h2",{className:"text-xl font-semibold flex items-center dark:text-white",children:[(0,k.jsx)(i.A,{className:"h-6 w-6 mr-2 dark:text-white"}),t("profile.userProfile")]}),!p&&(0,k.jsx)("button",{onClick:()=>{w(h),f(!0)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",children:(0,k.jsx)(m.A,{className:"h-5 w-5"})})]}),(0,k.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{var t,s,n,d;if(!localStorage.getItem("token"))throw new Error("Kein Token gefunden");if(null===(t=j.username)||void 0===t||!t.trim())throw new Error("Benutzername ist erforderlich");if(null===(s=j.email)||void 0===s||!s.trim())throw new Error("E-Mail ist erforderlich");if(null===(n=j.firstName)||void 0===n||!n.trim())throw new Error("Vorname ist erforderlich");if(null===(d=j.lastName)||void 0===d||!d.trim())throw new Error("Nachname ist erforderlich");const e=(0,a.A)((0,a.A)({},j),{},{salary:j.salary?parseFloat(j.salary.toString()):null,normalWorkingHours:j.normalWorkingHours?parseFloat(j.normalWorkingHours.toString()):7.6,birthday:j.birthday||null,identificationExpiryDate:j.identificationExpiryDate||null});console.log("Sending data to backend:",e);const i=await l.A.put("/users/profile",e);if(console.log("Update response:",i.data),i.data){const e=(0,a.A)((0,a.A)({},i.data),{},{birthday:i.data.birthday?new Date(i.data.birthday).toISOString().split("T")[0]:null,identificationExpiryDate:i.data.identificationExpiryDate?new Date(i.data.identificationExpiryDate).toISOString().split("T")[0]:null});y(e),w(e),r("Profil erfolgreich aktualisiert","success"),f(!1)}}catch(c){var i,o;console.error("Error updating profile:",c);let e="Ein unbekannter Fehler ist aufgetreten";null!==(i=c.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.message?e=c.response.data.message:c instanceof Error&&(e=c.message),r(e,"error")}},children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.username")}),(0,k.jsx)("input",{type:"text",name:"username",value:p?j.username||"":h.username||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.email")}),(0,k.jsx)("input",{type:"email",name:"email",value:p?j.email||"":h.email||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.firstName")}),(0,k.jsx)("input",{type:"text",name:"firstName",value:p?j.firstName||"":h.firstName||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.lastName")}),(0,k.jsx)("input",{type:"text",name:"lastName",value:p?j.lastName||"":h.lastName||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.birthday")}),(0,k.jsx)("input",{type:"date",name:"birthday",value:p?j.birthday||"":h.birthday||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.bankDetails")}),(0,k.jsx)("input",{type:"text",name:"bankDetails",value:p?j.bankDetails||"":h.bankDetails||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.contract")}),(0,k.jsx)("input",{type:"text",name:"contract",value:p?j.contract||"":h.contract||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.salary")}),(0,k.jsx)("input",{type:"number",name:"salary",value:p?j.salary||"":h.salary||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.normalWorkingHours")}),(0,k.jsx)("input",{type:"number",name:"normalWorkingHours",value:p?j.normalWorkingHours||"":h.normalWorkingHours||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.country")}),(0,k.jsxs)("select",{name:"country",value:p?j.country||"":h.country||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"",children:t("profile.selectCountry")}),D.map((e=>(0,k.jsx)("option",{value:e.code,children:e.name},e.code)))]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.language")}),(0,k.jsxs)("select",{name:"language",value:p?j.language||"":h.language||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"",children:t("profile.selectLanguage")}),L.map((e=>(0,k.jsx)("option",{value:e.code,children:e.name},e.code)))]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.identificationType")}),(0,k.jsxs)("select",{name:"identificationType",value:p?j.identificationType||"":h.identificationType||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"",children:t("common.select")}),E.map((e=>(0,k.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.identificationNumber")}),(0,k.jsx)("input",{type:"text",name:"identificationNumber",value:p?j.identificationNumber||"":h.identificationNumber||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.identificationIssuingCountry")}),(0,k.jsxs)("select",{name:"identificationIssuingCountry",value:p?j.identificationIssuingCountry||"":h.identificationIssuingCountry||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"",children:t("common.select")}),D.map((e=>(0,k.jsx)("option",{value:e.code,children:e.name},e.code)))]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("profile.identificationExpiryDate")}),(0,k.jsx)("input",{type:"date",name:"identificationExpiryDate",value:p?j.identificationExpiryDate||"":h.identificationExpiryDate||"",onChange:I,disabled:!p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]})]}),p&&(0,k.jsxs)("div",{className:"flex mt-6 space-x-3",children:[(0,k.jsx)("button",{type:"submit",className:"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600",title:t("common.save"),children:(0,k.jsx)(x.A,{className:"h-5 w-5"})}),(0,k.jsx)("button",{type:"button",onClick:()=>f(!1),className:"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",title:t("common.cancel"),children:(0,k.jsx)(g.A,{className:"h-5 w-5"})})]})]})]}),"documents"===N&&h&&(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,k.jsx)(u.A,{userId:h.id})}),"lifecycle"===N&&h&&(0,k.jsx)(v,{userId:h.id}),"myDocuments"===N&&h&&(0,k.jsx)(A,{userId:h.id})]})})}},4538:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=s.forwardRef(n)},4791:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const d=s.forwardRef(n)},7012:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=s.forwardRef(n)},7591:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const d=s.forwardRef(n)},7988:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const d=s.forwardRef(n)},9422:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),s=t(5043);const l=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,l);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?s.createElement("title",{id:n},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const d=s.forwardRef(n)}}]);
//# sourceMappingURL=994.81c77a8c.chunk.js.map