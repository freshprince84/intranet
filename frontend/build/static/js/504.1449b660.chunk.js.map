{"version":3,"file":"static/js/504.1449b660.chunk.js","mappings":"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","sources":["components/reservations/CheckInForm.tsx","components/reservations/GuestContactModal.tsx","../node_modules/@heroicons/react/24/outline/esm/CreditCardIcon.js","components/reservations/ReservationDetails.tsx","types/reservation.ts","../node_modules/@heroicons/react/24/outline/esm/UserIcon.js","services/reservationService.ts","../node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../node_modules/@heroicons/react/24/outline/esm/XCircleIcon.js","../node_modules/@heroicons/react/24/outline/esm/PaperAirplaneIcon.js","components/reservations/ReservationNotificationLogs.tsx","../node_modules/@heroicons/react/24/outline/esm/CalendarIcon.js","../node_modules/@heroicons/react/24/outline/esm/EnvelopeIcon.js","../node_modules/@heroicons/react/24/outline/esm/PhoneIcon.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport axiosInstance from '../../config/axios.ts';\r\nimport { API_ENDPOINTS } from '../../config/api.ts';\r\nimport { Reservation } from '../../types/reservation.ts';\r\nimport useMessage from '../../hooks/useMessage.ts';\r\nimport {\r\n  XMarkIcon,\r\n  CheckCircleIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface CheckInFormProps {\r\n  reservation: Reservation;\r\n  onSuccess: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst CheckInForm: React.FC<CheckInFormProps> = ({ reservation, onSuccess, onCancel }) => {\r\n  const { t } = useTranslation();\r\n  const { showMessage } = useMessage();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [roomNumber, setRoomNumber] = useState(reservation.roomNumber || '');\r\n  const [roomDescription, setRoomDescription] = useState(reservation.roomDescription || '');\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!roomNumber.trim()) {\r\n      showMessage(t('reservations.roomNumberRequired', 'Zimmernummer ist erforderlich'), 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axiosInstance.put(API_ENDPOINTS.RESERVATIONS.CHECK_IN(reservation.id), {\r\n        roomNumber: roomNumber.trim(),\r\n        roomDescription: roomDescription.trim() || undefined\r\n      });\r\n      onSuccess();\r\n    } catch (err: any) {\r\n      console.error('Fehler beim Check-in:', err);\r\n      showMessage(\r\n        err.response?.data?.message || t('reservations.checkInError', 'Fehler beim Check-in'),\r\n        'error'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 max-w-md w-full p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n            {t('reservations.checkIn', 'Check-in durchführen')}\r\n          </h3>\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n          >\r\n            <XMarkIcon className=\"h-6 w-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n            {t('reservations.guest', 'Gast')}: <strong>{reservation.guestName}</strong>\r\n          </p>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {t('reservations.checkInDate', 'Check-in Datum')}: {new Date(reservation.checkInDate).toLocaleDateString()}\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {t('reservations.roomNumber', 'Zimmernummer')} *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={roomNumber}\r\n              onChange={(e) => setRoomNumber(e.target.value)}\r\n              required\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder={t('reservations.roomNumberPlaceholder', 'z.B. 101')}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {t('reservations.roomDescription', 'Zimmerbeschreibung')}\r\n            </label>\r\n            <textarea\r\n              value={roomDescription}\r\n              onChange={(e) => setRoomDescription(e.target.value)}\r\n              rows={3}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder={t('reservations.roomDescriptionPlaceholder', 'Optionale Beschreibung des Zimmers')}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onCancel}\r\n              disabled={loading}\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50\"\r\n            >\r\n              {t('common.cancel', 'Abbrechen')}\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n            >\r\n              {loading ? (\r\n                <span>{t('common.processing', 'Wird verarbeitet...')}</span>\r\n              ) : (\r\n                <>\r\n                  <CheckCircleIcon className=\"h-5 w-5 mr-2\" />\r\n                  {t('reservations.checkIn', 'Check-in durchführen')}\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckInForm;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { XMarkIcon } from '@heroicons/react/24/outline';\r\nimport { reservationService } from '../../services/reservationService.ts';\r\nimport useMessage from '../../hooks/useMessage.ts';\r\nimport { Reservation } from '../../types/reservation.ts';\r\n\r\ninterface GuestContactModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  reservation: Reservation;\r\n  onSuccess: () => void;\r\n}\r\n\r\nconst GuestContactModal: React.FC<GuestContactModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  reservation,\r\n  onSuccess\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { showMessage } = useMessage();\r\n  const [contact, setContact] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [contactType, setContactType] = useState<'phone' | 'email' | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setContact('');\r\n      setContactType(null);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Erkenne automatisch ob es Telefonnummer oder Email ist\r\n  const detectContactType = (value: string): 'phone' | 'email' | null => {\r\n    if (!value || value.trim().length === 0) {\r\n      return null;\r\n    }\r\n    // Email-Format: enthält @ und .\r\n    if (value.includes('@') && value.includes('.')) {\r\n      return 'email';\r\n    }\r\n    // Telefonnummer: enthält nur Ziffern, +, Leerzeichen, Bindestriche\r\n    return 'phone';\r\n  };\r\n\r\n  const handleContactChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setContact(value);\r\n    setContactType(detectContactType(value));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!contact || contact.trim().length === 0) {\r\n      showMessage(t('reservations.contactRequired', 'Kontaktinformation ist erforderlich'), 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await reservationService.updateGuestContact(reservation.id, contact.trim());\r\n      showMessage(\r\n        t('reservations.contactUpdated', 'Kontaktinformation aktualisiert und Nachricht versendet'),\r\n        'success'\r\n      );\r\n      onSuccess();\r\n      onClose();\r\n    } catch (error: any) {\r\n      console.error('Fehler beim Aktualisieren der Kontaktinformation:', error);\r\n      showMessage(\r\n        error.response?.data?.message || t('reservations.contactUpdateError', 'Fehler beim Aktualisieren'),\r\n        'error'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Overlay */}\r\n        <div\r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        />\r\n\r\n        {/* Modal */}\r\n        <div className=\"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n          <div className=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\r\n                {t('reservations.guestContact.title', 'Gast-Kontaktinformation')}\r\n              </h3>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n              >\r\n                <XMarkIcon className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"mb-4\">\r\n                <label htmlFor=\"contact\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  {t('reservations.guestContact.label', 'Telefonnummer oder Email')}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"contact\"\r\n                  value={contact}\r\n                  onChange={handleContactChange}\r\n                  placeholder={t('reservations.guestContact.placeholder', 'z.B. +573001234567 oder email@example.com')}\r\n                  className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\r\n                  required\r\n                />\r\n                {contactType && (\r\n                  <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                    {contactType === 'email' \r\n                      ? t('reservations.guestContact.detectedEmail', 'Email erkannt')\r\n                      : t('reservations.guestContact.detectedPhone', 'Telefonnummer erkannt')\r\n                    }\r\n                  </p>\r\n                )}\r\n                <p className=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">\r\n                  {t('reservations.guestContact.hint', 'Nach dem Speichern wird automatisch eine WhatsApp-Nachricht mit Zahlungslink und TTLock Code versendet.')}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                >\r\n                  {t('common.cancel', 'Abbrechen')}\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || !contact || contact.trim().length === 0}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {loading \r\n                    ? t('common.saving', 'Wird gespeichert...')\r\n                    : t('common.save', 'Speichern')\r\n                  }\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuestContactModal;\r\n\r\n","import * as React from \"react\";\nfunction CreditCardIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CreditCardIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axiosInstance from '../../config/axios.ts';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport { Reservation, ReservationStatus, PaymentStatus } from '../../types/reservation.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport CheckInForm from './CheckInForm.tsx';\nimport GuestContactModal from './GuestContactModal.tsx';\nimport ReservationNotificationLogs from './ReservationNotificationLogs.tsx';\nimport {\n  ArrowLeftIcon,\n  CalendarIcon,\n  UserIcon,\n  PhoneIcon,\n  EnvelopeIcon,\n  HomeIcon,\n  CreditCardIcon,\n  KeyIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { de, es, enUS } from 'date-fns/locale';\n\nconst ReservationDetails: React.FC = () => {\n  const { t, i18n } = useTranslation();\n  const { showMessage } = useMessage();\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n\n  const [reservation, setReservation] = useState<Reservation | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showCheckInForm, setShowCheckInForm] = useState(false);\n  const [showGuestContactModal, setShowGuestContactModal] = useState(false);\n  const [refreshKey, setRefreshKey] = useState(0); // Wird erhöht, um Notification-Logs neu zu laden\n\n  const getLocale = () => {\n    switch (i18n.language) {\n      case 'de': return de;\n      case 'es': return es;\n      default: return enUS;\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    try {\n      // Extrahiere nur den Datumsteil (YYYY-MM-DD) und parse als lokales Datum\n      // Dies verhindert Zeitzone-Konvertierung, die zu einem Tag-Versatz führt\n      const date = new Date(dateString);\n      // Verwende UTC-Methoden, um nur den Datumsteil zu extrahieren (ohne Zeitzone)\n      const year = date.getUTCFullYear();\n      const month = date.getUTCMonth();\n      const day = date.getUTCDate();\n      // Erstelle lokales Datum aus den UTC-Werten\n      const localDate = new Date(year, month, day);\n      return format(localDate, 'dd.MM.yyyy', { locale: getLocale() });\n    } catch {\n      return dateString;\n    }\n  };\n\n  const formatDateTime = (dateString: string) => {\n    try {\n      return format(new Date(dateString), 'dd.MM.yyyy HH:mm', { locale: getLocale() });\n    } catch {\n      return dateString;\n    }\n  };\n\n  const loadReservation = async () => {\n    if (!id) return;\n\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await axiosInstance.get(API_ENDPOINTS.RESERVATION.BY_ID(parseInt(id)));\n      const reservationData = response.data?.data || response.data;\n      console.log('[ReservationDetails] Geladene Reservierung:', reservationData);\n      console.log('[ReservationDetails] Status:', reservationData?.status);\n      console.log('[ReservationDetails] PaymentStatus:', reservationData?.paymentStatus);\n      setReservation(reservationData);\n      // Erhöhe Refresh-Key, damit Notification-Logs neu geladen werden\n      setRefreshKey(prev => prev + 1);\n    } catch (err: any) {\n      console.error('Fehler beim Laden der Reservierung:', err);\n      setError(err.response?.data?.message || t('reservations.loadError', 'Fehler beim Laden der Reservierung'));\n      showMessage(err.response?.data?.message || t('reservations.loadError', 'Fehler beim Laden der Reservierung'), 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadReservation();\n  }, [id]);\n\n  const handleCheckInSuccess = () => {\n    setShowCheckInForm(false);\n    loadReservation();\n    showMessage(t('reservations.checkInSuccess', 'Check-in erfolgreich durchgeführt'), 'success');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !reservation) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n        <div className=\"text-center\">\n          <p className=\"text-red-600 dark:text-red-400 mb-4\">\n            {error || t('reservations.notFound', 'Reservierung nicht gefunden')}\n          </p>\n          <button\n            onClick={() => navigate('/worktracker')}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n          >\n            {t('common.back', 'Zurück')}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const canCheckIn = reservation.status === ReservationStatus.CONFIRMED;\n  \n  // Prüfe ob Modal angezeigt werden soll (bei Status-Shift wenn guestPhone/Email fehlt)\n  // Modal soll erscheinen wenn:\n  // - Status ist confirmed oder notification_sent\n  // - guestPhone UND guestEmail fehlen\n  const shouldShowGuestContactModal = \n    reservation && \n    (reservation.status === ReservationStatus.CONFIRMED || reservation.status === ReservationStatus.NOTIFICATION_SENT) &&\n    !reservation.guestPhone && \n    !reservation.guestEmail;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <button\n          onClick={() => navigate('/worktracker')}\n          className=\"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\"\n        >\n          <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n          {t('common.back', 'Zurück')}\n        </button>\n\n        <div className=\"flex items-center gap-2\">\n          {shouldShowGuestContactModal && (\n            <button\n              onClick={() => setShowGuestContactModal(true)}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              {t('reservations.addContact', 'Kontakt hinzufügen')}\n            </button>\n          )}\n          {canCheckIn && (\n            <button\n              onClick={() => setShowCheckInForm(true)}\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\n            >\n              {t('reservations.checkIn', 'Check-in durchführen')}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Details Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">\n          {reservation.guestName}\n        </h2>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Gast-Informationen */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              {t('reservations.guestInfo', 'Gast-Informationen')}\n            </h3>\n\n            <div className=\"space-y-3\">\n              {reservation.guestEmail && (\n                <div className=\"flex items-center\">\n                  <EnvelopeIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.email', 'E-Mail')}</p>\n                    <p className=\"text-gray-900 dark:text-white\">{reservation.guestEmail}</p>\n                  </div>\n                </div>\n              )}\n\n              {reservation.guestPhone && (\n                <div className=\"flex items-center\">\n                  <PhoneIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.phone', 'Telefon')}</p>\n                    <p className=\"text-gray-900 dark:text-white\">{reservation.guestPhone}</p>\n                  </div>\n                </div>\n              )}\n\n              {reservation.guestNationality && (\n                <div className=\"flex items-center\">\n                  <UserIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.nationality', 'Nationalität')}</p>\n                    <p className=\"text-gray-900 dark:text-white\">{reservation.guestNationality}</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Reservierungs-Informationen */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              {t('reservations.reservationInfo', 'Reservierungs-Informationen')}\n            </h3>\n\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center\">\n                <CalendarIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                <div>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.checkIn', 'Check-in')}</p>\n                  <p className=\"text-gray-900 dark:text-white\">{formatDate(reservation.checkInDate)}</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <CalendarIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                <div>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.checkOut', 'Check-out')}</p>\n                  <p className=\"text-gray-900 dark:text-white\">{formatDate(reservation.checkOutDate)}</p>\n                </div>\n              </div>\n\n              {reservation.roomNumber && (\n                <div className=\"flex items-center\">\n                  <HomeIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.room', 'Zimmer')}</p>\n                    <p className=\"text-gray-900 dark:text-white\">\n                      {reservation.roomNumber}\n                      {reservation.roomDescription && ` - ${reservation.roomDescription}`}\n                    </p>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"flex items-center\">\n                <ClockIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                <div>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.status', 'Status')}</p>\n                  <p className=\"text-gray-900 dark:text-white\">\n                    {t(`reservations.status.${reservation.status}`, reservation.status)}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <CreditCardIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                <div>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.paymentStatus', 'Zahlungsstatus')}</p>\n                  <p className=\"text-gray-900 dark:text-white\">\n                    {t(`reservations.paymentStatus.${reservation.paymentStatus}`, reservation.paymentStatus)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Zusätzliche Informationen */}\n        {(reservation.doorPin || reservation.paymentLink || reservation.sireRegistered) && (\n          <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\n              {t('reservations.additionalInfo', 'Zusätzliche Informationen')}\n            </h3>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {reservation.doorPin && (\n                <div className=\"flex items-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n                  <KeyIcon className=\"h-5 w-5 mr-3 text-purple-600 dark:text-purple-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.doorPin', 'Tür-PIN')}</p>\n                    <p className=\"text-lg font-mono font-bold text-purple-900 dark:text-purple-100\">\n                      {reservation.doorPin}\n                    </p>\n                    {reservation.doorAppName && (\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {t('reservations.app', 'App')}: {reservation.doorAppName}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {reservation.paymentLink && (\n                <div className=\"flex items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                  <CreditCardIcon className=\"h-5 w-5 mr-3 text-blue-600 dark:text-blue-400\" />\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.paymentLink', 'Zahlungslink')}</p>\n                    <a\n                      href={reservation.paymentLink}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 dark:text-blue-400 hover:underline text-sm break-all\"\n                    >\n                      {t('reservations.openPaymentLink', 'Link öffnen')}\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {reservation.sireRegistered && (\n                <div className=\"flex items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                  <CheckCircleIcon className=\"h-5 w-5 mr-3 text-green-600 dark:text-green-400\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('reservations.sireStatus', 'SIRE-Status')}</p>\n                    <p className=\"text-green-900 dark:text-green-100 font-medium\">\n                      {t('reservations.sireRegistered', 'Registriert')}\n                    </p>\n                    {reservation.sireRegisteredAt && (\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {formatDateTime(reservation.sireRegisteredAt)}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Check-in Form Modal */}\n      {showCheckInForm && (\n        <CheckInForm\n          reservation={reservation}\n          onSuccess={handleCheckInSuccess}\n          onCancel={() => setShowCheckInForm(false)}\n        />\n      )}\n\n      {/* Guest Contact Modal */}\n      {showGuestContactModal && reservation && (\n        <GuestContactModal\n          isOpen={showGuestContactModal}\n          onClose={() => setShowGuestContactModal(false)}\n          reservation={reservation}\n          onSuccess={() => {\n            loadReservation();\n            setShowGuestContactModal(false);\n          }}\n        />\n      )}\n\n      {/* Notification Logs - zeigt alle versendeten Mitteilungen */}\n      <div className=\"mt-6\">\n        <ReservationNotificationLogs reservationId={reservation.id} refreshKey={refreshKey} />\n      </div>\n    </div>\n  );\n};\n\nexport default ReservationDetails;\n\n","/**\r\n * Reservation Types für Frontend\r\n */\r\n\r\nexport enum ReservationStatus {\r\n  CONFIRMED = 'confirmed',\r\n  NOTIFICATION_SENT = 'notification_sent',\r\n  CHECKED_IN = 'checked_in',\r\n  CHECKED_OUT = 'checked_out',\r\n  CANCELLED = 'cancelled',\r\n  NO_SHOW = 'no_show'\r\n}\r\n\r\nexport enum PaymentStatus {\r\n  PENDING = 'pending',\r\n  PAID = 'paid',\r\n  PARTIALLY_PAID = 'partially_paid',\r\n  REFUNDED = 'refunded'\r\n}\r\n\r\nexport interface Reservation {\r\n  id: number;\r\n  lobbyReservationId?: string | null;\r\n  guestName: string;\r\n  guestEmail?: string | null;\r\n  guestPhone?: string | null;\r\n  checkInDate: string; // ISO date string\r\n  checkOutDate: string; // ISO date string\r\n  arrivalTime?: string | null; // ISO datetime string\r\n  roomNumber?: string | null;\r\n  roomDescription?: string | null;\r\n  status: ReservationStatus;\r\n  paymentStatus: PaymentStatus;\r\n  amount?: number | string | null; // Betrag der Reservierung\r\n  currency?: string | null; // Währung (COP, USD, EUR, etc.)\r\n  paymentLink?: string | null;\r\n  doorPin?: string | null;\r\n  doorAppName?: string | null;\r\n  ttlLockId?: string | null;\r\n  ttlLockPassword?: string | null;\r\n  onlineCheckInCompleted: boolean;\r\n  onlineCheckInCompletedAt?: string | null; // ISO datetime string\r\n  sireRegistered: boolean;\r\n  sireRegistrationId?: string | null;\r\n  sireRegisteredAt?: string | null; // ISO datetime string\r\n  sireRegistrationError?: string | null;\r\n  sentMessage?: string | null; // Versendete WhatsApp-Nachricht\r\n  sentMessageAt?: string | null; // ISO datetime string\r\n  guestNationality?: string | null;\r\n  guestPassportNumber?: string | null;\r\n  guestBirthDate?: string | null; // ISO date string\r\n  organizationId: number;\r\n  branchId?: number | null;\r\n  branch?: {\r\n    id: number;\r\n    name: string;\r\n  } | null;\r\n  taskId?: number | null;\r\n  createdAt: string; // ISO datetime string\r\n  updatedAt: string; // ISO datetime string\r\n}\r\n\r\nexport interface ReservationSyncHistory {\r\n  id: number;\r\n  reservationId: number;\r\n  syncType: 'created' | 'updated' | 'status_changed';\r\n  syncData?: any;\r\n  success: boolean;\r\n  errorMessage?: string | null;\r\n  syncedAt: string; // ISO datetime string\r\n}\r\n\r\n","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import axiosInstance from '../config/axios.ts';\r\nimport { Reservation } from '../types/reservation.ts';\r\nimport { API_ENDPOINTS } from '../config/api.ts';\r\n\r\n// WICHTIG: axiosInstance hat bereits baseURL mit /api, daher nur /reservations hier\r\nconst API_BASE = '/reservations';\r\n\r\nexport interface CreateReservationData {\r\n  guestName: string;\r\n  contact: string; // Telefonnummer oder Email\r\n  amount: number;\r\n  currency?: string; // Default: \"COP\"\r\n}\r\n\r\nexport const reservationService = {\r\n  /**\r\n   * Erstellt eine neue Reservierung\r\n   */\r\n  async create(data: CreateReservationData): Promise<Reservation> {\r\n    console.log('[reservationService] POST zu:', API_BASE);\r\n    console.log('[reservationService] Daten:', data);\r\n    const response = await axiosInstance.post(API_BASE, data);\r\n    console.log('[reservationService] Response:', response);\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Holt eine Reservierung nach ID\r\n   */\r\n  async getById(id: number): Promise<Reservation> {\r\n    const response = await axiosInstance.get(`${API_BASE}/${id}`);\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Aktualisiert Kontaktinformation (Telefonnummer oder Email)\r\n   */\r\n  async updateGuestContact(id: number, contact: string): Promise<Reservation> {\r\n    const response = await axiosInstance.put(`${API_BASE}/${id}/guest-contact`, {\r\n      contact\r\n    });\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Generiert PIN-Code und sendet Mitteilung (unabhängig von Zahlungsstatus/Check-in-Status)\r\n   */\r\n  async generatePinAndSend(id: number): Promise<Reservation> {\r\n    const response = await axiosInstance.post(API_ENDPOINTS.RESERVATION.GENERATE_PIN_AND_SEND(id));\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Sendet Reservation-Einladung manuell (mit optionalen Parametern)\r\n   */\r\n  async sendInvitation(\r\n    id: number,\r\n    options?: {\r\n      guestPhone?: string;\r\n      guestEmail?: string;\r\n      customMessage?: string;\r\n      amount?: number;\r\n      currency?: string;\r\n    }\r\n  ): Promise<Reservation> {\r\n    const response = await axiosInstance.post(\r\n      API_ENDPOINTS.RESERVATION.SEND_INVITATION(id),\r\n      options || {}\r\n    );\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Sendet TTLock Passcode mit anpassbaren Kontaktdaten\r\n   */\r\n  async sendPasscode(\r\n    id: number,\r\n    options?: {\r\n      guestPhone?: string;\r\n      guestEmail?: string;\r\n      customMessage?: string;\r\n    }\r\n  ): Promise<Reservation> {\r\n    const response = await axiosInstance.post(\r\n      API_ENDPOINTS.RESERVATION.SEND_PASSCODE(id),\r\n      options || {}\r\n    );\r\n    return response.data.data || response.data;\r\n  },\r\n\r\n  /**\r\n   * Holt Notification-Logs UND WhatsApp-Nachrichten für eine Reservierung\r\n   */\r\n  async getNotificationLogs(id: number): Promise<{\r\n    notificationLogs: ReservationNotificationLog[];\r\n    whatsappMessages: WhatsAppMessage[];\r\n  }> {\r\n    const response = await axiosInstance.get(\r\n      API_ENDPOINTS.RESERVATION.NOTIFICATION_LOGS(id)\r\n    );\r\n    const data = response.data.data || response.data;\r\n    // Rückwärtskompatibilität: Wenn nur Array zurückgegeben wird, als notificationLogs behandeln\r\n    if (Array.isArray(data)) {\r\n      return {\r\n        notificationLogs: data,\r\n        whatsappMessages: []\r\n      };\r\n    }\r\n    return data;\r\n  }\r\n};\r\n\r\nexport interface ReservationNotificationLog {\r\n  id: number;\r\n  reservationId: number;\r\n  notificationType: 'invitation' | 'pin' | 'checkin_confirmation';\r\n  channel: 'whatsapp' | 'email' | 'both';\r\n  success: boolean;\r\n  sentAt: string; // ISO datetime string\r\n  sentTo?: string | null;\r\n  message?: string | null;\r\n  paymentLink?: string | null;\r\n  checkInLink?: string | null;\r\n  errorMessage?: string | null;\r\n  createdAt: string; // ISO datetime string\r\n}\r\n\r\nexport interface WhatsAppMessage {\r\n  id: number;\r\n  reservationId?: number | null;\r\n  branchId: number;\r\n  conversationId?: number | null;\r\n  direction: 'outgoing' | 'incoming';\r\n  phoneNumber: string;\r\n  message: string;\r\n  messageId?: string | null;\r\n  status?: 'sent' | 'delivered' | 'read' | 'failed' | null;\r\n  errorMessage?: string | null;\r\n  sentAt: string; // ISO datetime string\r\n  createdAt: string; // ISO datetime string\r\n  updatedAt: string; // ISO datetime string\r\n}\r\n\r\n","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PaperAirplaneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PaperAirplaneIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { reservationService, ReservationNotificationLog, WhatsAppMessage } from '../../services/reservationService.ts';\r\nimport { format } from 'date-fns';\r\nimport { de, es, enUS } from 'date-fns/locale';\r\nimport {\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  PaperAirplaneIcon,\r\n  EnvelopeIcon,\r\n  PhoneIcon,\r\n  KeyIcon,\r\n  ClockIcon,\r\n  ArrowDownIcon,\r\n  ArrowUpIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface ReservationNotificationLogsProps {\r\n  reservationId: number;\r\n  refreshKey?: number; // Optional: Wird erhöht, wenn Logs neu geladen werden sollen\r\n}\r\n\r\nconst ReservationNotificationLogs: React.FC<ReservationNotificationLogsProps> = ({\r\n  reservationId,\r\n  refreshKey\r\n}) => {\r\n  const { t, i18n } = useTranslation();\r\n  const [logs, setLogs] = useState<ReservationNotificationLog[]>([]);\r\n  const [whatsappMessages, setWhatsappMessages] = useState<WhatsAppMessage[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const getLocale = () => {\r\n    switch (i18n.language) {\r\n      case 'de': return de;\r\n      case 'es': return es;\r\n      default: return enUS;\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    try {\r\n      return format(new Date(dateString), 'dd.MM.yyyy HH:mm', { locale: getLocale() });\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const getNotificationTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case 'invitation':\r\n        return t('reservations.notificationLogs.type.invitation', 'Einladung');\r\n      case 'pin':\r\n        return t('reservations.notificationLogs.type.pin', 'PIN-Code');\r\n      case 'checkin_confirmation':\r\n        return t('reservations.notificationLogs.type.checkinConfirmation', 'Check-in-Bestätigung');\r\n      default:\r\n        return type;\r\n    }\r\n  };\r\n\r\n  const getChannelIcon = (channel: string) => {\r\n    switch (channel) {\r\n      case 'whatsapp':\r\n        return <PhoneIcon className=\"h-4 w-4\" />;\r\n      case 'email':\r\n        return <EnvelopeIcon className=\"h-4 w-4\" />;\r\n      case 'both':\r\n        return (\r\n          <div className=\"flex items-center space-x-1\">\r\n            <PhoneIcon className=\"h-4 w-4\" />\r\n            <EnvelopeIcon className=\"h-4 w-4\" />\r\n          </div>\r\n        );\r\n      default:\r\n        return <PaperAirplaneIcon className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  const getNotificationTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'pin':\r\n        return <KeyIcon className=\"h-4 w-4\" />;\r\n      case 'invitation':\r\n        return <PaperAirplaneIcon className=\"h-4 w-4\" />;\r\n      case 'checkin_confirmation':\r\n        return <CheckCircleIcon className=\"h-4 w-4\" />;\r\n      default:\r\n        return <PaperAirplaneIcon className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadLogs = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        const data = await reservationService.getNotificationLogs(reservationId);\r\n        setLogs(data.notificationLogs || []);\r\n        setWhatsappMessages(data.whatsappMessages || []);\r\n      } catch (err: any) {\r\n        console.error('Fehler beim Laden der Notification-Logs:', err);\r\n        setError(err.response?.data?.message || t('reservations.notificationLogs.loadError', 'Fehler beim Laden der Logs'));\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadLogs();\r\n  }, [reservationId, t, refreshKey]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4\">\r\n        <div className=\"animate-pulse space-y-3\">\r\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4\"></div>\r\n          <div className=\"h-20 bg-gray-200 dark:bg-gray-700 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4\">\r\n        <div className=\"text-red-600 dark:text-red-400 text-sm\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Kombiniere und sortiere alle Nachrichten nach Zeit\r\n  const allMessages = [\r\n    ...logs.map(log => ({ type: 'notification' as const, data: log, timestamp: log.sentAt })),\r\n    ...whatsappMessages.map(msg => ({ type: 'whatsapp' as const, data: msg, timestamp: msg.sentAt }))\r\n  ].sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\r\n\r\n  if (allMessages.length === 0) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n          {t('reservations.notificationLogs.title', 'Benachrichtigungs-Historie')}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n          {t('reservations.notificationLogs.noLogs', 'Keine Logs vorhanden')}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-4\">\r\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n        {t('reservations.notificationLogs.title', 'Benachrichtigungs-Historie')}\r\n      </h3>\r\n      \r\n      <div className=\"space-y-3\">\r\n        {allMessages.map((item) => {\r\n          if (item.type === 'notification') {\r\n            const log = item.data as ReservationNotificationLog;\r\n            return (\r\n              <div\r\n                key={`notification-${log.id}`}\r\n                className={`border rounded-lg p-3 ${\r\n                  log.success\r\n                    ? 'border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20'\r\n                    : 'border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    {log.success ? (\r\n                      <CheckCircleIcon className=\"h-5 w-5 text-green-600 dark:text-green-400\" />\r\n                    ) : (\r\n                      <XCircleIcon className=\"h-5 w-5 text-red-600 dark:text-red-400\" />\r\n                    )}\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {getNotificationTypeIcon(log.notificationType)}\r\n                      <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                        {getNotificationTypeLabel(log.notificationType)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-1 text-gray-500 dark:text-gray-400\">\r\n                      {getChannelIcon(log.channel)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                    <ClockIcon className=\"h-4 w-4\" />\r\n                    <span>{formatDateTime(log.sentAt)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {log.sentTo && (\r\n                  <div className=\"text-xs text-gray-600 dark:text-gray-300 mb-1\">\r\n                    <span className=\"font-medium\">{t('reservations.notificationLogs.sentTo', 'Gesendet an')}:</span> {log.sentTo}\r\n                  </div>\r\n                )}\r\n\r\n                {log.message && (\r\n                  <div className=\"text-xs text-gray-600 dark:text-gray-300 mb-2 mt-2 p-2 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600\">\r\n                    <div className=\"font-medium mb-1\">{t('reservations.notificationLogs.message', 'Nachricht')}:</div>\r\n                    <div className=\"whitespace-pre-wrap break-words\">{log.message}</div>\r\n                  </div>\r\n                )}\r\n\r\n                {(log.paymentLink || log.checkInLink) && (\r\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                    {log.paymentLink && (\r\n                      <a\r\n                        href={log.paymentLink}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\r\n                      >\r\n                        {t('reservations.notificationLogs.paymentLink', 'Zahlungslink')}\r\n                      </a>\r\n                    )}\r\n                    {log.checkInLink && (\r\n                      <a\r\n                        href={log.checkInLink}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\r\n                      >\r\n                        {t('reservations.notificationLogs.checkInLink', 'Check-in-Link')}\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {log.errorMessage && (\r\n                  <div className=\"mt-2 p-2 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded text-xs text-red-700 dark:text-red-300\">\r\n                    <div className=\"font-medium mb-1\">{t('reservations.notificationLogs.error', 'Fehler')}:</div>\r\n                    <div>{log.errorMessage}</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          } else {\r\n            const msg = item.data as WhatsAppMessage;\r\n            const isIncoming = msg.direction === 'incoming';\r\n            const isFailed = msg.status === 'failed';\r\n            return (\r\n              <div\r\n                key={`whatsapp-${msg.id}`}\r\n                className={`border rounded-lg p-3 ${\r\n                  isIncoming\r\n                    ? 'border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20'\r\n                    : isFailed\r\n                    ? 'border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20'\r\n                    : 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    {isIncoming ? (\r\n                      <ArrowDownIcon className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\r\n                    ) : isFailed ? (\r\n                      <XCircleIcon className=\"h-5 w-5 text-red-600 dark:text-red-400\" />\r\n                    ) : (\r\n                      <ArrowUpIcon className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\r\n                    )}\r\n                    <PhoneIcon className=\"h-4 w-4 text-gray-500 dark:text-gray-400\" />\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {isIncoming \r\n                        ? t('reservations.notificationLogs.whatsapp.incoming', 'Eingehende WhatsApp-Nachricht')\r\n                        : t('reservations.notificationLogs.whatsapp.outgoing', 'Ausgehende WhatsApp-Nachricht')\r\n                      }\r\n                    </span>\r\n                    {msg.status && (\r\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                        ({msg.status})\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                    <ClockIcon className=\"h-4 w-4\" />\r\n                    <span>{formatDateTime(msg.sentAt)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"text-xs text-gray-600 dark:text-gray-300 mb-1\">\r\n                  <span className=\"font-medium\">{t('reservations.notificationLogs.sentTo', 'Gesendet an')}:</span> {msg.phoneNumber}\r\n                </div>\r\n\r\n                {msg.message && (\r\n                  <div className=\"text-xs text-gray-600 dark:text-gray-300 mb-2 mt-2 p-2 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600\">\r\n                    <div className=\"font-medium mb-1\">{t('reservations.notificationLogs.message', 'Nachricht')}:</div>\r\n                    <div className=\"whitespace-pre-wrap break-words\">{msg.message}</div>\r\n                  </div>\r\n                )}\r\n\r\n                {msg.errorMessage && (\r\n                  <div className=\"mt-2 p-2 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded text-xs text-red-700 dark:text-red-300\">\r\n                    <div className=\"font-medium mb-1\">{t('reservations.notificationLogs.error', 'Fehler')}:</div>\r\n                    <div>{msg.errorMessage}</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReservationNotificationLogs;\r\n\r\n","import * as React from \"react\";\nfunction CalendarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EnvelopeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EnvelopeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PhoneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhoneIcon);\nexport default ForwardRef;"],"names":["_ref","reservation","onSuccess","onCancel","t","useTranslation","showMessage","useMessage","loading","setLoading","useState","roomNumber","setRoomNumber","roomDescription","setRoomDescription","_jsx","className","children","_jsxs","onClick","XMarkIcon","guestName","Date","checkInDate","toLocaleDateString","onSubmit","async","e","preventDefault","trim","axiosInstance","put","API_ENDPOINTS","RESERVATIONS","CHECK_IN","id","undefined","err","_err$response","_err$response$data","console","error","response","data","message","type","value","onChange","target","required","placeholder","rows","disabled","_Fragment","CheckCircleIcon","isOpen","onClose","contact","setContact","contactType","setContactType","useEffect","length","reservationService","updateGuestContact","_error$response","_error$response$data","htmlFor","includes","detectContactType","CreditCardIcon","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","ReservationDetails","i18n","useParams","navigate","useNavigate","setReservation","setError","showCheckInForm","setShowCheckInForm","showGuestContactModal","setShowGuestContactModal","refreshKey","setRefreshKey","getLocale","language","de","es","enUS","formatDate","dateString","date","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","localDate","format","locale","_unused","loadReservation","_response$data","get","RESERVATION","BY_ID","parseInt","reservationData","log","status","paymentStatus","prev","_err$response2","_err$response2$data","canCheckIn","ReservationStatus","CONFIRMED","shouldShowGuestContactModal","NOTIFICATION_SENT","guestPhone","guestEmail","ArrowLeftIcon","EnvelopeIcon","PhoneIcon","guestNationality","UserIcon","CalendarIcon","checkOutDate","HomeIcon","concat","ClockIcon","doorPin","paymentLink","sireRegistered","KeyIcon","doorAppName","href","rel","sireRegisteredAt","_unused2","formatDateTime","CheckInForm","handleCheckInSuccess","GuestContactModal","ReservationNotificationLogs","reservationId","PaymentStatus","API_BASE","create","post","getById","generatePinAndSend","GENERATE_PIN_AND_SEND","sendInvitation","options","SEND_INVITATION","sendPasscode","SEND_PASSCODE","getNotificationLogs","NOTIFICATION_LOGS","Array","isArray","notificationLogs","whatsappMessages","XCircleIcon","PaperAirplaneIcon","logs","setLogs","setWhatsappMessages","getNotificationTypeLabel","getChannelIcon","channel","getNotificationTypeIcon","loadLogs","allMessages","map","timestamp","sentAt","msg","sort","a","b","getTime","item","success","notificationType","sentTo","checkInLink","errorMessage","isIncoming","direction","isFailed","ArrowDownIcon","ArrowUpIcon","phoneNumber"],"sourceRoot":""}