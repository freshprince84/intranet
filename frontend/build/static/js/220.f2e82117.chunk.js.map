{"version":3,"file":"static/js/220.f2e82117.chunk.js","mappings":"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","sources":["components/LanguageSelector.tsx","pages/Login.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../i18n/config.ts';\r\n\r\ninterface LanguageSelectorProps {\r\n  className?: string;\r\n}\r\n\r\nconst LanguageSelector: React.FC<LanguageSelectorProps> = ({ className = '' }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const handleLanguageChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const newLanguage = e.target.value;\r\n    if (newLanguage) {\r\n      i18n.changeLanguage(newLanguage);\r\n      document.documentElement.lang = newLanguage;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center ${className}`}>\r\n      <select\r\n        value={i18n.language || 'de'}\r\n        onChange={handleLanguageChange}\r\n        className=\"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[80px]\"\r\n      >\r\n        <option value=\"de\">ðŸ‡©ðŸ‡ª DE</option>\r\n        <option value=\"es\">ðŸ‡¨ðŸ‡´ ES</option>\r\n        <option value=\"en\">ðŸ‡¬ðŸ‡§ EN</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;\r\n\r\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../hooks/useAuth.tsx';\nimport LanguageSelector from '../components/LanguageSelector.tsx';\n\nconst Login: React.FC = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { login, user } = useAuth();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // PrÃ¼fe ob Profil unvollstÃ¤ndig ist\n  const isProfileIncomplete = (user: any) => {\n    return !user.birthday || !user.bankDetails || !user.contract || !user.salary || !user.normalWorkingHours;\n  };\n\n  // ÃœberprÃ¼fe, ob der Benutzer bereits eingeloggt ist\n  useEffect(() => {\n    if (user) {\n      console.log('Benutzer bereits eingeloggt, prÃ¼fe ProfilvollstÃ¤ndigkeit');\n      if (isProfileIncomplete(user)) {\n        navigate('/profile');\n      } else {\n        navigate('/dashboard');\n      }\n    }\n  }, [user, navigate]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      await login(formData.username, formData.password);\n      // Navigation wird im useEffect behandelt, sobald user state aktualisiert ist\n    } catch (err: any) {\n      console.error('Login-Fehler:', err);\n      \n      // Detaillierte Fehlermeldung anzeigen\n      const errorMessage = err.response?.data?.message || err.message || t('login.loginFailed');\n      setError(errorMessage);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center dark:bg-gray-900 relative\">\n      <div className=\"absolute top-0 right-0 m-2\">\n        <LanguageSelector />\n      </div>\n      <div className=\"max-w-lg w-full space-y-8 p-10 bg-white dark:bg-gray-800 rounded-lg shadow\">\n        <h2 className=\"text-3xl font-bold text-center text-gray-900 dark:text-white\">{t('login.title')}</h2>\n        {error && <p className=\"text-red-500 dark:text-red-400 text-center\">{error}</p>}\n        <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n          <div>\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              {t('login.username')}\n            </label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              value={formData.username}\n              onChange={handleChange}\n              required\n              className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white\"\n              disabled={loading}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              {t('login.password')}\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white\"\n              disabled={loading}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className={`w-full py-2 px-4 text-white rounded-md ${\n              loading ? 'bg-blue-400 dark:bg-blue-500 cursor-not-allowed' : 'bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800'\n            }`}\n            disabled={loading}\n          >\n            {loading ? t('login.submitting') : t('login.submit')}\n          </button>\n        </form>\n        <p className=\"text-center mt-4 text-gray-700 dark:text-gray-300\">\n          {t('login.noAccount')}{' '}\n          <Link to=\"/register\" className=\"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300\">\n            {t('login.register')}\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Login; "],"names":["_ref","className","t","useTranslation","_jsx","concat","children","_jsxs","value","i18n","language","onChange","e","newLanguage","target","changeLanguage","document","documentElement","lang","Login","navigate","useNavigate","login","user","useAuth","formData","setFormData","useState","username","password","error","setError","loading","setLoading","useEffect","console","log","birthday","bankDetails","contract","salary","normalWorkingHours","isProfileIncomplete","handleChange","_objectSpread","name","LanguageSelector","onSubmit","async","preventDefault","err","_err$response","_err$response$data","errorMessage","response","data","message","htmlFor","type","id","required","disabled","Link","to"],"sourceRoot":""}