{"version":3,"file":"static/js/350.5815557d.chunk.js","mappings":"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","sources":["api/tableSettingsApi.ts","hooks/useTableSettings.ts","utils/filterLogic.ts","components/TableColumnConfig.tsx"],"sourcesContent":["// import axios from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { API_URL } from '../config/api.ts';\n\nexport interface TableSettings {\n  tableId: string;\n  columnOrder: string[];\n  hiddenColumns: string[];\n  viewMode?: 'table' | 'cards';\n}\n\n// Helfer-Funktion, um den localStorage-Schlüssel für eine Tabelle zu generieren\nconst getLocalStorageKey = (tableId: string) => `table_settings_${tableId}`;\n\n// API zum Verwalten der Tabelleneinstellungen\nexport const tableSettingsApi = {\n  // Benutzerspezifische Tabelleneinstellungen abrufen\n  getTableSettings: async (tableId: string): Promise<TableSettings> => {\n    try {\n      // Zuerst versuchen, Einstellungen vom API-Server zu laden\n      const response = await axiosInstance.get(`/table-settings/${tableId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Fehler beim Abrufen der Tabelleneinstellungen vom Server:', error);\n      \n      // Fallback: Versuchen, aus dem localStorage zu laden\n      try {\n        const localStorageKey = getLocalStorageKey(tableId);\n        const storedSettings = localStorage.getItem(localStorageKey);\n        \n        if (storedSettings) {\n          return JSON.parse(storedSettings);\n        }\n      } catch (localError) {\n        console.error('Fehler beim Laden aus localStorage:', localError);\n      }\n      \n      // Default-Einstellungen zurückgeben, wenn keine gespeicherten verfügbar sind\n      return {\n        tableId,\n        columnOrder: [],\n        hiddenColumns: []\n      };\n    }\n  },\n  \n  // Tabelleneinstellungen speichern (server-side und localStorage)\n  saveTableSettings: async (settings: TableSettings): Promise<void> => {\n    try {\n      // Zum API-Server senden\n      await axiosInstance.post(`/table-settings`, settings);\n      \n      // Auch im localStorage speichern\n      const localStorageKey = getLocalStorageKey(settings.tableId);\n      localStorage.setItem(localStorageKey, JSON.stringify(settings));\n    } catch (error) {\n      console.error('Fehler beim Speichern der Tabelleneinstellungen auf dem Server:', error);\n      \n      // Trotzdem im localStorage speichern\n      try {\n        const localStorageKey = getLocalStorageKey(settings.tableId);\n        localStorage.setItem(localStorageKey, JSON.stringify(settings));\n      } catch (localError) {\n        console.error('Fehler beim Speichern im localStorage:', localError);\n      }\n    }\n  },\n  \n  // Tabelleneinstellungen zurücksetzen\n  resetTableSettings: (tableId: string): void => {\n    try {\n      const localStorageKey = getLocalStorageKey(tableId);\n      localStorage.removeItem(localStorageKey);\n      console.log(`Tabelleneinstellungen für ${tableId} zurückgesetzt`);\n    } catch (error) {\n      console.error('Fehler beim Zurücksetzen der Tabelleneinstellungen:', error);\n    }\n  }\n}; ","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { tableSettingsApi, TableSettings } from '../api/tableSettingsApi.ts';\n\ninterface UseTableSettingsOptions {\n  defaultColumnOrder?: string[];\n  defaultHiddenColumns?: string[];\n  defaultViewMode?: 'table' | 'cards';\n  defaultVisibleCardMetadata?: string[];\n  defaultCardColumnOrder?: string[];\n  defaultCardSortDirections?: Record<string, 'asc' | 'desc'>;\n}\n\n/**\n * Hook zum Verwalten von benutzerdefinierten Tabelleneinstellungen\n * @param tableId Eindeutige ID der Tabelle\n * @param options Optionale Standardwerte\n */\nexport const useTableSettings = (tableId: string, options?: UseTableSettingsOptions) => {\n  const [settings, setSettings] = useState<TableSettings>({\n    tableId,\n    columnOrder: options?.defaultColumnOrder || [],\n    hiddenColumns: options?.defaultHiddenColumns || []\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Tabelleneinstellungen laden - beim Mount oder wenn tableId sich ändert\n  useEffect(() => {\n    let isMounted = true;\n    \n    const loadSettings = async () => {\n      try {\n        setIsLoading(true);\n        const loadedSettings = await tableSettingsApi.getTableSettings(tableId);\n        \n        if (!isMounted) return; // Component wurde bereits unmounted\n        \n        console.log('Geladene Tabelleneinstellungen vom Server:', loadedSettings);\n        \n        // Wenn leere Einstellungen zurückgegeben werden, verwende die Standardwerte\n        if (loadedSettings.columnOrder.length === 0 && options?.defaultColumnOrder) {\n          loadedSettings.columnOrder = options.defaultColumnOrder;\n        }\n        \n        // View-Mode initialisieren, falls nicht vorhanden\n        if (!loadedSettings.viewMode && options?.defaultViewMode) {\n          loadedSettings.viewMode = options.defaultViewMode;\n        }\n        \n        console.log('Finale Tabelleneinstellungen nach Initialisierung:', loadedSettings);\n        setSettings(loadedSettings);\n        setError(null);\n      } catch (err) {\n        if (!isMounted) return;\n        setError(err instanceof Error ? err : new Error('Fehler beim Laden der Einstellungen'));\n        console.error('Fehler beim Laden der Tabelleneinstellungen:', err);\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    loadSettings();\n    \n    return () => {\n      isMounted = false;\n    };\n  }, [tableId]); // NUR tableId als Dependency!\n\n  // Spaltenreihenfolge aktualisieren\n  const updateColumnOrder = useCallback(async (newColumnOrder: string[]) => {\n    try {\n      const updatedSettings = { ...settings, columnOrder: newColumnOrder };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Spaltenreihenfolge'));\n      console.error('Fehler beim Speichern der Spaltenreihenfolge:', err);\n    }\n  }, [settings]);\n\n  // Versteckte Spalten aktualisieren\n  const updateHiddenColumns = useCallback(async (newHiddenColumns: string[]) => {\n    try {\n      const updatedSettings = { ...settings, hiddenColumns: newHiddenColumns };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der versteckten Spalten'));\n      console.error('Fehler beim Speichern der versteckten Spalten:', err);\n    }\n  }, [settings]);\n\n  // Eine einzelne Spalte ein- oder ausblenden\n  const toggleColumnVisibility = useCallback(async (columnId: string) => {\n    try {\n      let newHiddenColumns: string[];\n      \n      if (settings.hiddenColumns.includes(columnId)) {\n        // Spalte einblenden (aus hiddenColumns entfernen)\n        newHiddenColumns = settings.hiddenColumns.filter(id => id !== columnId);\n      } else {\n        // Spalte ausblenden (zu hiddenColumns hinzufügen)\n        newHiddenColumns = [...settings.hiddenColumns, columnId];\n      }\n      \n      const updatedSettings = { ...settings, hiddenColumns: newHiddenColumns };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Ändern der Spaltenansicht'));\n      console.error('Fehler beim Ändern der Spaltenansicht:', err);\n    }\n  }, [settings]);\n\n  // View-Mode aktualisieren\n  const updateViewMode = useCallback(async (newViewMode: 'table' | 'cards') => {\n    try {\n      const updatedSettings = { ...settings, viewMode: newViewMode };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern des View-Modes'));\n      console.error('Fehler beim Speichern des View-Modes:', err);\n    }\n  }, [settings]);\n\n  return {\n    settings,\n    isLoading,\n    error,\n    updateColumnOrder,\n    updateHiddenColumns,\n    toggleColumnVisibility,\n    isColumnVisible: (columnId: string) => !settings.hiddenColumns.includes(columnId),\n    updateViewMode\n  };\n}; ","/**\r\n * Zentrale Filter-Logik zur Eliminierung von Code-Duplikation\r\n * \r\n * Diese Datei konsolidiert die Filter-Logik, die zuvor in mehreren Komponenten\r\n * dupliziert war (Requests.tsx, Worktracker.tsx, InvoiceManagementTab.tsx, etc.)\r\n * \r\n * WICHTIG: Die Logik ist exakt identisch mit der vorherigen Implementierung.\r\n * Nur die Code-Duplikation wurde entfernt, keine Funktionalitätsänderung!\r\n */\r\n\r\nexport interface FilterCondition {\r\n  column: string;\r\n  operator: string;\r\n  value: string | number | Date | null;\r\n}\r\n\r\n/**\r\n * Evaluates a single filter condition against a field value\r\n * @param fieldValue - The value to test against\r\n * @param condition - The filter condition to apply\r\n * @returns true if condition is met, false otherwise\r\n */\r\nexport const evaluateCondition = (\r\n  fieldValue: any,\r\n  condition: FilterCondition\r\n): boolean => {\r\n  const { operator, value } = condition;\r\n  \r\n  // Sicherstellen, dass value definiert ist\r\n  if (value === undefined) {\r\n    console.error('evaluateCondition: value ist undefined', condition);\r\n    return false;\r\n  }\r\n  \r\n  // Handle null/undefined values\r\n  if (fieldValue == null && value == null) {\r\n    return operator === 'equals';\r\n  }\r\n  if (fieldValue == null || value == null) {\r\n    if (operator === 'notEquals') return true;\r\n    return false;\r\n  }\r\n\r\n  // String operations\r\n  // Sicherstellen, dass fieldValue und value Strings sind, bevor toLowerCase() aufgerufen wird\r\n  let strField: string = '';\r\n  let strValue: string = '';\r\n  \r\n  try {\r\n    // Konvertiere fieldValue zu String, auch wenn es ein Objekt ist\r\n    const fieldValueStr = fieldValue == null ? '' : (typeof fieldValue === 'string' ? fieldValue : String(fieldValue));\r\n    if (typeof fieldValueStr !== 'string') {\r\n      return false;\r\n    }\r\n    const lowerField = fieldValueStr.toLowerCase();\r\n    if (lowerField === undefined || lowerField === null || typeof lowerField !== 'string') {\r\n      return false;\r\n    }\r\n    strField = lowerField;\r\n    \r\n    // Konvertiere value zu String, auch wenn es ein Objekt ist\r\n    const valueStr = value == null ? '' : (typeof value === 'string' ? value : String(value));\r\n    if (typeof valueStr !== 'string') {\r\n      return false;\r\n    }\r\n    const lowerValue = valueStr.toLowerCase();\r\n    if (lowerValue === undefined || lowerValue === null || typeof lowerValue !== 'string') {\r\n      return false;\r\n    }\r\n    strValue = lowerValue;\r\n  } catch (error) {\r\n    // Falls toLowerCase() fehlschlägt, gebe false zurück\r\n    return false;\r\n  }\r\n\r\n  // Sicherstellen, dass strField und strValue Strings sind und nicht undefined\r\n  if (typeof strField !== 'string' || typeof strValue !== 'string' || strField === undefined || strValue === undefined || strField === null || strValue === null) {\r\n    return false;\r\n  }\r\n\r\n  switch (operator) {\r\n    case 'equals':\r\n      return strField === strValue;\r\n    case 'notEquals':\r\n      return strField !== strValue;\r\n    case 'contains':\r\n      return strField.includes(strValue);\r\n    case 'startsWith':\r\n      return strField.startsWith(strValue);\r\n    case 'endsWith':\r\n      // Explizite Prüfung, dass strField und strValue Strings sind, bevor endsWith aufgerufen wird\r\n      if (strField === undefined || strField === null) {\r\n        console.error('endsWith: strField ist undefined/null', { strField, strValue, fieldValue, value, condition });\r\n        return false;\r\n      }\r\n      if (strValue === undefined || strValue === null) {\r\n        console.error('endsWith: strValue ist undefined/null', { strField, strValue, fieldValue, value, condition });\r\n        return false;\r\n      }\r\n      if (typeof strField !== 'string') {\r\n        console.error('endsWith: strField ist kein String', { strField, typeof: typeof strField, strValue, fieldValue, value, condition });\r\n        return false;\r\n      }\r\n      if (typeof strValue !== 'string') {\r\n        console.error('endsWith: strValue ist kein String', { strField, strValue, typeof: typeof strValue, fieldValue, value, condition });\r\n        return false;\r\n      }\r\n      try {\r\n        return strField.endsWith(strValue);\r\n      } catch (error) {\r\n        console.error('endsWith: Fehler bei endsWith-Aufruf', error, { strField, strValue, fieldValue, value, condition });\r\n        return false;\r\n      }\r\n    case 'before':\r\n    case 'after': {\r\n      // Date operations\r\n      const fieldDate = new Date(fieldValue);\r\n      const valueDate = new Date(value as string);\r\n      if (isNaN(fieldDate.getTime()) || isNaN(valueDate.getTime())) {\r\n        return false;\r\n      }\r\n      return operator === 'before' \r\n        ? fieldDate < valueDate \r\n        : fieldDate > valueDate;\r\n    }\r\n    case 'greaterThan':\r\n    case 'lessThan': {\r\n      // Numeric operations\r\n      const fieldNum = parseFloat(String(fieldValue));\r\n      const valueNum = parseFloat(String(value));\r\n      if (isNaN(fieldNum) || isNaN(valueNum)) {\r\n        return false;\r\n      }\r\n      return operator === 'greaterThan'\r\n        ? fieldNum > valueNum\r\n        : fieldNum < valueNum;\r\n    }\r\n    default:\r\n      return true;\r\n  }\r\n};\r\n\r\n/**\r\n * Type for getting field values from items\r\n */\r\nexport type GetFieldValue<T> = (item: T, columnId: string) => any;\r\n\r\n/**\r\n * Type for column-specific evaluation handlers\r\n * Returns true if condition is met, false otherwise\r\n */\r\nexport type ColumnEvaluator<T> = (item: T, condition: FilterCondition) => boolean | null;\r\n\r\n/**\r\n * Applies filter conditions to an array of items\r\n * \r\n * @param items - Array of items to filter\r\n * @param conditions - Array of filter conditions\r\n * @param operators - Array of logical operators ('AND' | 'OR') between conditions\r\n * @param getFieldValue - Function to extract field values from items\r\n * @param columnEvaluators - Optional map of column-specific evaluators for custom logic\r\n * @returns Filtered array of items\r\n * \r\n * @example\r\n * // Standard usage with getFieldValue\r\n * const filtered = applyFilters(items, conditions, operators, (item, col) => item[col]);\r\n * \r\n * // With custom column evaluators\r\n * const filtered = applyFilters(\r\n *   items,\r\n *   conditions,\r\n *   operators,\r\n *   (item, col) => item[col],\r\n *   {\r\n *     'responsible': (item, condition) => {\r\n *       // Custom logic for responsible column\r\n *       return evaluateUserRoleCondition(item.responsible?.id, item.role?.id, condition);\r\n *     }\r\n *   }\r\n * );\r\n */\r\nexport const applyFilters = <T>(\r\n  items: T[],\r\n  conditions: FilterCondition[],\r\n  operators: ('AND' | 'OR')[],\r\n  getFieldValue: GetFieldValue<T>,\r\n  columnEvaluators?: Record<string, ColumnEvaluator<T>>\r\n): T[] => {\r\n  if (conditions.length === 0) {\r\n    return items;\r\n  }\r\n\r\n  return items.filter(item => {\r\n    let result = true;\r\n\r\n    for (let i = 0; i < conditions.length; i++) {\r\n      const condition = conditions[i];\r\n      let conditionMet = false;\r\n\r\n      // Check if there's a custom evaluator for this column\r\n      if (columnEvaluators && columnEvaluators[condition.column]) {\r\n        const customResult = columnEvaluators[condition.column](item, condition);\r\n        if (customResult !== null) {\r\n          conditionMet = customResult;\r\n        } else {\r\n          // Fallback to standard evaluation if custom evaluator returns null\r\n          const fieldValue = getFieldValue(item, condition.column);\r\n          conditionMet = evaluateCondition(fieldValue, condition);\r\n        }\r\n      } else {\r\n        // Standard evaluation\r\n        const fieldValue = getFieldValue(item, condition.column);\r\n        conditionMet = evaluateCondition(fieldValue, condition);\r\n      }\r\n\r\n      // Apply logical operators\r\n      if (i === 0) {\r\n        result = conditionMet;\r\n      } else {\r\n        const operator = operators[i - 1] || 'AND';\r\n        result = operator === 'AND' \r\n          ? (result && conditionMet) \r\n          : (result || conditionMet);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  });\r\n};\r\n\r\n/**\r\n * Helper function to evaluate date conditions with proper date comparison\r\n * Supports __TODAY__ as a dynamic date value\r\n * \r\n * WICHTIG: Extrahiert nur den Datumsteil (Jahr, Monat, Tag) ohne Zeitzone,\r\n * um Zeitzone-Konvertierungsprobleme zu vermeiden (verhindert Tag-Versatz)\r\n */\r\nexport const evaluateDateCondition = (\r\n  dateValue: Date | string | null | undefined,\r\n  condition: FilterCondition\r\n): boolean => {\r\n  if (!dateValue) {\r\n    return false;\r\n  }\r\n\r\n  const date = new Date(dateValue);\r\n  if (isNaN(date.getTime())) {\r\n    return false;\r\n  }\r\n\r\n  // Extrahiere nur den Datumsteil (Jahr, Monat, Tag) mit UTC-Methoden\r\n  // Dies verhindert Zeitzone-Konvertierung, die zu einem Tag-Versatz führt\r\n  const dateYear = date.getUTCFullYear();\r\n  const dateMonth = date.getUTCMonth();\r\n  const dateDay = date.getUTCDate();\r\n  // Erstelle lokales Date-Objekt aus den UTC-Werten (ohne Zeitzone)\r\n  const normalizedDate = new Date(dateYear, dateMonth, dateDay);\r\n\r\n  // Handle __TODAY__ dynamic date\r\n  let conditionDate: Date;\r\n  if (condition.value === '__TODAY__') {\r\n    // Get today's date in local timezone (set to midnight)\r\n    const localToday = new Date();\r\n    localToday.setHours(0, 0, 0, 0);\r\n    conditionDate = localToday;\r\n  } else {\r\n    const conditionDateRaw = new Date(condition.value as string);\r\n    if (isNaN(conditionDateRaw.getTime())) {\r\n      return false;\r\n    }\r\n    // Extrahiere nur den Datumsteil (Jahr, Monat, Tag) mit UTC-Methoden\r\n    // Dies verhindert Zeitzone-Konvertierung, die zu einem Tag-Versatz führt\r\n    const conditionYear = conditionDateRaw.getUTCFullYear();\r\n    const conditionMonth = conditionDateRaw.getUTCMonth();\r\n    const conditionDay = conditionDateRaw.getUTCDate();\r\n    // Erstelle lokales Date-Objekt aus den UTC-Werten (ohne Zeitzone)\r\n    conditionDate = new Date(conditionYear, conditionMonth, conditionDay);\r\n  }\r\n\r\n  switch (condition.operator) {\r\n    case 'equals':\r\n      return normalizedDate.getTime() === conditionDate.getTime();\r\n    case 'before':\r\n      return normalizedDate < conditionDate;\r\n    case 'after':\r\n      return normalizedDate > conditionDate;\r\n    default:\r\n      return true;\r\n  }\r\n};\r\n\r\n/**\r\n * Helper function to evaluate user/role conditions with user-{id} or role-{id} format\r\n * Supports both user-{id} and role-{id} formats, plus text fallback for legacy support\r\n */\r\nexport const evaluateUserRoleCondition = (\r\n  userId: number | null | undefined,\r\n  roleId: number | null | undefined,\r\n  condition: FilterCondition,\r\n  textValue?: string  // Optional: text representation for fallback (e.g. \"John Doe\")\r\n): boolean => {\r\n  const value = condition.value as string || '';\r\n  \r\n  // Handle user-{id} format\r\n  if (value.startsWith('user-')) {\r\n    const targetUserId = parseInt(value.replace('user-', ''), 10);\r\n    if (isNaN(targetUserId)) return false;\r\n    const matches = userId === targetUserId;\r\n    // Unterstütze notEquals Operator\r\n    if (condition.operator === 'notEquals') {\r\n      return !matches;\r\n    }\r\n    return matches;\r\n  }\r\n  \r\n  // Handle role-{id} format\r\n  if (value.startsWith('role-')) {\r\n    const targetRoleId = parseInt(value.replace('role-', ''), 10);\r\n    if (isNaN(targetRoleId)) return false;\r\n    const matches = roleId === targetRoleId;\r\n    // Unterstütze notEquals Operator\r\n    if (condition.operator === 'notEquals') {\r\n      return !matches;\r\n    }\r\n    return matches;\r\n  }\r\n  \r\n  // Empty value matches all\r\n  if (value === '') {\r\n    return true;\r\n  }\r\n  \r\n  // Fallback to text comparison (legacy support)\r\n  if (textValue !== undefined) {\r\n    const textValueLower = textValue.toLowerCase();\r\n    const valueLower = value.toLowerCase();\r\n    if (condition.operator === 'equals') {\r\n      return textValueLower === valueLower;\r\n    } else if (condition.operator === 'notEquals') {\r\n      return textValueLower !== valueLower;\r\n    } else if (condition.operator === 'contains') {\r\n      return textValueLower.includes(valueLower);\r\n    }\r\n  }\r\n  \r\n  return false;\r\n};\r\n\r\n/**\r\n * Helper function for combined responsible/qualityControl filter (specific to Tasks)\r\n */\r\nexport const evaluateResponsibleAndQualityControl = (\r\n  responsibleId: number | null | undefined,\r\n  responsibleRoleId: number | null | undefined,\r\n  qualityControlId: number | null | undefined,\r\n  condition: FilterCondition,\r\n  responsibleText?: string,\r\n  qualityControlText?: string\r\n): boolean => {\r\n  const value = condition.value as string || '';\r\n  \r\n  // Handle user-{id} format - matches either responsible OR qualityControl\r\n  if (value.startsWith('user-')) {\r\n    const targetUserId = parseInt(value.replace('user-', ''), 10);\r\n    if (isNaN(targetUserId)) return false;\r\n    const matches = (responsibleId === targetUserId) || (qualityControlId === targetUserId);\r\n    // Unterstütze notEquals Operator\r\n    if (condition.operator === 'notEquals') {\r\n      return !matches;\r\n    }\r\n    return matches;\r\n  }\r\n  \r\n  // Handle role-{id} format - only matches with responsible role\r\n  if (value.startsWith('role-')) {\r\n    const targetRoleId = parseInt(value.replace('role-', ''), 10);\r\n    if (isNaN(targetRoleId)) return false;\r\n    const matches = responsibleRoleId === targetRoleId;\r\n    // Unterstütze notEquals Operator\r\n    if (condition.operator === 'notEquals') {\r\n      return !matches;\r\n    }\r\n    return matches;\r\n  }\r\n  \r\n  // Empty value matches all\r\n  if (value === '') {\r\n    return true;\r\n  }\r\n  \r\n  // Fallback to text comparison (legacy support)\r\n  const valueLower = value.toLowerCase();\r\n  if (condition.operator === 'equals') {\r\n    return (responsibleText?.toLowerCase() === valueLower) || (qualityControlText?.toLowerCase() === valueLower);\r\n  } else if (condition.operator === 'notEquals') {\r\n    return (responsibleText?.toLowerCase() !== valueLower) && (qualityControlText?.toLowerCase() !== valueLower);\r\n  } else if (condition.operator === 'contains') {\r\n    return (responsibleText?.toLowerCase()?.includes(valueLower) ?? false) || (qualityControlText?.toLowerCase()?.includes(valueLower) ?? false);\r\n  }\r\n  \r\n  return false;\r\n};\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { EyeIcon, EyeSlashIcon, Bars2Icon, ArrowsUpDownIcon, ArrowUpIcon, ArrowDownIcon, CheckIcon } from '@heroicons/react/24/outline';\n\ninterface Column {\n  id: string;\n  label: string;\n}\n\ninterface TableColumnConfigProps {\n  columns: Column[];\n  visibleColumns: string[];\n  columnOrder: string[];\n  onToggleColumnVisibility: (columnId: string) => void;\n  onMoveColumn: (dragIndex: number, hoverIndex: number) => void;\n  onClose: () => void;\n  buttonTitle?: string; // Optional: Custom Button-Titel\n  modalTitle?: string; // Optional: Custom Modal-Titel\n  sortDirections?: Record<string, 'asc' | 'desc'>; // Optional: Sortierrichtungen pro Spalte (für Cards-Mode)\n  onSortDirectionChange?: (columnId: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Sortierrichtung pro Spalte\n  showSortDirection?: boolean; // Optional: Sortierrichtung anzeigen\n}\n\ninterface DraggableItemProps {\n  id: string;\n  label: string;\n  index: number;\n  isVisible: boolean;\n  isDragging: boolean;\n  isOver: boolean;\n  onDragStart: (index: number) => void;\n  onDragOver: (index: number) => void;\n  onDragEnd: () => void;\n  onToggleVisibility: (id: string) => void;\n  sortDirection?: 'asc' | 'desc'; // Optional: Sortierrichtung für diese Spalte\n  onSortDirectionChange?: (id: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Sortierrichtung\n  showSortDirection?: boolean; // Optional: Sortierrichtung anzeigen\n  sortOrder?: number; // Optional: Sortierreihenfolge (1, 2, 3, etc.)\n}\n\n// Komponente für eine einzelne, ziehbare Spalte\nconst DraggableColumnItem: React.FC<DraggableItemProps> = ({ \n  id, \n  label, \n  index, \n  isVisible,\n  isDragging,\n  isOver,\n  onDragStart,\n  onDragOver,\n  onDragEnd,\n  onToggleVisibility,\n  sortDirection,\n  onSortDirectionChange,\n  showSortDirection = false,\n  sortOrder\n}) => {\n  const { t } = useTranslation();\n  \n  return (\n    <li \n      draggable\n      onDragStart={() => onDragStart(index)}\n      onDragOver={(e) => {\n        e.preventDefault();\n        onDragOver(index);\n      }}\n      onDragEnd={onDragEnd}\n      className={`flex items-center justify-between px-2.5 py-2 rounded-md transition-colors duration-150\n        ${isDragging ? 'opacity-50 bg-gray-100 dark:bg-gray-700' : ''}\n        ${isOver ? 'border-t-2 border-blue-500 dark:border-blue-400' : ''}\n        ${!isDragging && !isOver ? 'hover:bg-gray-50 dark:hover:bg-gray-700' : ''}`}\n    >\n      <div className=\"flex items-center flex-1 min-w-0\">\n        <Bars2Icon className=\"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500 cursor-move flex-shrink-0\" />\n        <span className=\"text-sm dark:text-gray-300 flex items-center gap-2\">\n          {showSortDirection && sortOrder !== undefined && isVisible && (\n            <span className=\"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded\">\n              {sortOrder}\n            </span>\n          )}\n          <span>{label}</span>\n        </span>\n      </div>\n      <div className=\"flex items-center gap-1\">\n        {/* Sortierrichtung-Toggle */}\n        {showSortDirection && isVisible && sortDirection !== undefined && onSortDirectionChange && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onSortDirectionChange(id, sortDirection === 'asc' ? 'desc' : 'asc');\n            }}\n            className=\"inline-flex items-center justify-center p-1.5 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n            title={`${t('tableColumn.sortDirection')}: ${sortDirection === 'asc' ? t('tableColumn.ascending') : t('tableColumn.descending')} (${t('tableColumn.clickToToggle')})`}\n          >\n            {sortDirection === 'asc' ? (\n              <ArrowUpIcon className=\"h-4 w-4\" />\n            ) : (\n              <ArrowDownIcon className=\"h-4 w-4\" />\n            )}\n          </button>\n        )}\n        <button\n          onClick={() => onToggleVisibility(id)}\n          className=\"inline-flex items-center justify-center p-1.5 rounded-full bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n          title={isVisible ? t('tableColumn.hideColumn') : t('tableColumn.showColumn')}\n        >\n          {isVisible ? (\n            <EyeIcon className=\"w-4 h-4 dark:text-gray-300\" />\n          ) : (\n            <EyeSlashIcon className=\"w-4 h-4 text-gray-400 dark:text-gray-500\" />\n          )}\n        </button>\n      </div>\n    </li>\n  );\n};\n\nconst TableColumnConfig: React.FC<TableColumnConfigProps> = ({\n  columns,\n  visibleColumns,\n  columnOrder,\n  onToggleColumnVisibility,\n  onMoveColumn,\n  onClose,\n  buttonTitle,\n  modalTitle,\n  sortDirections = {},\n  onSortDirectionChange,\n  showSortDirection = false\n}) => {\n  const { t } = useTranslation();\n  const defaultButtonTitle = buttonTitle || t('tableColumn.configure');\n  const defaultModalTitle = modalTitle || t('tableColumn.configure');\n  const [isOpen, setIsOpen] = useState(false);\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [overIndex, setOverIndex] = useState<number | null>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // Sortiere die Spalten gemäß der benutzerdefinierten Reihenfolge\n  const sortedColumns = [...columns].sort((a, b) => {\n    const indexA = columnOrder.indexOf(a.id);\n    const indexB = columnOrder.indexOf(b.id);\n    // Wenn eine Spalte nicht in columnOrder ist, platziere sie am Ende\n    if (indexA === -1) return 1;\n    if (indexB === -1) return -1;\n    return indexA - indexB;\n  });\n\n  // Handler für den Beginn des Drag-Vorgangs\n  const handleDragStart = (index: number) => {\n    setDraggedIndex(index);\n    setOverIndex(index);\n  };\n\n  // Handler für Drag-Over-Ereignis\n  const handleDragOver = (index: number) => {\n    setOverIndex(index);\n  };\n\n  // Handler für das Ende des Drag-Vorgangs\n  const handleDragEnd = () => {\n    if (draggedIndex !== null && overIndex !== null && draggedIndex !== overIndex) {\n      onMoveColumn(draggedIndex, overIndex);\n    }\n    setDraggedIndex(null);\n    setOverIndex(null);\n  };\n\n  // Handler zum Schließen des Menüs\n  const handleClose = () => {\n    setIsOpen(false);\n    onClose();\n  };\n\n  // Click outside handler\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      <button\n        className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n        onClick={() => setIsOpen(!isOpen)}\n        title={defaultButtonTitle}\n      >\n        {showSortDirection ? (\n          <ArrowsUpDownIcon className=\"w-5 h-5\" />\n        ) : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5\">\n            <path fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 012 10z\" clipRule=\"evenodd\" />\n          </svg>\n        )}\n      </button>\n\n      {isOpen && (\n        <div \n          className=\"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-300 dark:border-gray-600\"\n          onDragOver={(e) => e.preventDefault()}\n        >\n          <div className=\"px-3 py-2.5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n            <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">{defaultModalTitle}</h3>\n            <button\n              onClick={handleClose}\n              className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n              title={t('common.close')}\n            >\n              <CheckIcon className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <ul className=\"px-2 py-1 max-h-64 overflow-y-auto\">\n            {sortedColumns.map((column, index) => {\n              // Bestimme Sortierreihenfolge (nur für sichtbare Spalten)\n              const visibleSortedColumns = sortedColumns.filter(col => visibleColumns.includes(col.id));\n              const sortOrder = visibleSortedColumns.findIndex(col => col.id === column.id) + 1;\n              const isVisible = visibleColumns.includes(column.id);\n              \n              return (\n                <DraggableColumnItem\n                  key={column.id}\n                  id={column.id}\n                  label={column.label}\n                  index={index}\n                  isVisible={isVisible}\n                  isDragging={draggedIndex === index}\n                  isOver={overIndex === index && draggedIndex !== index}\n                  onDragStart={handleDragStart}\n                  onDragOver={handleDragOver}\n                  onDragEnd={handleDragEnd}\n                  onToggleVisibility={onToggleColumnVisibility}\n                  sortDirection={showSortDirection && isVisible ? (sortDirections[column.id] || 'asc') : undefined}\n                  onSortDirectionChange={showSortDirection ? onSortDirectionChange : undefined}\n                  showSortDirection={showSortDirection}\n                  sortOrder={showSortDirection && isVisible ? sortOrder : undefined}\n                />\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TableColumnConfig; "],"names":["getLocalStorageKey","tableId","concat","tableSettingsApi","async","axiosInstance","get","data","error","console","localStorageKey","storedSettings","localStorage","getItem","JSON","parse","localError","columnOrder","hiddenColumns","post","settings","setItem","stringify","useTableSettings","options","setSettings","useState","defaultColumnOrder","defaultHiddenColumns","isLoading","setIsLoading","setError","useEffect","isMounted","loadedSettings","log","length","viewMode","defaultViewMode","err","Error","loadSettings","updateColumnOrder","useCallback","updatedSettings","_objectSpread","newColumnOrder","updateHiddenColumns","newHiddenColumns","toggleColumnVisibility","includes","columnId","filter","id","updateViewMode","newViewMode","isColumnVisible","evaluateCondition","fieldValue","condition","operator","value","undefined","strField","strValue","fieldValueStr","String","lowerField","toLowerCase","valueStr","lowerValue","startsWith","typeof","endsWith","fieldDate","Date","valueDate","isNaN","getTime","fieldNum","parseFloat","valueNum","applyFilters","items","conditions","operators","getFieldValue","columnEvaluators","item","result","i","conditionMet","column","customResult","evaluateDateCondition","dateValue","date","dateYear","getUTCFullYear","dateMonth","getUTCMonth","dateDay","getUTCDate","normalizedDate","conditionDate","localToday","setHours","conditionDateRaw","conditionYear","conditionMonth","conditionDay","evaluateUserRoleCondition","userId","roleId","textValue","targetUserId","parseInt","replace","matches","targetRoleId","textValueLower","valueLower","evaluateResponsibleAndQualityControl","responsibleId","responsibleRoleId","qualityControlId","responsibleText","qualityControlText","_responsibleText$toLo","_responsibleText$toLo2","_qualityControlText$t","_qualityControlText$t2","DraggableColumnItem","_ref","label","index","isVisible","isDragging","isOver","onDragStart","onDragOver","onDragEnd","onToggleVisibility","sortDirection","onSortDirectionChange","showSortDirection","sortOrder","t","useTranslation","_jsxs","draggable","e","preventDefault","className","children","_jsx","Bars2Icon","onClick","stopPropagation","title","ArrowUpIcon","ArrowDownIcon","EyeIcon","EyeSlashIcon","_ref2","columns","visibleColumns","onToggleColumnVisibility","onMoveColumn","onClose","buttonTitle","modalTitle","sortDirections","defaultButtonTitle","defaultModalTitle","isOpen","setIsOpen","draggedIndex","setDraggedIndex","overIndex","setOverIndex","menuRef","useRef","sortedColumns","sort","a","b","indexA","indexOf","indexB","handleDragStart","handleDragOver","handleDragEnd","handleClose","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","ref","ArrowsUpDownIcon","xmlns","viewBox","fill","fillRule","d","clipRule","CheckIcon","map","col","findIndex"],"sourceRoot":""}