{"version":3,"file":"static/js/727.b1907e22.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/24/outline/esm/TableCellsIcon.js","../node_modules/@heroicons/react/24/outline/esm/ArrowsUpDownIcon.js","../node_modules/@heroicons/react/24/outline/esm/StopIcon.js","../node_modules/@heroicons/react/24/outline/esm/DocumentTextIcon.js","../node_modules/@heroicons/react/24/outline/esm/ChartBarIcon.js","../node_modules/date-fns/subDays.js","components/teamWorktime/StopWorktimeModal.tsx","components/teamWorktime/EditWorktimeModal.tsx","components/teamWorktime/ActiveUsersList.tsx","api/worktimeApi.ts","components/teamWorktime/TodoAnalyticsTab.tsx","components/teamWorktime/RequestAnalyticsTab.tsx","pages/TeamWorktimeControl.tsx","../node_modules/@heroicons/react/24/outline/esm/UserIcon.js","../node_modules/@heroicons/react/24/outline/esm/EyeSlashIcon.js","../node_modules/@heroicons/react/24/outline/esm/Squares2X2Icon.js","../node_modules/@heroicons/react/24/outline/esm/BuildingOfficeIcon.js","../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../node_modules/@heroicons/react/24/outline/esm/Bars2Icon.js"],"sourcesContent":["import * as React from \"react\";\nfunction TableCellsIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TableCellsIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowsUpDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowsUpDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction StopIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(StopIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentTextIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentTextIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChartBarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChartBarIcon);\nexport default ForwardRef;","import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link subDays} function options.\n */\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { Fragment } from 'react';\nimport { XMarkIcon, CheckIcon, ArrowPathIcon } from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\n\ninterface StopWorktimeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: (endTime: string) => Promise<void>;\n  userName: string;\n}\n\nconst StopWorktimeModal: React.FC<StopWorktimeModalProps> = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  userName\n}) => {\n  const { t } = useTranslation();\n  // Aktuelles Datum und Zeit als Standardwert\n  const now = new Date();\n  const formattedDate = format(now, 'yyyy-MM-dd');\n  const formattedTime = format(now, 'HH:mm:ss');\n  \n  // State fr Datum und Zeit\n  const [date, setDate] = useState(formattedDate);\n  const [time, setTime] = useState(formattedTime);\n  const [loading, setLoading] = useState(false);\n  \n  // Besttige das Stoppen der Zeiterfassung\n  const handleConfirm = async () => {\n    try {\n      setLoading(true);\n      \n      // Kombiniere Datum und Zeit zu einem ISO-String ohne 'Z' am Ende,\n      // um zu verhindern, dass JavaScript den Zeitstempel als UTC interpretiert\n      const endTime = `${date}T${time}`;\n      \n      await onConfirm(endTime);\n    } catch (error) {\n      console.error('Fehler beim Stoppen der Zeiterfassung:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <Transition appear show={isOpen} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-10\" onClose={onClose}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black bg-opacity-25\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className=\"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all\">\n                <div className=\"flex justify-between items-start\">\n                  <Dialog.Title\n                    as=\"h3\"\n                    className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\"\n                  >\n                    {t('teamWorktime.modal.stopTracking.title')}\n                  </Dialog.Title>\n                  <button\n                    type=\"button\"\n                    className=\"bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    onClick={onClose}\n                  >\n                    <span className=\"sr-only\">{t('common.close')}</span>\n                    <XMarkIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    {t('teamWorktime.modal.stopTracking.description', { userName })}\n                  </p>\n                </div>\n\n                <div className=\"mt-4 grid grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"date\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      {t('teamWorktime.modal.stopTracking.date')}\n                    </label>\n                    <input\n                      type=\"date\"\n                      id=\"date\"\n                      className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n                      value={date}\n                      onChange={(e) => setDate(e.target.value)}\n                    />\n                  </div>\n                  <div>\n                    <label htmlFor=\"time\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      {t('teamWorktime.modal.stopTracking.time')}\n                    </label>\n                    <input\n                      type=\"time\"\n                      id=\"time\"\n                      step=\"1\"\n                      className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n                      value={time}\n                      onChange={(e) => setTime(e.target.value)}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed\"\n                    onClick={onClose}\n                    disabled={loading}\n                    title={t('common.cancel')}\n                  >\n                    <XMarkIcon className=\"h-5 w-5\" />\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"p-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    onClick={handleConfirm}\n                    disabled={loading}\n                    title={loading ? t('teamWorktime.modal.stopTracking.stopping') : t('teamWorktime.modal.stopTracking.stop')}\n                  >\n                    {loading ? (\n                      <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\n                    ) : (\n                      <CheckIcon className=\"h-5 w-5\" />\n                    )}\n                  </button>\n                </div>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n};\n\nexport default StopWorktimeModal; ","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { Fragment } from 'react';\nimport { XMarkIcon, TrashIcon, CheckIcon, ArrowPathIcon } from '@heroicons/react/24/outline';\nimport { format, parse } from 'date-fns';\n\n// Hilfsfunktion fr lokale Datumsberechnungen\nimport { createLocalDate } from '../../utils/dateUtils.ts';\n\ninterface WorktimeEntry {\n  id: number;\n  startTime: string;\n  endTime: string | null;\n  userId: number;\n  branch: {\n    id: number;\n    name: string;\n  };\n}\n\ninterface EditableEntry extends WorktimeEntry {\n  date: string;\n  startTimeTime: string;\n  endTimeTime: string | null;\n  isDeleted?: boolean;\n  isModified?: boolean;\n}\n\ninterface EditWorktimeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (entries: EditableEntry[]) => Promise<void>;\n  userName: string;\n  entries: WorktimeEntry[];\n  selectedDate: string;\n}\n\nconst EditWorktimeModal: React.FC<EditWorktimeModalProps> = ({\n  isOpen,\n  onClose,\n  onSave,\n  userName,\n  entries,\n  selectedDate\n}) => {\n  const { t } = useTranslation();\n  const [editedEntries, setEditedEntries] = useState<EditableEntry[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Initialisiere die bearbeitbaren Eintrge, wenn sich die Props ndern\n  useEffect(() => {\n    if (entries && entries.length > 0) {\n      // Konvertiere Eintrge in das bearbeitbare Format\n      const formattedEntries = entries.map(entry => {\n        // Extrahiere direkt die Datums- und Zeitteile aus den ISO-Strings ohne Date-Objekte zu erstellen\n        const datePart = entry.startTime.split('T')[0]; // YYYY-MM-DD\n        const startTimePart = entry.startTime.split('T')[1].substring(0, 8); // HH:MM:SS\n        const endTimePart = entry.endTime ? entry.endTime.split('T')[1].substring(0, 8) : null; // HH:MM:SS oder null\n        \n        return {\n          ...entry,\n          date: datePart,\n          startTimeTime: startTimePart,\n          endTimeTime: endTimePart,\n          isDeleted: false,\n          isModified: false\n        };\n      });\n      \n      setEditedEntries(formattedEntries);\n    } else {\n      setEditedEntries([]);\n    }\n  }, [entries]);\n  \n  // Handler fr nderungen an der Startzeit\n  const handleStartTimeChange = (index: number, value: string) => {\n    const newEntries = [...editedEntries];\n    if (newEntries[index].startTimeTime !== value) {\n      newEntries[index].startTimeTime = value;\n      newEntries[index].isModified = true;\n      setEditedEntries(newEntries);\n      validateEntries(newEntries);\n    }\n  };\n  \n  // Handler fr nderungen an der Endzeit\n  const handleEndTimeChange = (index: number, value: string | null) => {\n    const newEntries = [...editedEntries];\n    if (newEntries[index].endTimeTime !== value) {\n      newEntries[index].endTimeTime = value;\n      newEntries[index].isModified = true;\n      setEditedEntries(newEntries);\n      validateEntries(newEntries);\n    }\n  };\n\n  // Handler fr das Markieren eines Eintrags zum Lschen\n  const handleToggleDelete = (index: number) => {\n    const newEntries = [...editedEntries];\n    newEntries[index].isDeleted = !newEntries[index].isDeleted;\n    newEntries[index].isModified = true;\n    setEditedEntries(newEntries);\n  };\n  \n  // Validierung der Eintrge\n  const validateEntries = (entriesToValidate: EditableEntry[]) => {\n    // Filtere alle Eintrge, die nicht zum Lschen markiert sind\n    const activeEntries = entriesToValidate.filter(entry => !entry.isDeleted);\n    \n    // Prfe, ob es berlappende Zeitrume gibt\n    for (let i = 0; i < activeEntries.length; i++) {\n      const entry1 = activeEntries[i];\n      \n      // Bei Zeitstrings knnen wir direkt vergleichen, da das Format immer gleich ist (HH:MM:SS)\n      const start1 = entry1.startTimeTime;\n      const end1 = entry1.endTimeTime;\n      \n      // Prfe, ob Endzeit nach Startzeit liegt\n      if (end1 && start1 >= end1) {\n        setError(`Eintrag ${i+1}: Die Endzeit muss nach der Startzeit liegen.`);\n        return false;\n      }\n      \n      // Prfe auf berlappungen mit anderen Eintrgen\n      for (let j = i + 1; j < activeEntries.length; j++) {\n        const entry2 = activeEntries[j];\n        \n        const start2 = entry2.startTimeTime;\n        const end2 = entry2.endTimeTime;\n        \n        // berlappung prfen: Wir knnen direkt die Zeitstrings vergleichen\n        if (\n          (end1 && end2 && start1 < end2 && end1 > start2) ||\n          (end1 && !end2 && end1 > start2) ||\n          (end2 && !end1 && end2 > start1)\n        ) {\n          setError(`Es gibt eine berlappung zwischen Eintrag ${i+1} und Eintrag ${j+1}.`);\n          return false;\n        }\n      }\n    }\n    \n    setError(null);\n    return true;\n  };\n  \n  // Speichern der nderungen\n  const handleSave = async () => {\n    // Validiere noch einmal vor dem Speichern\n    if (!validateEntries(editedEntries)) {\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      \n      // Filtere nur die tatschlich genderten oder gelschten Eintrge\n      const modifiedEntries = editedEntries.filter(entry => entry.isModified || entry.isDeleted);\n      \n      // Konvertiere bearbeitete Eintrge zurck in das API-Format\n      // Achtung: Da im Backend new Date() verwendet wird, was zu einer Zeitzonenkonvertierung fhrt,\n      // sollten wir hier mit den lokalen ISO-Strings ohne Zeitzone arbeiten\n      const updatedEntries = modifiedEntries.map(entry => {\n        // Erstelle direkte ISO-Strings ohne Zeitzone\n        const startTimeStr = `${entry.date}T${entry.startTimeTime}`;\n        const endTimeStr = entry.endTimeTime ? `${entry.date}T${entry.endTimeTime}` : null;\n        \n        return {\n          ...entry,\n          startTime: startTimeStr,\n          endTime: endTimeStr\n        };\n      });\n      \n      // Nur wenn es nderungen gibt, senden wir diese an das Backend\n      if (updatedEntries.length > 0) {\n        await onSave(updatedEntries);\n      }\n      \n      onClose();\n    } catch (error) {\n      console.error('Fehler beim Speichern der Zeiterfassungen:', error);\n      setError(t('teamWorktime.modal.editWorktimes.saveError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Formatierungshilfe fr bessere Lesbarkeit der Zeiten\n  const formatTimeForDisplay = (timeString: string) => {\n    const [hours, minutes] = timeString.split(':');\n    return `${hours}:${minutes}`;\n  };\n  \n  return (\n    <Transition appear show={isOpen} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-10\" onClose={onClose}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black bg-opacity-25\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className=\"w-full max-w-xl transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all\">\n                <div className=\"flex justify-between items-start\">\n                  <Dialog.Title\n                    as=\"h3\"\n                    className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\"\n                  >\n                    {t('teamWorktime.modal.editWorktimes.title')}\n                  </Dialog.Title>\n                  <button\n                    type=\"button\"\n                    className=\"bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    onClick={onClose}\n                  >\n                    <span className=\"sr-only\">{t('common.close')}</span>\n                    <XMarkIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    {t('teamWorktime.modal.editWorktimes.description', { \n                      userName, \n                      date: selectedDate.split('-').reverse().join('.') \n                    })}\n                  </p>\n                </div>\n\n                {error && (\n                  <div className=\"mt-2 p-2 bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 rounded\">\n                    {error}\n                  </div>\n                )}\n\n                <div className=\"mt-4\">\n                  <div className=\"overflow-hidden border dark:border-gray-700 rounded-lg\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                      <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                        <tr>\n                          <th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{t('teamWorktime.modal.editWorktimes.columns.number')}</th>\n                          <th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{t('teamWorktime.modal.editWorktimes.columns.startTime')}</th>\n                          <th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{t('teamWorktime.modal.editWorktimes.columns.endTime')}</th>\n                          <th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{t('common.actions')}</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                        {editedEntries.length === 0 ? (\n                          <tr>\n                            <td colSpan={4} className=\"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400\">\n                              {t('teamWorktime.modal.editWorktimes.noEntries')}\n                            </td>\n                          </tr>\n                        ) : (\n                          editedEntries.map((entry, index) => (\n                            <tr key={entry.id} className={entry.isDeleted ? 'bg-red-50 dark:bg-red-900' : ''}>\n                              <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                {index + 1}\n                              </td>\n                              <td className=\"px-4 py-2 whitespace-nowrap\">\n                                <input\n                                  type=\"time\"\n                                  step=\"1\"\n                                  className={`rounded-md border ${entry.isDeleted ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900' : 'border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white'} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm`}\n                                  value={entry.startTimeTime.substring(0, 5)}\n                                  onChange={(e) => handleStartTimeChange(index, e.target.value + ':00')}\n                                  disabled={entry.isDeleted}\n                                />\n                              </td>\n                              <td className=\"px-4 py-2 whitespace-nowrap\">\n                                <input\n                                  type=\"time\"\n                                  step=\"1\"\n                                  className={`rounded-md border ${entry.isDeleted ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900' : 'border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white'} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm`}\n                                  value={entry.endTimeTime ? entry.endTimeTime.substring(0, 5) : ''}\n                                  onChange={(e) => {\n                                    const value = e.target.value ? e.target.value + ':00' : null;\n                                    handleEndTimeChange(index, value);\n                                  }}\n                                  disabled={entry.isDeleted}\n                                />\n                              </td>\n                              <td className=\"px-4 py-2 whitespace-nowrap text-right text-sm font-medium\">\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleToggleDelete(index)}\n                                  className={`p-1 rounded ${entry.isDeleted ? 'text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300' : 'text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300'}`}\n                                  title={entry.isDeleted ? t('teamWorktime.modal.editWorktimes.restore') : t('teamWorktime.modal.editWorktimes.markForDelete')}\n                                >\n                                  <TrashIcon className=\"h-5 w-5\" />\n                                </button>\n                              </td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed\"\n                    onClick={onClose}\n                    disabled={loading}\n                    title={t('common.cancel')}\n                  >\n                    <XMarkIcon className=\"h-5 w-5\" />\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-700 dark:hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    onClick={handleSave}\n                    disabled={loading || Boolean(error)}\n                    title={loading ? t('common.saving') : t('common.save')}\n                  >\n                    {loading ? (\n                      <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\n                    ) : (\n                      <CheckIcon className=\"h-5 w-5\" />\n                    )}\n                  </button>\n                </div>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n};\n\nexport default EditWorktimeModal; ","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { format, formatDistanceToNow, subDays, addDays } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { useTranslation } from 'react-i18next';\nimport { StopIcon, ArrowPathIcon, MagnifyingGlassIcon, Bars3Icon, ChevronUpIcon, ChevronDownIcon, ArrowsUpDownIcon, CalendarIcon, PencilIcon, FunnelIcon, Squares2X2Icon, TableCellsIcon, UserIcon, BuildingOfficeIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport StopWorktimeModal from './StopWorktimeModal.tsx';\nimport EditWorktimeModal from './EditWorktimeModal.tsx';\nimport FilterPane from '../FilterPane.tsx';\nimport SavedFilterTags from '../SavedFilterTags.tsx';\nimport { FilterCondition } from '../FilterRow.tsx';\nimport { applyFilters } from '../../utils/filterLogic.ts';\nimport { useTableSettings } from '../../hooks/useTableSettings.ts';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport { createLocalDate } from '../../utils/dateUtils.ts';\nimport * as worktimeApi from '../../api/worktimeApi.ts';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport TableColumnConfig from '../TableColumnConfig.tsx';\nimport DataCard, { MetadataItem } from '../shared/DataCard.tsx';\nimport CardGrid from '../shared/CardGrid.tsx';\n\ninterface ActiveUsersListProps {\n  activeUsers: any[];\n  allWorktimes: any[];\n  loading: boolean;\n  selectedDate: string;\n  onDateChange: (date: string) => void;\n  onStopWorktime: (userId: number, endTime: string) => Promise<void>;\n  onRefresh: () => void;\n  showTodos?: boolean;\n  showRequests?: boolean;\n}\n\n// Definition der verfgbaren Spalten wird jetzt dynamisch mit useTranslation gemacht\n\n// Standardreihenfolge der Spalten\nconst defaultColumnOrder = ['name', 'startTime', 'duration', 'pauseTime', 'branch', 'actions'];\n\n// Card-Einstellungen Standardwerte\nconst defaultCardMetadata = ['name', 'startTime', 'duration', 'pauseTime', 'branch'];\nconst defaultCardColumnOrder = ['name', 'startTime', 'duration', 'pauseTime', 'branch'];\nconst defaultCardSortDirections: Record<string, 'asc' | 'desc'> = {\n  name: 'asc',\n  startTime: 'asc',\n  duration: 'asc',\n  pauseTime: 'asc',\n  branch: 'asc'\n};\n\n// Mapping zwischen Tabellen-Spalten-IDs und Card-Metadaten-IDs\n// Tabellen-Spalte -> Card-Metadaten (kann Array sein fr 1:N Mapping)\nconst tableToCardMapping: Record<string, string[]> = {\n  'name': ['name'],\n  'startTime': ['startTime'],\n  'duration': ['duration'],\n  'pauseTime': ['pauseTime'],\n  'branch': ['branch'],\n  'actions': [] // Keine Card-Entsprechung\n};\n\n// Reverse Mapping: Card-Metadaten -> Tabellen-Spalten\nconst cardToTableMapping: Record<string, string> = {\n  'name': 'name',\n  'startTime': 'startTime',\n  'duration': 'duration',\n  'pauseTime': 'pauseTime',\n  'branch': 'branch'\n};\n\n// Helfer-Funktion: Tabellen-Spalte ausgeblendet -> Card-Metadaten ausblenden\nconst getHiddenCardMetadata = (hiddenTableColumns: string[]): Set<string> => {\n  const hiddenCardMetadata = new Set<string>();\n  hiddenTableColumns.forEach(tableCol => {\n    const cardMetadata = tableToCardMapping[tableCol] || [];\n    cardMetadata.forEach(cardMeta => hiddenCardMetadata.add(cardMeta));\n  });\n  return hiddenCardMetadata;\n};\n\n// Helfer-Funktion: Card-Metadaten zu Tabellen-Spalten konvertieren\nconst getCardMetadataFromColumnOrder = (columnOrder: string[]): string[] => {\n  const cardMetadata: string[] = [];\n  columnOrder.forEach(tableCol => {\n    const cardMeta = tableToCardMapping[tableCol];\n    if (cardMeta && cardMeta.length > 0) {\n      cardMetadata.push(...cardMeta);\n    }\n  });\n  return cardMetadata;\n};\n\ninterface SortConfig {\n  key: string;\n  direction: 'asc' | 'desc';\n}\n\ninterface WorktimeGroup {\n  user: {\n    id: number;\n    username: string;\n    firstName: string;\n    lastName: string;\n    normalWorkingHours: number;\n    approvedOvertimeHours: number;\n  };\n  branch: {\n    id: number;\n    name: string;\n  };\n  entries: any[];\n  startTime: Date;\n  endTime: Date | null;\n  totalDuration: number;\n  activeEntries: any[];\n  hasActiveWorktime: boolean;\n}\n\n// TableID fr gespeicherte Filter\nconst WORKCENTER_TABLE_ID = 'workcenter-table';\n\nconst ActiveUsersList: React.FC<ActiveUsersListProps> = ({\n  activeUsers,\n  allWorktimes,\n  loading,\n  selectedDate,\n  onDateChange,\n  onStopWorktime,\n  onRefresh,\n  showTodos = false,\n  showRequests = false\n}) => {\n  const { t } = useTranslation();\n  \n  // Definition der verfgbaren Spalten (dynamisch aus bersetzungen)\n  const availableColumns = useMemo(() => [\n    { id: 'name', label: t('teamWorktime.columns.name') },\n    { id: 'startTime', label: t('teamWorktime.columns.startTime') },\n    { id: 'duration', label: t('teamWorktime.columns.duration') },\n    { id: 'pauseTime', label: t('teamWorktime.columns.pauseTime') },\n    { id: 'branch', label: t('teamWorktime.columns.branch') },\n    { id: 'actions', label: t('teamWorktime.columns.actions') }\n  ], [t]);\n  \n  const [showStopModal, setShowStopModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortConfig, setSortConfig] = useState<SortConfig>({ key: 'startTime', direction: 'asc' });\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [draggedColumn, setDraggedColumn] = useState<string | null>(null);\n  const [isColumnConfigOpen, setIsColumnConfigOpen] = useState(false);\n  const [displayLimit, setDisplayLimit] = useState<number>(10);\n  \n  // Neue State-Variablen fr erweiterte Filterbedingungen\n  const [filterConditions, setFilterConditions] = useState<FilterCondition[]>([]);\n  const [filterLogicalOperators, setFilterLogicalOperators] = useState<('AND' | 'OR')[]>([]);\n  \n  // Filter State Management (Controlled Mode)\n  const [activeFilterName, setActiveFilterName] = useState<string>(t('teamWorktime.filters.active'));\n  const [selectedFilterId, setSelectedFilterId] = useState<number | null>(null);\n  \n  // State fr To-Dos und Requests pro User\n  const [userTodos, setUserTodos] = useState<Record<number, any>>({});\n  const [userRequests, setUserRequests] = useState<Record<number, any>>({});\n  const [expandedUsers, setExpandedUsers] = useState<Set<number>>(new Set());\n  const [loadingTodos, setLoadingTodos] = useState<boolean>(false);\n  const [loadingRequests, setLoadingRequests] = useState<boolean>(false);\n  \n  const { hasPermission } = usePermissions();\n\n  // Lade To-Dos fr User (wenn showTodos aktiv)\n  useEffect(() => {\n    const loadUserTodos = async () => {\n      if (!showTodos || !selectedDate) return;\n      \n      try {\n        setLoadingTodos(true);\n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.TODOS_BY_USER, {\n          params: {\n            date: selectedDate\n          }\n        });\n        \n        // Konvertiere Array zu Record mit userId als Key\n        const todosMap: Record<number, any> = {};\n        response.data.forEach((item: any) => {\n          todosMap[item.userId] = item.todos;\n        });\n        setUserTodos(todosMap);\n      } catch (error) {\n        console.error('Fehler beim Laden der To-Dos:', error);\n      } finally {\n        setLoadingTodos(false);\n      }\n    };\n    \n    loadUserTodos();\n  }, [showTodos, selectedDate]);\n\n  // Lade Requests fr User (wenn showRequests aktiv)\n  useEffect(() => {\n    const loadUserRequests = async () => {\n      if (!showRequests || !selectedDate) return;\n      \n      try {\n        setLoadingRequests(true);\n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.REQUESTS_BY_USER, {\n          params: {\n            date: selectedDate\n          }\n        });\n        \n        // Konvertiere Array zu Record mit userId als Key\n        const requestsMap: Record<number, any> = {};\n        response.data.forEach((item: any) => {\n          requestsMap[item.userId] = item.requests;\n        });\n        setUserRequests(requestsMap);\n      } catch (error) {\n        console.error('Fehler beim Laden der Requests:', error);\n      } finally {\n        setLoadingRequests(false);\n      }\n    };\n    \n    loadUserRequests();\n  }, [showRequests, selectedDate]);\n\n  const toggleExpand = (userId: number) => {\n    setExpandedUsers(prev => {\n      const next = new Set(prev);\n      if (next.has(userId)) {\n        next.delete(userId);\n      } else {\n        next.add(userId);\n      }\n      return next;\n    });\n  };\n\n  // Spalten-Konfiguration mit Hook\n  const { \n    settings,\n    updateColumnOrder,\n    updateHiddenColumns,\n    isColumnVisible,\n    updateViewMode\n  } = useTableSettings('team_worktime_active', {\n    defaultColumnOrder: defaultColumnOrder,\n    defaultHiddenColumns: [],\n    defaultViewMode: 'cards'\n  });\n\n  // Benutze die vom Hook zurckgegebenen Werte\n  const columnOrder = settings.columnOrder;\n  const hiddenColumns = settings.hiddenColumns;\n\n  // View-Mode aus Settings laden\n  const viewMode = settings.viewMode || 'cards';\n  \n  // Lokale Sortierrichtungen fr Cards (nicht persistiert)\n  const [cardSortDirections, setCardSortDirections] = useState<Record<string, 'asc' | 'desc'>>(() => {\n    return defaultCardSortDirections;\n  });\n\n  // Abgeleitete Werte fr Card-Ansicht aus Tabellen-Settings\n  // Card-Metadaten-Reihenfolge aus columnOrder ableiten\n  const cardMetadataOrder = useMemo(() => {\n    return getCardMetadataFromColumnOrder(settings.columnOrder || defaultColumnOrder);\n  }, [settings.columnOrder]);\n\n  // Versteckte Card-Metadaten aus hiddenColumns ableiten\n  const hiddenCardMetadata = useMemo(() => {\n    return getHiddenCardMetadata(settings.hiddenColumns || []);\n  }, [settings.hiddenColumns]);\n\n  // Sichtbare Card-Metadaten (alle Card-Metadaten minus versteckte)\n  const visibleCardMetadata = useMemo(() => {\n    return new Set(cardMetadataOrder.filter(meta => !hiddenCardMetadata.has(meta)));\n  }, [cardMetadataOrder, hiddenCardMetadata]);\n\n  // CSS-Klasse fr Container-Box setzen (fr CSS-basierte Schattierungs-Entfernung)\n  useEffect(() => {\n    const wrappers = document.querySelectorAll('.dashboard-workcenter-wrapper');\n    wrappers.forEach(wrapper => {\n      if (viewMode === 'cards') {\n        wrapper.classList.add('cards-mode');\n      } else {\n        wrapper.classList.remove('cards-mode');\n      }\n    });\n  }, [viewMode]);\n\n  // ffne das Modal zum Stoppen der Zeiterfassung\n  const handleOpenStopModal = (user: any) => {\n    setSelectedUser(user);\n    setShowStopModal(true);\n  };\n\n  // Schliee das Modal\n  const handleCloseStopModal = () => {\n    setShowStopModal(false);\n    setSelectedUser(null);\n  };\n\n  // ffne das Modal zur Bearbeitung der Zeiterfassungen\n  const handleOpenEditModal = (user: any) => {\n    setSelectedUser(user);\n    setShowEditModal(true);\n  };\n\n  // Schliee das Modal fr die Bearbeitung\n  const handleCloseEditModal = () => {\n    setShowEditModal(false);\n    setSelectedUser(null);\n  };\n\n  // Stoppe die Zeiterfassung eines Benutzers\n  const handleStopWorktime = async (endTime: string) => {\n    if (!selectedUser) return;\n\n    // Wenn mehrere aktive Zeiterfassungen vorhanden sind, stoppe die neueste\n    const activeEntry = selectedUser.activeEntries.length > 0 \n      ? selectedUser.activeEntries.reduce((latest: any, current: any) => {\n          const latestDate = createLocalDate(latest.startTime);\n          const currentDate = createLocalDate(current.startTime);\n          return currentDate > latestDate ? current : latest;\n        }, selectedUser.activeEntries[0])\n      : null;\n\n    if (activeEntry) {\n      await onStopWorktime(activeEntry.user.id, endTime);\n    } else {\n      await onStopWorktime(selectedUser.user.id, endTime);\n    }\n    \n    handleCloseStopModal();\n  };\n\n  // Sortieren\n  const handleSort = (key: string) => {\n    setSortConfig(prevConfig => ({\n      key,\n      direction: prevConfig.key === key && prevConfig.direction === 'asc' ? 'desc' : 'asc'\n    }));\n  };\n\n  // Drag & Drop fr Spalten\n  const handleDragStart = (columnId: string) => {\n    setDraggedColumn(columnId);\n  };\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent, targetColumnId: string) => {\n    e.preventDefault();\n    if (!draggedColumn || draggedColumn === targetColumnId) return;\n\n    const newOrder = [...columnOrder];\n    const draggedIndex = newOrder.indexOf(draggedColumn);\n    const targetIndex = newOrder.indexOf(targetColumnId);\n    \n    newOrder.splice(draggedIndex, 1);\n    newOrder.splice(targetIndex, 0, draggedColumn);\n    \n    updateColumnOrder(newOrder);\n  }, [draggedColumn, columnOrder, updateColumnOrder]);\n\n  const handleDragEnd = () => {\n    setDraggedColumn(null);\n  };\n\n  // Funktion zum Zhlen aktiver Filter\n  const getActiveFilterCount = () => {\n    return filterConditions.length;\n  };\n\n  // Filtern und sortieren der Benutzer\n  const filteredAndSortedUsers = useMemo(() => {\n    // Kombiniere aktive und abgeschlossene Zeiterfassungen fr das ausgewhlte Datum\n    const allEntries = [...allWorktimes];\n    const activeEntriesForDate = activeUsers.filter(worktime => {\n      const startDate = worktime.startTime.split('T')[0];\n      return startDate === selectedDate;\n    });\n    \n    // Fge aktive Eintrge hinzu, die noch nicht in allWorktimes sind\n    activeEntriesForDate.forEach(activeEntry => {\n      if (!allEntries.find(entry => entry.id === activeEntry.id)) {\n        allEntries.push(activeEntry);\n      }\n    });\n\n    // Gruppiere Eintrge nach Benutzer\n    const userGroups = allEntries.reduce((groups, entry) => {\n      const userId = entry.user.id;\n      if (!groups[userId]) {\n        groups[userId] = {\n          user: entry.user,\n          branch: entry.branch,\n          entries: [],\n          startTime: createLocalDate(entry.startTime),\n          endTime: entry.endTime ? createLocalDate(entry.endTime) : null,\n          totalDuration: 0,\n          activeEntries: [],\n          hasActiveWorktime: false\n        };\n      }\n\n      const group = groups[userId];\n      group.entries.push(entry);\n      \n      // Update startTime if this entry has an earlier start\n      const entryStartTime = createLocalDate(entry.startTime);\n      if (entryStartTime < group.startTime) {\n        group.startTime = entryStartTime;\n      }\n\n      // Update endTime if this entry has a later end\n      if (entry.endTime) {\n        const entryEndTime = createLocalDate(entry.endTime);\n        if (!group.endTime || entryEndTime > group.endTime) {\n          group.endTime = entryEndTime;\n        }\n      } else {\n        group.hasActiveWorktime = true;\n        group.activeEntries.push(entry);\n      }\n\n      // Add duration of this entry\n      if (entry.endTime) {\n        const duration = createLocalDate(entry.endTime).getTime() - createLocalDate(entry.startTime).getTime();\n        group.totalDuration += duration;\n      }\n\n      return groups;\n    }, {});\n\n    // Konvertiere gruppierte Daten zurck in Array\n    let grouped = Object.values(userGroups) as WorktimeGroup[];\n\n    // Globale Suchfunktion\n    let filtered = grouped.filter((group: WorktimeGroup) => {\n      const fullName = `${group.user.firstName} ${group.user.lastName}`.toLowerCase();\n      const username = group.user.username.toLowerCase();\n      const branch = group.branch.name.toLowerCase();\n      const searchTermLower = searchTerm.toLowerCase();\n      \n      // Prfe, ob der Suchbegriff in irgendeinem relevanten Feld vorhanden ist\n      if (searchTerm && !(\n        fullName.includes(searchTermLower) || \n        username.includes(searchTermLower) || \n        branch.includes(searchTermLower)\n      )) {\n        return false;\n      }\n      \n      // Wenn erweiterte Filterbedingungen definiert sind, wende diese an\n      if (filterConditions.length > 0) {\n        // Column-Evaluatoren fr WorktimeGroups\n        const columnEvaluators: any = {\n          'name': (group: WorktimeGroup, cond: FilterCondition) => {\n            const fullName = `${group.user.firstName} ${group.user.lastName}`.toLowerCase();\n            const value = (cond.value as string || '').toLowerCase();\n            if (cond.operator === 'equals') return fullName === value;\n            if (cond.operator === 'contains') return fullName.includes(value);\n            if (cond.operator === 'startsWith') return fullName.startsWith(value);\n            if (cond.operator === 'endsWith') return fullName.endsWith(value);\n            return null;\n          },\n          'branch': (group: WorktimeGroup, cond: FilterCondition) => {\n            const branchName = group.branch.name.toLowerCase();\n            const value = (cond.value as string || '').toLowerCase();\n            if (cond.operator === 'equals') return branchName === value;\n            if (cond.operator === 'contains') return branchName.includes(value);\n            if (cond.operator === 'startsWith') return branchName.startsWith(value);\n            if (cond.operator === 'endsWith') return branchName.endsWith(value);\n            return null;\n          },\n          'hasActiveWorktime': (group: WorktimeGroup, cond: FilterCondition) => {\n            if (cond.operator === 'equals') {\n              const isActive = (cond.value === 'true' || cond.value === true);\n              return group.hasActiveWorktime === isActive;\n            }\n            return null;\n          },\n          'duration': (group: WorktimeGroup, cond: FilterCondition) => {\n            const minDuration = parseInt(cond.value as string || '0') * 60 * 60 * 1000; // Stunden in Millisekunden\n            if (cond.operator === 'greaterThan') return group.totalDuration > minDuration;\n            if (cond.operator === 'lessThan') return group.totalDuration < minDuration;\n            if (cond.operator === 'equals') {\n              const tolerance = 30 * 60 * 1000; // 30 Minuten Toleranz\n              return Math.abs(group.totalDuration - minDuration) <= tolerance;\n            }\n            return null;\n          }\n        };\n\n        const getFieldValue = (group: WorktimeGroup, columnId: string): any => {\n          switch (columnId) {\n            case 'name': return `${group.user.firstName} ${group.user.lastName}`;\n            case 'branch': return group.branch.name;\n            case 'hasActiveWorktime': return group.hasActiveWorktime;\n            case 'duration': return group.totalDuration;\n            case 'startTime': return group.startTime;\n            case 'endTime': return group.endTime;\n            default: return (group as any)[columnId];\n          }\n        };\n\n        filtered = applyFilters(\n          filtered,\n          filterConditions,\n          filterLogicalOperators,\n          getFieldValue,\n          columnEvaluators\n        );\n      }\n      \n      return true;\n    });\n\n    // Sortieren nach Konfiguration\n    if (viewMode === 'cards') {\n      // Multi-Sortierung fr Cards-Mode\n      const sortableColumns = cardMetadataOrder.filter(colId => visibleCardMetadata.has(colId));\n      \n      filtered.sort((a: any, b: any) => {\n        for (const columnId of sortableColumns) {\n          const direction = cardSortDirections[columnId] || 'asc';\n          let valueA: any, valueB: any;\n          \n          switch (columnId) {\n            case 'name':\n              valueA = `${a.user.firstName} ${a.user.lastName}`.toLowerCase();\n              valueB = `${b.user.firstName} ${b.user.lastName}`.toLowerCase();\n              break;\n            case 'startTime':\n              valueA = a.startTime.getTime();\n              valueB = b.startTime.getTime();\n              break;\n            case 'duration':\n              valueA = a.totalDuration;\n              valueB = b.totalDuration;\n              break;\n            case 'pauseTime':\n              const pauseTimeA = a.endTime ? (a.endTime.getTime() - a.startTime.getTime()) - a.totalDuration : 0;\n              const pauseTimeB = b.endTime ? (b.endTime.getTime() - b.startTime.getTime()) - b.totalDuration : 0;\n              valueA = pauseTimeA;\n              valueB = pauseTimeB;\n              break;\n            case 'branch':\n              valueA = a.branch.name.toLowerCase();\n              valueB = b.branch.name.toLowerCase();\n              break;\n            default:\n              continue; // berspringe unbekannte Spalten\n          }\n          \n          // Vergleich basierend auf Typ\n          let comparison = 0;\n          if (typeof valueA === 'number' && typeof valueB === 'number') {\n            comparison = valueA - valueB;\n          } else {\n            comparison = String(valueA).localeCompare(String(valueB));\n          }\n          \n          // Sortierrichtung anwenden\n          if (direction === 'desc') {\n            comparison = -comparison;\n          }\n          \n          // Wenn unterschiedlich, gebe Vergleich zurck\n          if (comparison !== 0) {\n            return comparison;\n          }\n        }\n        return 0; // Alle Spalten identisch\n      });\n    } else {\n      // Tabellen-Mode: Einzel-Sortierung wie bisher\n    if (sortConfig.key) {\n      filtered.sort((a: any, b: any) => {\n        let valueA, valueB;\n        \n        if (sortConfig.key === 'name') {\n          valueA = `${a.user.firstName} ${a.user.lastName}`;\n          valueB = `${b.user.firstName} ${b.user.lastName}`;\n        } else if (sortConfig.key === 'startTime') {\n          valueA = a.startTime.getTime();\n          valueB = b.startTime.getTime();\n        } else if (sortConfig.key === 'duration') {\n          valueA = a.totalDuration;\n          valueB = b.totalDuration;\n        } else if (sortConfig.key === 'branch') {\n          valueA = a.branch.name;\n          valueB = b.branch.name;\n        } else {\n          valueA = a[sortConfig.key];\n          valueB = b[sortConfig.key];\n        }\n        \n        if (valueA < valueB) {\n          return sortConfig.direction === 'asc' ? -1 : 1;\n        }\n        if (valueA > valueB) {\n          return sortConfig.direction === 'asc' ? 1 : -1;\n        }\n        return 0;\n      });\n      }\n    }\n    \n    return filtered;\n  }, [allWorktimes, activeUsers, searchTerm, sortConfig, selectedDate, filterConditions, filterLogicalOperators, viewMode, cardMetadataOrder, visibleCardMetadata, cardSortDirections]);\n\n  // Render-Methode fr Spaltenheader\n  const renderSortableHeader = (columnId: string, label: string) => {\n    // berprfen, ob diese Spalte gerade sortiert wird\n    const isSorted = sortConfig?.key === columnId;\n    \n    return (\n      <th\n        key={columnId}\n        scope=\"col\"\n        className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer group relative\"\n        onClick={() => handleSort(columnId)}\n        draggable\n        onDragStart={() => handleDragStart(columnId)}\n        onDragOver={handleDragOver}\n        onDrop={(e) => handleDrop(e, columnId)}\n        onDragEnd={handleDragEnd}\n      >\n        <div className={`flex items-center ${draggedColumn === columnId ? 'opacity-50' : ''}`}>\n          <ArrowsUpDownIcon className=\"h-3 w-3 mr-1 text-gray-400 dark:text-gray-500\" />\n          {label} {isSorted && (\n            sortConfig.direction === 'asc' ? '' : ''\n          )}\n        </div>\n      </th>\n    );\n  };\n\n  // Handler fr die TableColumnConfig-Komponente\n  const handleToggleColumnVisibility = (columnId: string) => {\n    if (viewMode === 'cards') {\n      // Fr Cards: Mapping zurck zu Tabellen-Spalten\n      const tableColumn = cardToTableMapping[columnId];\n      if (tableColumn) {\n        const newHiddenColumns = hiddenColumns.includes(tableColumn)\n          ? hiddenColumns.filter(id => id !== tableColumn)\n          : [...hiddenColumns, tableColumn];\n        updateHiddenColumns(newHiddenColumns);\n      }\n    } else {\n    const newHiddenColumns = hiddenColumns.includes(columnId)\n      ? hiddenColumns.filter(id => id !== columnId)\n      : [...hiddenColumns, columnId];\n    updateHiddenColumns(newHiddenColumns);\n    }\n  };\n\n  const handleMoveColumn = (dragIndex: number, hoverIndex: number) => {\n    if (viewMode === 'cards') {\n      // Fr Cards: Card-Metadaten-Reihenfolge ndern\n      const newCardOrder = [...cardMetadataOrder];\n      const dragged = newCardOrder[dragIndex];\n      newCardOrder.splice(dragIndex, 1);\n      newCardOrder.splice(hoverIndex, 0, dragged);\n      \n      // Konvertiere zurck zu Tabellen-Spalten-Reihenfolge\n      const newTableOrder: string[] = [];\n      const usedTableColumns = new Set<string>();\n      \n      newCardOrder.forEach(cardMeta => {\n        const tableCol = cardToTableMapping[cardMeta];\n        if (tableCol && !usedTableColumns.has(tableCol)) {\n          usedTableColumns.add(tableCol);\n          newTableOrder.push(tableCol);\n        }\n      });\n      \n      // Fge fehlende Tabellen-Spalten hinzu\n      availableColumns.forEach(col => {\n        if (!newTableOrder.includes(col.id) && col.id !== 'actions') {\n          newTableOrder.push(col.id);\n        }\n      });\n      \n      updateColumnOrder(newTableOrder);\n    } else {\n    const newColumnOrder = [...columnOrder];\n    const draggedItem = newColumnOrder[dragIndex];\n    newColumnOrder.splice(dragIndex, 1);\n    newColumnOrder.splice(hoverIndex, 0, draggedItem);\n    updateColumnOrder(newColumnOrder);\n    }\n  };\n\n  // Speichere die bearbeiteten Zeiterfassungen\n  const handleSaveWorktimeEdits = async (editedEntries: any[]) => {\n    try {\n      // Verwende die API-Funktion fr das Batch-Update\n      await worktimeApi.updateWorktimeEntries(editedEntries);\n      \n      // Aktualisiere die Daten\n      onRefresh();\n      \n      // Zeige Erfolgsmeldung\n      alert(t('teamWorktime.messages.saveSuccess'));\n      \n      // Schliee das Modal\n      handleCloseEditModal();\n    } catch (error: any) {\n      console.error('Fehler beim Aktualisieren der Zeiterfassungen:', error);\n      \n      // Zeige eine benutzerfreundliche Fehlermeldung\n      let errorMessage = t('teamWorktime.messages.unknownError');\n      \n      if (error.response) {\n        // Server antwortet mit Fehlerstatus\n        if (error.response.status === 401) {\n          errorMessage = t('teamWorktime.messages.unauthorized');\n        } else if (error.response.status === 403) {\n          errorMessage = t('teamWorktime.messages.forbidden');\n        } else if (error.response.status === 404) {\n          errorMessage = t('teamWorktime.messages.notFound');\n        } else if (error.response.status === 500) {\n          errorMessage = t('teamWorktime.messages.serverError');\n        } else if (error.response.data && error.response.data.message) {\n          errorMessage = error.response.data.message;\n        }\n      } else if (error.request) {\n        // Keine Antwort vom Server\n        errorMessage = t('teamWorktime.messages.noResponse');\n      } else {\n        // Fehler bei der Anfrage\n        errorMessage = error.message || t('teamWorktime.messages.error');\n      }\n      \n      alert(t('teamWorktime.messages.saveError') + ' ' + errorMessage);\n    }\n  };\n\n  // Standard-Filter erstellen und speichern\n  React.useEffect(() => {\n    const createStandardFilters = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          console.error('Nicht authentifiziert');\n          return;\n        }\n\n        // Prfen, ob die Standard-Filter bereits existieren\n        const existingFiltersResponse = await axiosInstance.get(\n          `${API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(WORKCENTER_TABLE_ID)}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }\n        );\n\n        const existingFilters = existingFiltersResponse.data || [];\n        // Prfe auf Filter mit verschiedenen mglichen Namen (Deutsch, Spanisch, Englisch)\n        const aktiveFilterExists = existingFilters.some(filter => \n          filter.name === 'Aktive' || filter.name === t('teamWorktime.filters.active') || filter.name === 'Active' || filter.name === 'Activo'\n        );\n        const alleFilterExists = existingFilters.some(filter => \n          filter.name === 'Alle' || filter.name === t('teamWorktime.filters.all') || filter.name === 'All' || filter.name === 'Todos'\n        );\n\n        // Erstelle \"Aktive\"-Filter, wenn er noch nicht existiert\n        if (!aktiveFilterExists) {\n          const aktiveFilter = {\n            tableId: WORKCENTER_TABLE_ID,\n            name: t('teamWorktime.filters.active'),\n            conditions: [\n              { column: 'hasActiveWorktime', operator: 'equals', value: 'true' }\n            ],\n            operators: []\n          };\n\n          await axiosInstance.post(\n            `${API_ENDPOINTS.SAVED_FILTERS.BASE}`,\n            aktiveFilter,\n            {\n              headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              }\n            }\n          );\n          console.log('Aktive-Filter fr Workcenter erstellt');\n        }\n\n        // Erstelle \"Alle\"-Filter, wenn er noch nicht existiert\n        if (!alleFilterExists) {\n          const alleFilter = {\n            tableId: WORKCENTER_TABLE_ID,\n            name: t('teamWorktime.filters.all'),\n            conditions: [],\n            operators: []\n          };\n\n          await axiosInstance.post(\n            `${API_ENDPOINTS.SAVED_FILTERS.BASE}`,\n            alleFilter,\n            {\n              headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              }\n            }\n          );\n          console.log('Alle-Filter fr Workcenter erstellt');\n        }\n      } catch (error) {\n        console.error('Fehler beim Erstellen der Standard-Filter:', error);\n      }\n    };\n\n    createStandardFilters();\n  }, [t]);\n\n  // Initialer Default-Filter setzen (Controlled Mode)\n  React.useEffect(() => {\n    const setInitialFilter = async () => {\n      try {\n        const response = await axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(WORKCENTER_TABLE_ID));\n        const filters = response.data;\n        \n        // Suche nach Filter mit aktuellem Namen oder alten Namen (fr Migration)\n        const aktiveFilter = filters.find((filter: any) => \n          filter.name === t('teamWorktime.filters.active') || \n          filter.name === 'Aktive' || \n          filter.name === 'Active' || \n          filter.name === 'Activo'\n        );\n        if (aktiveFilter) {\n          setActiveFilterName(t('teamWorktime.filters.active'));\n          setSelectedFilterId(aktiveFilter.id);\n          applyFilterConditions(aktiveFilter.conditions, aktiveFilter.operators);\n        }\n      } catch (error) {\n        console.error('Fehler beim Setzen des initialen Filters:', error);\n      }\n    };\n\n    setInitialFilter();\n  }, [t]);\n\n  // Funktion zum Anwenden von Filterbedingungen\n  const applyFilterConditions = (conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setFilterConditions(conditions);\n    setFilterLogicalOperators(operators);\n  };\n  \n  // Funktion zum Zurcksetzen der Filter\n  const resetFilterConditions = () => {\n    setFilterConditions([]);\n    setFilterLogicalOperators([]);\n    setActiveFilterName('');\n    setSelectedFilterId(null);\n  };\n  \n  // Filter Change Handler (Controlled Mode)\n  const handleFilterChange = (name: string, id: number | null, conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setActiveFilterName(name);\n    setSelectedFilterId(id);\n    applyFilterConditions(conditions, operators);\n  };\n\n  // Datum zu vorherigem Tag ndern\n  const handlePreviousDay = () => {\n    const [year, month, day] = selectedDate.split('-').map(Number);\n    const selected = new Date(year, month - 1, day);\n    const previousDate = subDays(selected, 1);\n    onDateChange(format(previousDate, 'yyyy-MM-dd'));\n  };\n\n  // Datum zu nchstem Tag ndern\n  const handleNextDay = () => {\n    const [year, month, day] = selectedDate.split('-').map(Number);\n    const selected = new Date(year, month - 1, day);\n    const nextDate = addDays(selected, 1);\n    onDateChange(format(nextDate, 'yyyy-MM-dd'));\n  };\n\n  // Prfen ob selectedDate kleiner als heute ist (dynamisch bei nderung)\n  const isDateBeforeToday = useMemo(() => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    const [year, month, day] = selectedDate.split('-').map(Number);\n    const selected = new Date(year, month - 1, day);\n    selected.setHours(0, 0, 0, 0);\n    \n    return selected.getTime() < today.getTime();\n  }, [selectedDate]);\n\n  return (\n    <div>\n      {/* Header mit Datumsauswahl, Suche und Buttons */}\n      <div className=\"flex items-center justify-between mb-4 px-3 sm:px-4 md:px-6\">\n        {/* Datumsauswahl mit Pfeilen - linksbndig */}\n        <div className=\"flex items-center gap-0.5\">\n          {/* Links-Pfeil (zurck) */}\n          <div className=\"relative group\">\n            <button\n              type=\"button\"\n              onClick={handlePreviousDay}\n              className=\"p-1 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n              {t('common.previousDay')}\n            </div>\n          </div>\n\n          {/* Datumsfeld */}\n          <div className=\"relative w-[180px]\">\n            <input\n              type=\"date\"\n              id=\"date-select\"\n              className=\"block w-full pl-3 pr-8 py-2 text-base border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              value={selectedDate}\n              onChange={(e) => onDateChange(e.target.value)}\n            />\n          </div>\n\n          {/* Rechts-Pfeil (vorwrts) - nur wenn Datum < heute */}\n          {isDateBeforeToday && (\n            <div className=\"relative group\">\n              <button\n                type=\"button\"\n                onClick={handleNextDay}\n                className=\"p-1 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </button>\n              <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                {t('common.nextDay')}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Suche und Buttons - rechtsbndig */}\n        <div className=\"flex items-center\">\n          <input\n            type=\"text\"\n            className=\"w-[200px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n            placeholder={t('common.searchPlaceholder')}\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          \n          {/* View-Mode Toggle */}\n          <div className=\"relative group ml-1\">\n            <button\n              type=\"button\"\n              className={`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${\n                viewMode === 'cards' ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : ''\n              }`}\n              onClick={() => updateViewMode(viewMode === 'table' ? 'cards' : 'table')}\n            >\n              {viewMode === 'table' ? (\n                <Squares2X2Icon className=\"h-5 w-5\" />\n              ) : (\n                <TableCellsIcon className=\"h-5 w-5\" />\n              )}\n            </button>\n            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n              {viewMode === 'table' ? t('common.viewAsCards') : t('common.viewAsTable')}\n            </div>\n          </div>\n          \n          {/* Filter-Button */}\n          <div className=\"relative group ml-1\">\n            <button\n              type=\"button\"\n              className={`p-2 rounded-md ${getActiveFilterCount() > 0 ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : 'hover:bg-gray-100 dark:hover:bg-gray-700'} relative`}\n              onClick={() => setIsFilterOpen(!isFilterOpen)}\n            >\n              <FunnelIcon className=\"h-5 w-5\" />\n              {getActiveFilterCount() > 0 && (\n                <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 dark:bg-blue-500 text-white rounded-full text-xs flex items-center justify-center z-10\" style={{ position: 'absolute', top: '-0.25rem', right: '-0.25rem' }}>\n                  {getActiveFilterCount()}\n                </span>\n              )}\n            </button>\n            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n              {t('common.showFilter')}\n            </div>\n          </div>\n          \n          {/* Spalten-Konfiguration */}\n          <div className=\"ml-1\">\n            <TableColumnConfig\n              columns={viewMode === 'cards'\n                ? [\n                    { id: 'name', label: t('teamWorktime.columns.name') },\n                    { id: 'startTime', label: t('teamWorktime.columns.startTime') },\n                    { id: 'duration', label: t('teamWorktime.columns.duration') },\n                    { id: 'pauseTime', label: t('teamWorktime.columns.pauseTime') },\n                    { id: 'branch', label: t('teamWorktime.columns.branch') }\n                  ]\n                : availableColumns}\n              visibleColumns={viewMode === 'cards'\n                ? Array.from(visibleCardMetadata)\n                : columnOrder.filter(id => !hiddenColumns.includes(id))}\n              columnOrder={viewMode === 'cards'\n                ? cardMetadataOrder\n                : columnOrder}\n              onToggleColumnVisibility={handleToggleColumnVisibility}\n              onMoveColumn={handleMoveColumn}\n              sortDirections={viewMode === 'cards' ? cardSortDirections : undefined}\n              onSortDirectionChange={viewMode === 'cards'\n                ? (columnId: string, direction: 'asc' | 'desc') => {\n                    setCardSortDirections(prev => ({\n                      ...prev,\n                      [columnId]: direction\n                    }));\n                  }\n                : undefined}\n              showSortDirection={viewMode === 'cards'}\n              buttonTitle={viewMode === 'cards' ? t('teamWorktime.sortAndDisplay') : t('teamWorktime.configureColumns')}\n              modalTitle={viewMode === 'cards' ? t('teamWorktime.sortAndDisplay') : t('teamWorktime.configureColumns')}\n              onClose={() => {}}\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/* Filter-Panel */}\n      {isFilterOpen && (\n        <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n          <FilterPane\n          columns={[\n            { id: 'name', label: t('teamWorktime.columns.name') },\n            { id: 'branch', label: t('teamWorktime.columns.branch') },\n            { id: 'hasActiveWorktime', label: t('worktime.active') },\n            { id: 'duration', label: t('teamWorktime.columns.duration') }\n          ]}\n          onApply={applyFilterConditions}\n          onReset={resetFilterConditions}\n          savedConditions={filterConditions}\n          savedOperators={filterLogicalOperators}\n          tableId={WORKCENTER_TABLE_ID}\n        />\n        </div>\n      )}\n      \n      {/* Gespeicherte Filter als Tags anzeigen */}\n      <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n        <SavedFilterTags\n        tableId={WORKCENTER_TABLE_ID}\n        onSelectFilter={applyFilterConditions}\n        onReset={resetFilterConditions}\n        activeFilterName={activeFilterName}\n        selectedFilterId={selectedFilterId}\n        onFilterChange={handleFilterChange}\n          defaultFilterName={t('teamWorktime.filters.active')}\n      />\n      </div>\n      \n      {/* Tabelle oder Cards */}\n      {viewMode === 'table' ? (\n        /* Tabellen-Ansicht */\n        <div className=\"dashboard-workcenter-wrapper border-0 rounded-lg overflow-hidden -mx-3 sm:-mx-4 md:-mx-6\">\n        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n          <thead className=\"bg-gray-50 dark:bg-gray-700\">\n            <tr>\n              {columnOrder\n                .filter(columnId => !hiddenColumns.includes(columnId))\n                .map(columnId => {\n                  const column = availableColumns.find(col => col.id === columnId);\n                  if (!column) return null;\n                  \n                  if (columnId === 'actions') {\n                    return (\n                      <th\n                        key={columnId}\n                        scope=\"col\"\n                        className=\"px-3 sm:px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\"\n                        draggable\n                        onDragStart={() => handleDragStart(columnId)}\n                        onDragOver={handleDragOver}\n                        onDrop={(e) => handleDrop(e, columnId)}\n                        onDragEnd={handleDragEnd}\n                      >\n                        {column.label}\n                      </th>\n                    );\n                  }\n                  \n                  return renderSortableHeader(columnId, column.label);\n                })\n              }\n            </tr>\n          </thead>\n          <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n            {filteredAndSortedUsers.length === 0 ? (\n              <tr>\n                <td colSpan={columnOrder.filter(id => !hiddenColumns.includes(id)).length} className=\"px-3 sm:px-4 md:px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400\">\n                  Keine Zeiterfassungen gefunden\n                </td>\n              </tr>\n            ) : (\n              filteredAndSortedUsers.slice(0, displayLimit).map((group) => {\n                const totalPauseTime = group.endTime \n                  ? (group.endTime.getTime() - group.startTime.getTime()) - group.totalDuration\n                  : 0;\n\n                const userTodosData = userTodos[group.user.id] || null;\n                const userRequestsData = userRequests[group.user.id] || null;\n                const isExpanded = expandedUsers.has(group.user.id);\n                const hasActivities = (showTodos && userTodosData && userTodosData.total > 0) || \n                                    (showRequests && userRequestsData && userRequestsData.total > 0);\n\n                return (\n                  <React.Fragment key={group.user.id}>\n                    <tr>\n                      {columnOrder\n                        .filter(columnId => !hiddenColumns.includes(columnId))\n                        .map(columnId => {\n                          if (columnId === 'name') {\n                            return (\n                              <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex items-center\">\n                                  <div>\n                                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                                      {group.user.firstName} {group.user.lastName}\n                                    </div>\n                                    <div className=\"text-sm text-gray-500 dark:text-gray-400\">{group.user.username}</div>\n                                  </div>\n                                </div>\n                              </td>\n                            );\n                          }\n                        \n                        if (columnId === 'startTime') {\n                          return (\n                            <td key={columnId} className=\"px-6 py-4 whitespace-nowrap\">\n                              <div className=\"text-sm text-gray-900 dark:text-white\">\n                                {format(group.startTime, 'dd.MM.yyyy')}\n                              </div>\n                              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                {format(group.startTime, 'HH:mm:ss')}\n                              </div>\n                            </td>\n                          );\n                        }\n                        \n                        if (columnId === 'duration') {\n                          return (\n                            <td key={columnId} className=\"px-6 py-4 whitespace-nowrap\">\n                              <div className=\"text-sm text-gray-900 dark:text-white\">\n                                {formatDistanceToNow(new Date(Date.now() - group.totalDuration), { locale: de, addSuffix: false })}\n                              </div>\n                            </td>\n                          );\n                        }\n\n                        if (columnId === 'pauseTime') {\n                          return (\n                            <td key={columnId} className=\"px-6 py-4 whitespace-nowrap\">\n                              <div className=\"text-sm text-gray-900 dark:text-white\">\n                                {totalPauseTime > 0 \n                                  ? formatDistanceToNow(new Date(Date.now() - totalPauseTime), { locale: de, addSuffix: false })\n                                  : '-'}\n                              </div>\n                            </td>\n                          );\n                        }\n                        \n                        if (columnId === 'branch') {\n                          return (\n                            <td key={columnId} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {group.branch.name}\n                            </td>\n                          );\n                        }\n                        \n                        if (columnId === 'actions') {\n                          return (\n                            <td key={columnId} className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                              <div className=\"flex flex-row space-x-2 justify-end items-center\">\n                                {group.hasActiveWorktime && (\n                                  <div className=\"relative group\">\n                                    <button\n                                      onClick={() => handleOpenStopModal(group)}\n                                      className=\"p-1 bg-red-600 text-white rounded hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600\"\n                                    >\n                                      <StopIcon className=\"h-5 w-5 text-white fill-white\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                      {t('teamWorktime.actions.stopTracking')}\n                                    </div>\n                                  </div>\n                                )}\n                                {hasPermission('team_worktime_control', 'both', 'page') && hasPermission('team_worktime', 'both', 'table') && (\n                                  <div className=\"relative group\">\n                                    <button\n                                      onClick={() => handleOpenEditModal(group)}\n                                      className=\"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 edit-button\"\n                                    >\n                                      <PencilIcon className=\"h-5 w-5\" />\n                                    </button>\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                      {t('teamWorktime.actions.editWorktimes')}\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </td>\n                          );\n                        }\n                        \n                        return null;\n                      })}\n                    </tr>\n                    {/* To-Dos und Requests fr User */}\n                    {(showTodos || showRequests) && hasActivities && (\n                      <tr className=\"bg-gray-50 dark:bg-gray-800/50\">\n                        <td colSpan={columnOrder.filter(id => !hiddenColumns.includes(id)).length} className=\"px-3 sm:px-4 md:px-6 py-3\">\n                          <div className=\"ml-4 border-l-2 border-blue-200 dark:border-blue-700 pl-4\">\n                            {/* To-Dos */}\n                            {showTodos && userTodosData && userTodosData.total > 0 && (\n                              <div className=\"mb-3\">\n                                <div className=\"flex items-center justify-between mb-2\">\n                                  <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                                    To-Dos ({selectedDate}): {userTodosData.completed} erledigt | {userTodosData.open} offen | {userTodosData.inProgress} in Bearbeitung\n                                  </h4>\n                                  <button\n                                    onClick={() => toggleExpand(group.user.id)}\n                                    className=\"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300\"\n                                  >\n                                    {isExpanded ? 'Weniger anzeigen ' : 'Details anzeigen '}\n                                  </button>\n                                </div>\n                                {isExpanded && userTodosData.details && userTodosData.details.length > 0 && (\n                                  <div className=\"mt-2 space-y-1\">\n                                    {userTodosData.details.map((todo: any) => (\n                                      <div key={todo.id} className=\"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-2\">\n                                        <span className={todo.status === 'done' ? 'text-green-600 dark:text-green-400' : 'text-gray-400'}>\n                                          {todo.status === 'done' ? '' : ''}\n                                        </span>\n                                        <span className=\"font-medium\">{todo.title}</span>\n                                        <span className=\"text-gray-400\">({todo.status})</span>\n                                        <span className=\"text-gray-400\">\n                                          - {format(new Date(todo.updatedAt), 'HH:mm')}\n                                        </span>\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n                              </div>\n                            )}\n                            {/* Requests */}\n                            {showRequests && userRequestsData && userRequestsData.total > 0 && (\n                              <div>\n                                <div className=\"flex items-center justify-between mb-2\">\n                                  <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                                    Requests ({selectedDate}): {userRequestsData.approved} genehmigt | {userRequestsData.pending} offen\n                                  </h4>\n                                  {!showTodos && (\n                                    <button\n                                      onClick={() => toggleExpand(group.user.id)}\n                                      className=\"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300\"\n                                    >\n                                      {isExpanded ? 'Weniger anzeigen ' : 'Details anzeigen '}\n                                    </button>\n                                  )}\n                                </div>\n                                {isExpanded && userRequestsData.details && userRequestsData.details.length > 0 && (\n                                  <div className=\"mt-2 space-y-1\">\n                                    {userRequestsData.details.map((request: any) => (\n                                      <div key={request.id} className=\"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-2\">\n                                        <span className={request.status === 'approved' ? 'text-green-600 dark:text-green-400' : 'text-gray-400'}>\n                                          {request.status === 'approved' ? '' : ''}\n                                        </span>\n                                        <span className=\"font-medium\">{request.title}</span>\n                                        <span className=\"text-gray-400\">({request.status})</span>\n                                        <span className=\"text-gray-400\">\n                                          - {format(new Date(request.createdAt), 'HH:mm')}\n                                        </span>\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    )}\n                  </React.Fragment>\n                );\n              })\n            )}\n          </tbody>\n        </table>\n      </div>\n      ) : (\n        /* Card-Ansicht */\n        <div className=\"dashboard-workcenter-wrapper -mx-3 sm:-mx-4 md:-mx-6\">\n          {filteredAndSortedUsers.length === 0 ? (\n            <div className=\"text-center py-8 text-sm text-gray-500 dark:text-gray-400\">\n              Keine Zeiterfassungen gefunden\n            </div>\n          ) : (\n            <CardGrid gap=\"md\">\n              {filteredAndSortedUsers.slice(0, displayLimit).map((group) => {\n                const totalPauseTime = group.endTime \n                  ? (group.endTime.getTime() - group.startTime.getTime()) - group.totalDuration\n                  : 0;\n\n                const userTodosData = userTodos[group.user.id] || null;\n                const userRequestsData = userRequests[group.user.id] || null;\n                const isExpanded = expandedUsers.has(group.user.id);\n                const hasActivities = (showTodos && userTodosData && userTodosData.total > 0) || \n                                    (showRequests && userRequestsData && userRequestsData.total > 0);\n\n                // Metadaten fr Card aufbauen - Hauptinfos strukturiert\n                const metadata: MetadataItem[] = [];\n                const firstRowMetadata: MetadataItem[] = [];\n                const secondRowMetadata: MetadataItem[] = [];\n\n                // Erste Zeile: Name, Startzeit (nebeneinander)\n                if (visibleCardMetadata.has('name')) {\n                  firstRowMetadata.push({\n                    label: 'Name',\n                    value: `${group.user.firstName} ${group.user.lastName} (${group.user.username})`,\n                    icon: <UserIcon className=\"h-4 w-4\" />\n                  });\n                }\n\n                if (visibleCardMetadata.has('startTime')) {\n                  firstRowMetadata.push({\n                    label: 'Startzeit',\n                    value: `${format(group.startTime, 'dd.MM.yyyy')} ${format(group.startTime, 'HH:mm:ss')}`,\n                    icon: <ClockIcon className=\"h-4 w-4\" />\n                  });\n                }\n\n                // Zweite Zeile: Arbeitszeit, Pausen (vertikal untereinander, linksbndig)\n                if (visibleCardMetadata.has('duration')) {\n                  secondRowMetadata.push({\n                    label: 'Arbeitszeit',\n                    value: formatDistanceToNow(new Date(Date.now() - group.totalDuration), { locale: de, addSuffix: false }),\n                    icon: <ClockIcon className=\"h-4 w-4\" />\n                  });\n                }\n\n                if (visibleCardMetadata.has('pauseTime')) {\n                  secondRowMetadata.push({\n                    label: 'Pausen',\n                    value: totalPauseTime > 0 \n                      ? formatDistanceToNow(new Date(Date.now() - totalPauseTime), { locale: de, addSuffix: false })\n                      : '-',\n                    icon: <ClockIcon className=\"h-4 w-4\" />\n                  });\n                }\n\n                // Niederlassung (falls angezeigt)\n                if (visibleCardMetadata.has('branch')) {\n                  metadata.push({\n                    label: 'Niederlassung',\n                    value: group.branch.name,\n                    icon: <BuildingOfficeIcon className=\"h-4 w-4\" />\n                  });\n                }\n\n                // Action-Buttons\n                const actions = (\n                  <div className=\"flex flex-row space-x-2 justify-end items-center\">\n                    {group.hasActiveWorktime && (\n                      <div className=\"relative group\">\n                        <button\n                          onClick={() => handleOpenStopModal(group)}\n                          className=\"p-1 bg-red-600 text-white rounded hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600\"\n                        >\n                          <StopIcon className=\"h-5 w-5 text-white fill-white\" />\n                        </button>\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                          {t('teamWorktime.actions.stopTracking')}\n                        </div>\n                      </div>\n                    )}\n                    {hasPermission('team_worktime_control', 'both', 'page') && hasPermission('team_worktime', 'both', 'table') && (\n                      <div className=\"relative group\">\n                        <button\n                          onClick={() => handleOpenEditModal(group)}\n                          className=\"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300\"\n                        >\n                          <PencilIcon className=\"h-5 w-5\" />\n                        </button>\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                          {t('teamWorktime.actions.editWorktimes')}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                );\n\n                // Expandable Content fr To-Dos und Requests\n                const expandableContent = hasActivities ? (\n                  <div>\n                    {/* To-Dos */}\n                    {showTodos && userTodosData && userTodosData.total > 0 && (\n                      <div className=\"mb-3\">\n                        <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          To-Dos ({selectedDate}): {userTodosData.completed} erledigt | {userTodosData.open} offen | {userTodosData.inProgress} in Bearbeitung\n                        </h4>\n                        {userTodosData.details && userTodosData.details.length > 0 && (\n                          <div className=\"mt-2 space-y-1\">\n                            {userTodosData.details.map((todo: any) => (\n                              <div key={todo.id} className=\"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-2\">\n                                <span className={todo.status === 'done' ? 'text-green-600 dark:text-green-400' : 'text-gray-400'}>\n                                  {todo.status === 'done' ? '' : ''}\n                                </span>\n                                <span className=\"font-medium\">{todo.title}</span>\n                                <span className=\"text-gray-400\">({todo.status})</span>\n                                <span className=\"text-gray-400\">\n                                  - {format(new Date(todo.updatedAt), 'HH:mm')}\n                                </span>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    )}\n                    {/* Requests */}\n                    {showRequests && userRequestsData && userRequestsData.total > 0 && (\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Requests ({selectedDate}): {userRequestsData.approved} genehmigt | {userRequestsData.pending} offen\n                        </h4>\n                        {userRequestsData.details && userRequestsData.details.length > 0 && (\n                          <div className=\"mt-2 space-y-1\">\n                            {userRequestsData.details.map((request: any) => (\n                              <div key={request.id} className=\"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-2\">\n                                <span className={request.status === 'approved' ? 'text-green-600 dark:text-green-400' : 'text-gray-400'}>\n                                  {request.status === 'approved' ? '' : ''}\n                                </span>\n                                <span className=\"font-medium\">{request.title}</span>\n                                <span className=\"text-gray-400\">({request.status})</span>\n                                <span className=\"text-gray-400\">\n                                  - {format(new Date(request.createdAt), 'HH:mm')}\n                                </span>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ) : null;\n\n                return (\n                  <DataCard\n                    key={group.user.id}\n                    title={`${group.user.firstName} ${group.user.lastName}`}\n                    metadata={metadata}\n                    actions={actions}\n                    expandable={expandableContent ? {\n                      isExpanded: isExpanded,\n                      content: expandableContent,\n                      onToggle: () => toggleExpand(group.user.id)\n                    } : undefined}\n                  >\n                    {/* Hauptinfos: Erste Zeile (Name, Startzeit) nebeneinander */}\n                    {firstRowMetadata.length > 0 && (\n                      <div className=\"flex flex-wrap items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\n                        {firstRowMetadata.map((item, index) => (\n                          <div\n                            key={index}\n                            className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                          >\n                            {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                            <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label}:</span>\n                            <span className={item.className || 'text-gray-900 dark:text-white'}>\n                              {typeof item.value === 'string' ? item.value : item.value}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                    {/* Zweite Zeile: Arbeitszeit, Pausen (vertikal untereinander, linksbndig) */}\n                    {secondRowMetadata.length > 0 && (\n                      <div className=\"flex flex-col gap-2 mb-3 sm:mb-4\">\n                        {secondRowMetadata.map((item, index) => (\n                          <div\n                            key={index}\n                            className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                          >\n                            {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                            <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label}:</span>\n                            <span className={item.className || 'text-gray-900 dark:text-white'}>\n                              {typeof item.value === 'string' ? item.value : item.value}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </DataCard>\n                );\n              })}\n            </CardGrid>\n          )}\n        </div>\n      )}\n\n      {/* \"Mehr anzeigen\" Button */}\n      {filteredAndSortedUsers.length > displayLimit && (\n        <div className=\"mt-4 flex justify-center\">\n          <button\n            className=\"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-700 border border-blue-300 dark:border-blue-600 rounded-md hover:bg-blue-50 dark:hover:bg-gray-600\"\n            onClick={() => setDisplayLimit(prevLimit => prevLimit + 10)}\n          >\n            Mehr anzeigen ({filteredAndSortedUsers.length - displayLimit} verbleibend)\n          </button>\n        </div>\n      )}\n\n      {/* Modal zum Stoppen der Zeiterfassung */}\n      {showStopModal && selectedUser && (\n        <StopWorktimeModal\n          isOpen={showStopModal}\n          onClose={handleCloseStopModal}\n          onConfirm={handleStopWorktime}\n          userName={`${selectedUser.user.firstName} ${selectedUser.user.lastName}`}\n        />\n      )}\n\n      {/* Modal zum Bearbeiten der Zeiterfassungen */}\n      {showEditModal && selectedUser && (\n        <EditWorktimeModal\n          isOpen={showEditModal}\n          onClose={handleCloseEditModal}\n          onSave={handleSaveWorktimeEdits}\n          userName={`${selectedUser.user.firstName} ${selectedUser.user.lastName}`}\n          entries={selectedUser.entries}\n          selectedDate={selectedDate}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ActiveUsersList; ","import axiosInstance from '../config/axios.ts';\n\n/**\n * API-Funktionen fr die Zeiterfassung\n */\n\ninterface WorktimeEntry {\n  id: number;\n  startTime: string;\n  endTime: string | null;\n  userId: number;\n  branch: {\n    id: number;\n    name: string;\n  };\n  isDeleted?: boolean;\n}\n\n/**\n * Startet eine neue Zeiterfassung\n * @param userId Benutzer-ID\n * @param startTime Startzeit (ISO-String)\n * @param comment Optionaler Kommentar\n * @returns Die erstellte Zeiterfassung\n */\nexport const startWorktime = async (\n  userId: number, \n  startTime: string, \n  comment?: string\n) => {\n  try {\n    const response = await axiosInstance.post('/worktime', {\n      userId,\n      startTime,\n      comment\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Starten der Zeiterfassung:', error);\n    throw error;\n  }\n};\n\n/**\n * Stoppt eine laufende Zeiterfassung\n * @param userId Benutzer-ID\n * @param endTime Endzeit (ISO-String)\n * @returns Die aktualisierte Zeiterfassung\n */\nexport const stopWorktime = async (\n  userId: number,\n  endTime: string\n) => {\n  try {\n    const response = await axiosInstance.put(`/worktime/stop/${userId}`, {\n      endTime\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Stoppen der Zeiterfassung:', error);\n    throw error;\n  }\n};\n\n/**\n * Holt alle Zeiterfassungen eines Benutzers fr einen bestimmten Tag\n * @param userId Benutzer-ID\n * @param date Datum im Format YYYY-MM-DD\n * @returns Liste der Zeiterfassungen\n */\nexport const getWorktimesByUserAndDate = async (\n  userId: number,\n  date: string\n) => {\n  try {\n    const response = await axiosInstance.get(`/worktime/user/${userId}/date/${date}`);\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Abrufen der Zeiterfassungen:', error);\n    throw error;\n  }\n};\n\n/**\n * Aktualisiert eine einzelne Zeiterfassung\n * @param entryId ID der Zeiterfassung\n * @param data Update-Daten (startTime, endTime)\n * @returns Die aktualisierte Zeiterfassung\n */\nexport const updateWorktimeEntry = async (\n  entryId: number,\n  data: { startTime?: string; endTime?: string | null }\n) => {\n  try {\n    // Sende die Daten unverndert, ohne weitere Zeitzonenkonvertierung\n    const response = await axiosInstance.put(`/worktime/${entryId}`, data);\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Aktualisieren der Zeiterfassung:', error);\n    throw error;\n  }\n};\n\n/**\n * Lscht eine Zeiterfassung\n * @param entryId ID der Zeiterfassung\n * @returns Status der Lschoperation\n */\nexport const deleteWorktimeEntry = async (entryId: number) => {\n  try {\n    const response = await axiosInstance.delete(`/worktime/${entryId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Lschen der Zeiterfassung:', error);\n    throw error;\n  }\n};\n\n/**\n * Fhrt mehrere Aktualisierungen von Zeiterfassungen in einem Batch durch\n * @param entries Liste der zu aktualisierenden Zeiterfassungen\n * @returns Status der Batch-Operation\n */\nexport const updateWorktimeEntries = async (entries: WorktimeEntry[]) => {\n  try {\n    // Filtern, um nur Eintrge zu behalten, die aktualisiert oder gelscht werden sollen\n    const entriesToUpdate = entries.filter(entry => !entry.isDeleted);\n    const entriesToDelete = entries.filter(entry => entry.isDeleted).map(entry => entry.id);\n    \n    // Sequentiell jeden Eintrag aktualisieren\n    // Dabei nur die wirklich notwendigen Felder extrahieren\n    const updatePromises = entriesToUpdate.map(entry => \n      axiosInstance.put(`/worktime/${entry.id}`, {\n        startTime: entry.startTime,  // ISO-String ohne Zeitzone\n        endTime: entry.endTime       // ISO-String ohne Zeitzone oder null\n      })\n    );\n    \n    // Sequentiell jeden zu lschenden Eintrag lschen\n    const deletePromises = entriesToDelete.map(id => \n      axiosInstance.delete(`/worktime/${id}`)\n    );\n    \n    // Alle Promises ausfhren\n    await Promise.all([...updatePromises, ...deletePromises]);\n    \n    return { success: true };\n  } catch (error) {\n    console.error('Fehler beim Aktualisieren der Zeiterfassungen:', error);\n    throw error;\n  }\n}; ","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport axiosInstance from '../../config/axios.ts';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport { format } from 'date-fns';\nimport { \n  FunnelIcon,\n  Squares2X2Icon,\n  TableCellsIcon,\n  ClipboardDocumentListIcon,\n  UserIcon,\n  BuildingOfficeIcon,\n  ClockIcon,\n  ArrowPathIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  ChartBarIcon\n} from '@heroicons/react/24/outline';\nimport FilterPane from '../FilterPane.tsx';\nimport SavedFilterTags from '../SavedFilterTags.tsx';\nimport { FilterCondition } from '../FilterRow.tsx';\nimport DataCard, { MetadataItem } from '../shared/DataCard.tsx';\nimport CardGrid from '../shared/CardGrid.tsx';\nimport { useTableSettings } from '../../hooks/useTableSettings.ts';\n\ninterface TodoAnalyticsTabProps {\n  selectedDate: string;\n}\n\ninterface StatusHistoryItem {\n  id: number;\n  oldStatus: string | null;\n  newStatus: string;\n  changedAt: string;\n  user: {\n    id: number;\n    firstName: string;\n    lastName: string;\n    username: string;\n  };\n}\n\ninterface Todo {\n  id: number;\n  title: string;\n  status: string;\n  responsible?: {\n    id: number;\n    firstName: string;\n    lastName: string;\n    username: string;\n  };\n  qualityControl?: {\n    id: number;\n    firstName: string;\n    lastName: string;\n    username: string;\n  };\n  branch: {\n    id: number;\n    name: string;\n  };\n  updatedAt: string;\n  createdAt: string;\n  statusHistory?: StatusHistoryItem[];\n}\n\n// TableID fr gespeicherte Filter\nconst TODO_ANALYTICS_TABLE_ID = 'todo-analytics-table';\n\n// Standardreihenfolge der Spalten\nconst defaultColumnOrder = ['time', 'title', 'status', 'responsible', 'qualityControl', 'branch'];\n\nconst TodoAnalyticsTab: React.FC<TodoAnalyticsTabProps> = ({ selectedDate }) => {\n  const { t } = useTranslation();\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  \n  // Filter State Management (Controlled Mode)\n  const [filterConditions, setFilterConditions] = useState<FilterCondition[]>([]);\n  const [filterLogicalOperators, setFilterLogicalOperators] = useState<('AND' | 'OR')[]>([]);\n  const [activeFilterName, setActiveFilterName] = useState<string>('');\n  const [selectedFilterId, setSelectedFilterId] = useState<number | null>(null);\n  const [isFilterPanelOpen, setIsFilterPanelOpen] = useState(false);\n  \n  // Table Settings\n  const {\n    settings,\n    isLoading: isLoadingSettings,\n    updateColumnOrder,\n    updateHiddenColumns,\n    toggleColumnVisibility,\n    isColumnVisible,\n    updateViewMode\n  } = useTableSettings(TODO_ANALYTICS_TABLE_ID, {\n    defaultColumnOrder,\n    defaultViewMode: 'table'\n  });\n\n  // Abgeleitete Werte aus Settings\n  const columnOrder = settings?.columnOrder || defaultColumnOrder;\n  const hiddenColumns = settings?.hiddenColumns || [];\n  const visibleColumnIds = columnOrder.filter(id => !hiddenColumns.includes(id));\n  const savedViewMode = settings?.viewMode || 'table';\n  \n  // View Mode - initialisiere aus Settings, falls vorhanden\n  const [viewMode, setViewMode] = useState<'table' | 'cards'>(savedViewMode);\n  \n  // View Mode synchronisieren mit Settings\n  useEffect(() => {\n    if (settings?.viewMode && settings.viewMode !== viewMode) {\n      setViewMode(settings.viewMode);\n    }\n  }, [settings?.viewMode]);\n\n  // Expandierte To-Dos fr Status-Historie\n  const [expandedTodos, setExpandedTodos] = useState<Set<number>>(new Set());\n  \n  const toggleTodoExpand = (todoId: number) => {\n    setExpandedTodos(prev => {\n      const next = new Set(prev);\n      if (next.has(todoId)) {\n        next.delete(todoId);\n      } else {\n        next.add(todoId);\n      }\n      return next;\n    });\n  };\n\n  // Hufigkeitsanalyse State\n  const [frequencyData, setFrequencyData] = useState<any>(null);\n  const [loadingFrequency, setLoadingFrequency] = useState<boolean>(false);\n  const [showFrequencyAnalysis, setShowFrequencyAnalysis] = useState<boolean>(false);\n\n  // Schicht-Analyse State\n  const [shiftData, setShiftData] = useState<any>(null);\n  const [loadingShifts, setLoadingShifts] = useState<boolean>(false);\n  const [showShiftAnalysis, setShowShiftAnalysis] = useState<boolean>(false);\n  const [expandedShifts, setExpandedShifts] = useState<Set<number>>(new Set());\n  \n  const toggleShiftExpand = (workTimeId: number) => {\n    setExpandedShifts(prev => {\n      const next = new Set(prev);\n      if (next.has(workTimeId)) {\n        next.delete(workTimeId);\n      } else {\n        next.add(workTimeId);\n      }\n      return next;\n    });\n  };\n\n  // Verfgbare Spalten fr Filter und Table Settings\n  const availableColumns = useMemo(() => [\n    { id: 'time', label: t('analytics.todo.columns.time') },\n    { id: 'title', label: t('analytics.todo.columns.title') },\n    { id: 'status', label: t('analytics.todo.columns.status') },\n    { id: 'responsible', label: t('analytics.todo.columns.responsible') },\n    { id: 'qualityControl', label: t('analytics.todo.columns.qualityControl') },\n    { id: 'branch', label: t('analytics.todo.columns.branch') }\n  ], [t]);\n\n  // Lade To-Dos\n  useEffect(() => {\n    const fetchTodos = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        const params: any = {\n          date: selectedDate\n        };\n        \n        // Filter aus Bedingungen anwenden\n        filterConditions.forEach(condition => {\n          if (condition.column === 'branch' && condition.value) {\n            params.branchId = condition.value;\n          }\n          if (condition.column === 'responsible' && condition.value) {\n            params.userId = condition.value;\n          }\n          if (condition.column === 'status' && condition.value) {\n            // Status-Filter wrde hier angewendet werden, falls Backend es untersttzt\n          }\n        });\n        \n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.TODOS_CHRONOLOGICAL, {\n          params\n        });\n        \n        setTodos(response.data || []);\n      } catch (error) {\n        console.error('Fehler beim Laden der To-Dos:', error);\n        setError(t('analytics.todo.loadError'));\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (selectedDate) {\n      fetchTodos();\n    }\n  }, [selectedDate, filterConditions]);\n\n  // Lade Hufigkeitsanalyse\n  useEffect(() => {\n    const fetchFrequencyAnalysis = async () => {\n      if (!selectedDate || !showFrequencyAnalysis) return;\n      \n      try {\n        setLoadingFrequency(true);\n        \n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.TODOS_FREQUENCY, {\n          params: {\n            date: selectedDate\n          }\n        });\n        \n        setFrequencyData(response.data);\n      } catch (error) {\n        console.error('Fehler beim Laden der Hufigkeitsanalyse:', error);\n        // Kein setError hier, da nicht kritisch\n      } finally {\n        setLoadingFrequency(false);\n      }\n    };\n\n    fetchFrequencyAnalysis();\n  }, [selectedDate, showFrequencyAnalysis]);\n\n  // Lade Schicht-Analyse\n  useEffect(() => {\n    const fetchShiftAnalysis = async () => {\n      if (!selectedDate || !showShiftAnalysis) return;\n      \n      try {\n        setLoadingShifts(true);\n        \n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.TODOS_SHIFTS, {\n          params: {\n            date: selectedDate\n          }\n        });\n        \n        setShiftData(response.data);\n      } catch (error) {\n        console.error('Fehler beim Laden der Schicht-Analyse:', error);\n        // Kein setError hier, da nicht kritisch\n      } finally {\n        setLoadingShifts(false);\n      }\n    };\n\n    fetchShiftAnalysis();\n  }, [selectedDate, showShiftAnalysis]);\n\n  // Filter-Handler\n  const applyFilterConditions = useCallback((conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setFilterConditions(conditions);\n    setFilterLogicalOperators(operators);\n    setIsFilterPanelOpen(false);\n  }, []);\n\n  const resetFilterConditions = useCallback(() => {\n    setFilterConditions([]);\n    setFilterLogicalOperators([]);\n    setActiveFilterName('');\n    setSelectedFilterId(null);\n  }, []);\n\n  const handleFilterChange = useCallback((name: string, id: number | null, conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setActiveFilterName(name);\n    setSelectedFilterId(id);\n    applyFilterConditions(conditions, operators);\n  }, [applyFilterConditions]);\n\n  const getActiveFilterCount = useCallback(() => {\n    return filterConditions.filter(c => c.column !== '' && c.value !== null).length;\n  }, [filterConditions]);\n\n  // Status-Funktionen\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'done':\n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400';\n      case 'in_progress':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400';\n      case 'quality_control':\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400';\n      case 'open':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400';\n      case 'improval':\n        return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      done: 'Erledigt',\n      in_progress: 'In Bearbeitung',\n      quality_control: 'Qualittskontrolle',\n      open: 'Offen',\n      improval: 'Nachbesserung'\n    };\n    return labels[status] || status;\n  };\n\n  // Gefilterte und durchsuchte To-Dos\n  const filteredTodos = useMemo(() => {\n    let filtered = [...todos];\n\n    // Textsuche\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(todo =>\n        todo.title.toLowerCase().includes(searchLower) ||\n        todo.branch.name.toLowerCase().includes(searchLower) ||\n        (todo.responsible && `${todo.responsible.firstName} ${todo.responsible.lastName}`.toLowerCase().includes(searchLower))\n      );\n    }\n\n    // Filter-Bedingungen (Frontend-Filterung fr Spalten, die Backend nicht untersttzt)\n    filterConditions.forEach((condition, index) => {\n      if (condition.column === '' || condition.value === null) return;\n      \n      const operator = condition.operator || 'equals';\n      const value = condition.value;\n\n      filtered = filtered.filter(todo => {\n        switch (condition.column) {\n          case 'status':\n            if (operator === 'equals') {\n              return todo.status === value;\n            }\n            return true;\n          case 'title':\n            if (operator === 'contains') {\n              return todo.title.toLowerCase().includes(String(value).toLowerCase());\n            }\n            return true;\n          default:\n            return true;\n        }\n      });\n    });\n\n    return filtered;\n  }, [todos, searchTerm, filterConditions]);\n\n  // Statistiken\n  const stats = useMemo(() => ({\n    total: filteredTodos.length,\n    done: filteredTodos.filter(t => t.status === 'done').length,\n    inProgress: filteredTodos.filter(t => t.status === 'in_progress').length,\n    open: filteredTodos.filter(t => t.status === 'open').length,\n    qualityControl: filteredTodos.filter(t => t.status === 'quality_control').length,\n    improval: filteredTodos.filter(t => t.status === 'improval').length\n  }), [filteredTodos]);\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded\">\n        {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 todo-analytics-wrapper\">\n      {/* Titelzeile */}\n      <div className=\"flex items-center justify-between mb-4 px-3 sm:px-4 md:px-6\">\n        {/* Linke Seite: Titel mit Icon */}\n        <div className=\"flex items-center\">\n          <ClipboardDocumentListIcon className=\"h-6 w-6 mr-2 dark:text-white\" />\n          <h2 className=\"text-xl font-semibold dark:text-white\">{t('analytics.todo.title')}</h2>\n        </div>\n        \n        {/* Rechte Seite: Suchfeld, View-Mode Toggle, Filter-Button */}\n        <div className=\"flex items-center gap-1.5\">\n          <input\n            type=\"text\"\n            placeholder={t('common.searchPlaceholder')}\n            className=\"w-[200px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          \n          {/* View-Mode Toggle */}\n          <div className=\"relative group\">\n            <button\n              className={`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${\n                viewMode === 'cards' ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : ''\n              }`}\n              onClick={() => {\n                const newMode = viewMode === 'table' ? 'cards' : 'table';\n                setViewMode(newMode);\n                if (updateViewMode) {\n                  updateViewMode(newMode);\n                }\n              }}\n            >\n              {viewMode === 'table' ? (\n                <Squares2X2Icon className=\"h-5 w-5\" />\n              ) : (\n                <TableCellsIcon className=\"h-5 w-5\" />\n              )}\n            </button>\n            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n              {viewMode === 'table' ? t('common.viewAsCards') : t('common.viewAsTable')}\n            </div>\n          </div>\n          \n          {/* Filter-Button */}\n          <div className=\"relative group ml-1\">\n            <button\n              className={`p-2 rounded-md ${getActiveFilterCount() > 0 ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : 'hover:bg-gray-100 dark:hover:bg-gray-700'} relative`}\n              onClick={() => setIsFilterPanelOpen(!isFilterPanelOpen)}\n              style={{ position: 'relative' }}\n            >\n              <FunnelIcon className=\"h-5 w-5\" />\n              {getActiveFilterCount() > 0 && (\n                <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 dark:bg-blue-500 text-white rounded-full text-xs flex items-center justify-center z-10\">\n                  {getActiveFilterCount()}\n                </span>\n              )}\n            </button>\n            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n              {t('common.filter')}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filter-Pane */}\n      {isFilterPanelOpen && (\n        <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n          <FilterPane\n          columns={availableColumns}\n          onApply={applyFilterConditions}\n          onReset={resetFilterConditions}\n          savedConditions={filterConditions}\n          savedOperators={filterLogicalOperators}\n          tableId={TODO_ANALYTICS_TABLE_ID}\n        />\n        </div>\n      )}\n      \n      {/* Gespeicherte Filter als Tags */}\n      <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n        <SavedFilterTags\n        tableId={TODO_ANALYTICS_TABLE_ID}\n        onSelectFilter={applyFilterConditions}\n        onReset={resetFilterConditions}\n        activeFilterName={activeFilterName}\n        selectedFilterId={selectedFilterId}\n        onFilterChange={handleFilterChange}\n        defaultFilterName={t('teamWorktime.filters.all')}\n      />\n      </div>\n\n      {/* Hufigkeitsanalyse & Schicht-Analyse Toggle */}\n      <div className=\"mb-4 flex items-center gap-2\">\n        <button\n          onClick={() => setShowFrequencyAnalysis(!showFrequencyAnalysis)}\n          className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ArrowPathIcon className={`h-4 w-4 transition-transform ${showFrequencyAnalysis ? 'rotate-180' : ''}`} />\n          {t('analytics.todo.frequencyAnalysis')} {showFrequencyAnalysis ? t('common.collapse') : t('common.expand')}\n        </button>\n        <button\n          onClick={() => setShowShiftAnalysis(!showShiftAnalysis)}\n          className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ClockIcon className={`h-4 w-4 transition-transform ${showShiftAnalysis ? 'rotate-180' : ''}`} />\n          {t('analytics.todo.shiftAnalysis')} {showShiftAnalysis ? t('common.collapse') : t('common.expand')}\n        </button>\n      </div>\n\n      {/* Hufigkeitsanalyse Sektion */}\n      {showFrequencyAnalysis && (\n        <div className=\"mb-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n            <ArrowPathIcon className=\"h-5 w-5\" />\n            {t('analytics.todo.frequencyAnalysis')}\n          </h3>\n          \n          {loadingFrequency ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"text-gray-500 dark:text-gray-400\">{t('analytics.todo.loadingAnalysis')}</div>\n            </div>\n          ) : frequencyData ? (\n            <div className=\"space-y-6\">\n              {/* Zusammenfassung */}\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800\">\n                  <div className=\"text-sm text-blue-600 dark:text-blue-400\">{t('analytics.todo.frequency.totalTodos')}</div>\n                  <div className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">{frequencyData.summary.totalTasks}</div>\n                </div>\n                <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800\">\n                  <div className=\"text-sm text-green-600 dark:text-green-400\">{t('analytics.todo.frequency.completed')}</div>\n                  <div className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{frequencyData.summary.completedTasks}</div>\n                </div>\n                <div className=\"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800\">\n                  <div className=\"text-sm text-yellow-600 dark:text-yellow-400\">{t('analytics.todo.frequency.neverCompleted')}</div>\n                  <div className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">{frequencyData.summary.neverCompletedTasks}</div>\n                </div>\n                <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800\">\n                  <div className=\"text-sm text-purple-600 dark:text-purple-400\">{t('analytics.todo.frequency.completionRate')}</div>\n                  <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-300\">{frequencyData.summary.completionRate}%</div>\n                </div>\n              </div>\n\n              {/* Erledigungsrate pro User */}\n              {frequencyData.userStats && frequencyData.userStats.length > 0 && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.frequency.completionsPerUser')}</h4>\n                  <div className=\"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                      <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                        <tr>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.frequency.user')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.frequency.completed')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.frequency.lastCompletion')}\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n                        {frequencyData.userStats.slice(0, 10).map((stat: any) => (\n                          <tr key={stat.userId} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\n                              {stat.user ? `${stat.user.firstName} ${stat.user.lastName}` : t('analytics.todo.unknown')}\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {stat.completedCount}\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {stat.lastCompletedAt ? format(new Date(stat.lastCompletedAt), 'HH:mm') : '-'}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n\n              {/* Hufigste/nicht erledigte To-Dos */}\n              {frequencyData.taskStats && frequencyData.taskStats.length > 0 && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.frequency.frequentCompleted')}</h4>\n                  <div className=\"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                      <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                        <tr>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.title')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.status')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.branch')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.frequency.completed')}\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n                        {frequencyData.taskStats.slice(0, 20).map((stat: any) => (\n                          <tr key={stat.taskId} className={`hover:bg-gray-50 dark:hover:bg-gray-800 ${stat.neverCompleted ? 'bg-red-50 dark:bg-red-900/10' : ''}`}>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white\">\n                              {stat.title}\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap\">\n                              <span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(stat.currentStatus)}`}>\n                                {getStatusLabel(stat.currentStatus)}\n                              </span>\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {stat.branch.name}\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {stat.completedCount}x {stat.neverCompleted && <span className=\"text-red-600 dark:text-red-400\">{t('analytics.todo.never')}</span>}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n\n              {/* Durchschnittliche Zeit pro Status */}\n              {frequencyData.statusAverages && Object.keys(frequencyData.statusAverages).length > 0 && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.frequency.averageTimePerStatus')}</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n                    {Object.entries(frequencyData.statusAverages).map(([status, data]: [string, any]) => (\n                      <div key={status} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600\">\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{getStatusLabel(status)}</div>\n                        <div className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                          {data.averageHours.toFixed(1)}h\n                        </div>\n                        <div className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                          {data.taskCount} To-Do(s)\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Status-Verteilung Diagramm */}\n              {frequencyData.summary && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.frequency.statusDistribution')}</h4>\n                  <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600\">\n                    <div className=\"relative\" style={{ height: '200px' }}>\n                      {/* Y-Achse Beschriftungen */}\n                      <div className=\"absolute right-0 h-full flex flex-col justify-between text-xs text-gray-500 dark:text-gray-400 pr-1\">\n                        <span>{frequencyData.summary.totalTasks}</span>\n                        <span>{Math.round(frequencyData.summary.totalTasks * 0.75)}</span>\n                        <span>{Math.round(frequencyData.summary.totalTasks * 0.5)}</span>\n                        <span>{Math.round(frequencyData.summary.totalTasks * 0.25)}</span>\n                        <span>0</span>\n                      </div>\n                      \n                      {/* Horizontale Hilfslinien */}\n                      <div className=\"absolute inset-0 flex flex-col justify-between pointer-events-none pr-8\">\n                        <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                        <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                        <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                        <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                        <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                      </div>\n                      \n                      {/* Balken */}\n                      <div className=\"absolute inset-0 flex items-end justify-around gap-2 pr-8 pb-1\">\n                        <div className=\"flex flex-col items-center gap-1 flex-1\">\n                          <div className=\"relative group w-full\">\n                            <div \n                              className=\"w-full bg-green-500 dark:bg-green-600 rounded-t\"\n                              style={{ \n                                height: `${frequencyData.summary.completedTasks > 0 ? (frequencyData.summary.completedTasks / frequencyData.summary.totalTasks) * 100 : 0}%`,\n                                minHeight: frequencyData.summary.completedTasks > 0 ? '4px' : '0px'\n                              }}\n                            ></div>\n                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                              {`${t('analytics.todo.frequency.completed')}: ${frequencyData.summary.completedTasks}`}\n                            </div>\n                          </div>\n                          <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium\">{t('analytics.todo.frequency.completed')}</span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-500\">{frequencyData.summary.completedTasks}</span>\n                        </div>\n                        <div className=\"flex flex-col items-center gap-1 flex-1\">\n                          <div className=\"relative group w-full\">\n                            <div \n                              className=\"w-full bg-yellow-500 dark:bg-yellow-600 rounded-t\"\n                              style={{ \n                                height: `${frequencyData.summary.totalTasks - frequencyData.summary.completedTasks - frequencyData.summary.neverCompletedTasks > 0 ? ((frequencyData.summary.totalTasks - frequencyData.summary.completedTasks - frequencyData.summary.neverCompletedTasks) / frequencyData.summary.totalTasks) * 100 : 0}%`,\n                                minHeight: frequencyData.summary.totalTasks - frequencyData.summary.completedTasks - frequencyData.summary.neverCompletedTasks > 0 ? '4px' : '0px'\n                              }}\n                            ></div>\n                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                              {`${t('tasks.status.open')}: ${frequencyData.summary.totalTasks - frequencyData.summary.completedTasks - frequencyData.summary.neverCompletedTasks}`}\n                            </div>\n                          </div>\n                          <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium\">{t('tasks.status.open')}</span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-500\">{frequencyData.summary.totalTasks - frequencyData.summary.completedTasks - frequencyData.summary.neverCompletedTasks}</span>\n                        </div>\n                        <div className=\"flex flex-col items-center gap-1 flex-1\">\n                          <div className=\"relative group w-full\">\n                            <div \n                              className=\"w-full bg-red-500 dark:bg-red-600 rounded-t\"\n                              style={{ \n                                height: `${frequencyData.summary.neverCompletedTasks > 0 ? (frequencyData.summary.neverCompletedTasks / frequencyData.summary.totalTasks) * 100 : 0}%`,\n                                minHeight: frequencyData.summary.neverCompletedTasks > 0 ? '4px' : '0px'\n                              }}\n                            ></div>\n                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                              {`${t('analytics.todo.frequency.neverCompleted')}: ${frequencyData.summary.neverCompletedTasks}`}\n                            </div>\n                          </div>\n                          <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium\">{t('analytics.todo.frequency.neverCompleted')}</span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-500\">{frequencyData.summary.neverCompletedTasks}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\n              {t('analytics.todo.noData')}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Schicht-Analyse Sektion */}\n      {showShiftAnalysis && (\n        <div className=\"mb-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n            <ClockIcon className=\"h-5 w-5\" />\n            {t('analytics.todo.shift.shiftBased')}\n          </h3>\n          \n          {loadingShifts ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"text-gray-500 dark:text-gray-400\">{t('analytics.todo.loadingAnalysis')}</div>\n            </div>\n          ) : shiftData ? (\n            <div className=\"space-y-6\">\n              {/* Zusammenfassung */}\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800\">\n                  <div className=\"text-sm text-blue-600 dark:text-blue-400\">{t('analytics.todo.shift.totalShifts')}</div>\n                  <div className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">{shiftData.summary.totalShifts}</div>\n                </div>\n                <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800\">\n                  <div className=\"text-sm text-green-600 dark:text-green-400\">{t('analytics.todo.shift.todosInShifts')}</div>\n                  <div className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{shiftData.summary.totalTasksInShifts}</div>\n                </div>\n                <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800\">\n                  <div className=\"text-sm text-purple-600 dark:text-purple-400\">{t('analytics.todo.shift.totalHours')}</div>\n                  <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-300\">\n                    {shiftData.summary.totalDurationHours || '0.00'}\n                  </div>\n                </div>\n                <div className=\"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800\">\n                  <div className=\"text-sm text-yellow-600 dark:text-yellow-400\">{t('analytics.todo.shift.averageDuration')}</div>\n                  <div className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">\n                    {shiftData.summary.averageDurationHours || '-'}h\n                  </div>\n                </div>\n                <div className=\"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800\">\n                  <div className=\"text-sm text-indigo-600 dark:text-indigo-400\">{t('analytics.todo.shift.averageTodosPerShift')}</div>\n                  <div className=\"text-2xl font-bold text-indigo-700 dark:text-indigo-300\">\n                    {shiftData.summary.totalShifts > 0 \n                      ? (shiftData.summary.totalTasksInShifts / shiftData.summary.totalShifts).toFixed(1)\n                      : '0'\n                    }\n                  </div>\n                </div>\n              </div>\n\n              {/* Schichten-Liste */}\n              {shiftData.shifts && shiftData.shifts.length > 0 && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.shift.shiftsWithTodos')}</h4>\n                  <div className=\"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                      <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                        <tr>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.frequency.user')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.branch')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.shift.time')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.shift.duration')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.title')}\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n                        {shiftData.shifts.map((shift: any) => {\n                          const isExpanded = expandedShifts.has(shift.workTimeId);\n                          return (\n                            <React.Fragment key={shift.workTimeId}>\n                              <tr className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\n                                  {shift.user.firstName} {shift.user.lastName}\n                                </td>\n                                <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {shift.branch.name}\n                                </td>\n                                <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {format(new Date(shift.startTime), 'HH:mm')}\n                                  {shift.endTime && ` - ${format(new Date(shift.endTime), 'HH:mm')}`}\n                                </td>\n                                <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {shift.durationHours ? `${shift.durationHours}h` : t('worktime.running')}\n                                </td>\n                                <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  <div className=\"flex items-center gap-2\">\n                                    <span>{shift.linkedTasksCount}</span>\n                                    {shift.linkedTasksCount > 0 && (\n                                      <div className=\"relative group\">\n                                        <button\n                                          onClick={() => toggleShiftExpand(shift.workTimeId)}\n                                          className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                                        >\n                                          {isExpanded ? (\n                                            <ChevronUpIcon className=\"h-4 w-4\" />\n                                          ) : (\n                                            <ChevronDownIcon className=\"h-4 w-4\" />\n                                          )}\n                                        </button>\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                          {t('analytics.todo.shift.showTodos')}\n                                        </div>\n                                      </div>\n                                    )}\n                                  </div>\n                                </td>\n                              </tr>\n                              {isExpanded && shift.linkedTasksCount > 0 && (\n                                <tr className=\"bg-gray-50 dark:bg-gray-800/50\">\n                                  <td colSpan={5} className=\"px-3 sm:px-4 md:px-6 py-4\">\n                                    <div className=\"ml-4 border-l-2 border-blue-200 dark:border-blue-700 pl-4\">\n                                      <h5 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">{t('analytics.todo.shift.linkedTasks')}</h5>\n                                      <div className=\"space-y-2\">\n                                        {shift.linkedTasks.map((task: any) => (\n                                          <div key={task.id} className=\"flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400\">\n                                            <span className={`px-2 py-1 rounded-full ${getStatusColor(task.status)}`}>\n                                              {getStatusLabel(task.status)}\n                                            </span>\n                                            <span className=\"font-medium\">{task.title}</span>\n                                            {task.responsible && (\n                                              <span className=\"text-gray-400\">\n                                                ({task.responsible.firstName} {task.responsible.lastName})\n                                              </span>\n                                            )}\n                                          </div>\n                                        ))}\n                                      </div>\n                                    </div>\n                                  </td>\n                                </tr>\n                              )}\n                            </React.Fragment>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n\n              {/* To-Dos mit Schicht-Verteilung */}\n              {shiftData.tasksWithShifts && shiftData.tasksWithShifts.length > 0 && (\n                <div>\n                  <h4 className=\"text-base font-medium text-gray-900 dark:text-white mb-3\">{t('analytics.todo.shift.tasksWithShiftDistribution')}</h4>\n                  <div className=\"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                      <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                        <tr>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.title')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.columns.status')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.shift.totalShifts')}\n                          </th>\n                          <th className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                            {t('analytics.todo.shift.totalTime')}\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n                        {shiftData.tasksWithShifts.slice(0, 30).map((item: any) => (\n                          <tr key={item.task.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white\">\n                              {item.task.title}\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap\">\n                              <span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(item.task.status)}`}>\n                                {getStatusLabel(item.task.status)}\n                              </span>\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {item.shiftCount}x\n                            </td>\n                            <td className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {item.totalDurationHours}h\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\n              {t('analytics.todo.noShiftData')}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Statistiken */}\n      <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6\">\n        <div className=\"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600\">\n          <div className=\"text-sm text-gray-500 dark:text-gray-400\">{t('analytics.todo.stats.total')}</div>\n          <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">{stats.total}</div>\n        </div>\n        <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800\">\n          <div className=\"text-sm text-green-600 dark:text-green-400\">{t('analytics.todo.frequency.completed')}</div>\n          <div className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{stats.done}</div>\n        </div>\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800\">\n          <div className=\"text-sm text-blue-600 dark:text-blue-400\">{t('analytics.todo.stats.inProgress')}</div>\n          <div className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">{stats.inProgress}</div>\n        </div>\n        <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800\">\n          <div className=\"text-sm text-purple-600 dark:text-purple-400\">{t('analytics.todo.stats.qualityControl')}</div>\n          <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-300\">{stats.qualityControl}</div>\n        </div>\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800\">\n          <div className=\"text-sm text-yellow-600 dark:text-yellow-400\">{t('tasks.status.open')}</div>\n          <div className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">{stats.open}</div>\n        </div>\n        <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800\">\n          <div className=\"text-sm text-red-600 dark:text-red-400\">{t('tasks.status.improval')}</div>\n          <div className=\"text-2xl font-bold text-red-700 dark:text-red-300\">{stats.improval}</div>\n        </div>\n      </div>\n\n      {/* Status-Verteilung Diagramm */}\n      {filteredTodos.length > 0 && (\n        <div className=\"mb-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n            <ChartBarIcon className=\"h-5 w-5\" />\n            {t('analytics.todo.statusDistribution')}\n          </h3>\n          <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600\">\n            <div className=\"relative\" style={{ height: '200px' }}>\n              {/* Y-Achse Beschriftungen */}\n              <div className=\"absolute right-0 h-full flex flex-col justify-between text-xs text-gray-500 dark:text-gray-400 pr-1\">\n                <span>{stats.total}</span>\n                <span>{Math.round(stats.total * 0.75)}</span>\n                <span>{Math.round(stats.total * 0.5)}</span>\n                <span>{Math.round(stats.total * 0.25)}</span>\n                <span>0</span>\n              </div>\n              \n              {/* Horizontale Hilfslinien */}\n              <div className=\"absolute inset-0 flex flex-col justify-between pointer-events-none pr-8\">\n                <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n                <div className=\"w-full border-t border-gray-300 dark:border-gray-600\"></div>\n              </div>\n              \n              {/* Balken */}\n              <div className=\"absolute inset-0 flex items-end justify-around gap-1 sm:gap-2 pr-8 pb-1\">\n                <div className=\"flex flex-col items-center gap-1 flex-1\">\n                  <div className=\"relative group w-full\">\n                    <div \n                      className=\"w-full bg-green-500 dark:bg-green-600 rounded-t transition-all hover:opacity-80\"\n                      style={{ \n                        height: `${stats.total > 0 ? (stats.done / stats.total) * 100 : 0}%`,\n                        minHeight: stats.done > 0 ? '4px' : '0px'\n                      }}\n                    ></div>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                      {`${t('analytics.todo.frequency.completed')}: ${stats.done}`}\n                    </div>\n                  </div>\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium text-center\">{t('analytics.todo.frequency.completed')}</span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-500\">{stats.done}</span>\n                </div>\n                <div className=\"flex flex-col items-center gap-1 flex-1\">\n                  <div className=\"relative group w-full\">\n                    <div \n                      className=\"w-full bg-blue-500 dark:bg-blue-600 rounded-t transition-all hover:opacity-80\"\n                      style={{ \n                        height: `${stats.total > 0 ? (stats.inProgress / stats.total) * 100 : 0}%`,\n                        minHeight: stats.inProgress > 0 ? '4px' : '0px'\n                      }}\n                    ></div>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                      {`${t('analytics.todo.stats.inProgress')}: ${stats.inProgress}`}\n                    </div>\n                  </div>\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium text-center\">{t('analytics.todo.stats.inProgress')}</span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-500\">{stats.inProgress}</span>\n                </div>\n                <div className=\"flex flex-col items-center gap-1 flex-1\">\n                  <div className=\"relative group w-full\">\n                    <div \n                      className=\"w-full bg-purple-500 dark:bg-purple-600 rounded-t transition-all hover:opacity-80\"\n                      style={{ \n                        height: `${stats.total > 0 ? (stats.qualityControl / stats.total) * 100 : 0}%`,\n                        minHeight: stats.qualityControl > 0 ? '4px' : '0px'\n                      }}\n                    ></div>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                      {`${t('analytics.todo.stats.qualityControl')}: ${stats.qualityControl}`}\n                    </div>\n                  </div>\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium text-center\">{t('analytics.todo.columns.qualityControl')}</span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-500\">{stats.qualityControl}</span>\n                </div>\n                <div className=\"flex flex-col items-center gap-1 flex-1\">\n                  <div className=\"relative group w-full\">\n                    <div \n                      className=\"w-full bg-yellow-500 dark:bg-yellow-600 rounded-t transition-all hover:opacity-80\"\n                      style={{ \n                        height: `${stats.total > 0 ? (stats.open / stats.total) * 100 : 0}%`,\n                        minHeight: stats.open > 0 ? '4px' : '0px'\n                      }}\n                    ></div>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                      {`${t('tasks.status.open')}: ${stats.open}`}\n                    </div>\n                  </div>\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium text-center\">{t('tasks.status.open')}</span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-500\">{stats.open}</span>\n                </div>\n                <div className=\"flex flex-col items-center gap-1 flex-1\">\n                  <div className=\"relative group w-full\">\n                    <div \n                      className=\"w-full bg-red-500 dark:bg-red-600 rounded-t transition-all hover:opacity-80\"\n                      style={{ \n                        height: `${stats.total > 0 ? (stats.improval / stats.total) * 100 : 0}%`,\n                        minHeight: stats.improval > 0 ? '4px' : '0px'\n                      }}\n                    ></div>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                      {`${t('tasks.status.improval')}: ${stats.improval}`}\n                    </div>\n                  </div>\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400 font-medium text-center\">{t('tasks.status.improval')}</span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-500\">{stats.improval}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Content: Tabelle oder Cards */}\n      {loading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"text-gray-500 dark:text-gray-400\">{t('common.loading')}</div>\n        </div>\n      ) : viewMode === 'table' ? (\n        /* Tabellen-Ansicht */\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n            <thead className=\"bg-gray-50 dark:bg-gray-800\">\n              <tr>\n                {columnOrder.filter(id => visibleColumnIds.includes(id)).map((columnId) => {\n                  const column = availableColumns.find(c => c.id === columnId);\n                  return column ? (\n                    <th\n                      key={columnId}\n                      className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\"\n                    >\n                      {column.label}\n                    </th>\n                  ) : null;\n                })}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n              {filteredTodos.length === 0 ? (\n                <tr>\n                  <td colSpan={columnOrder.filter(id => visibleColumnIds.includes(id)).length} className=\"px-3 sm:px-4 md:px-6 py-4 text-center text-gray-500 dark:text-gray-400\">\n                    Keine To-Dos fr dieses Datum gefunden\n                  </td>\n                </tr>\n              ) : (\n                filteredTodos.map((todo) => {\n                  const isExpanded = expandedTodos.has(todo.id);\n                  const hasStatusHistory = todo.statusHistory && todo.statusHistory.length > 0;\n                  \n                  return (\n                    <React.Fragment key={todo.id}>\n                      <tr className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                        {columnOrder.filter(id => visibleColumnIds.includes(id)).map((columnId) => {\n                          switch (columnId) {\n                            case 'time':\n                              return (\n                                <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {format(new Date(todo.updatedAt), 'HH:mm')}\n                                </td>\n                              );\n                            case 'title':\n                              return (\n                                <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white\">\n                                  <div className=\"flex items-center gap-2\">\n                                    {hasStatusHistory && (\n                                      <div className=\"relative group\">\n                                        <button\n                                          onClick={() => toggleTodoExpand(todo.id)}\n                                          className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                                        >\n                                          {isExpanded ? (\n                                            <ChevronUpIcon className=\"h-4 w-4\" />\n                                          ) : (\n                                            <ChevronDownIcon className=\"h-4 w-4\" />\n                                          )}\n                                        </button>\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                                          Status-Historie anzeigen\n                                        </div>\n                                      </div>\n                                    )}\n                                    <span>{todo.title}</span>\n                                  </div>\n                                </td>\n                              );\n                            case 'status':\n                              return (\n                                <td key={columnId} className=\"px-6 py-4 whitespace-nowrap\">\n                                  <span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(todo.status)}`}>\n                                    {getStatusLabel(todo.status)}\n                                  </span>\n                                </td>\n                              );\n                            case 'responsible':\n                              return (\n                                <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {todo.responsible\n                                    ? `${todo.responsible.firstName} ${todo.responsible.lastName}`\n                                    : '-'}\n                                </td>\n                              );\n                            case 'qualityControl':\n                              return (\n                                <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {todo.qualityControl\n                                    ? `${todo.qualityControl.firstName} ${todo.qualityControl.lastName}`\n                                    : '-'}\n                                </td>\n                              );\n                            case 'branch':\n                              return (\n                                <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                                  {todo.branch.name}\n                                </td>\n                              );\n                            default:\n                              return null;\n                          }\n                        })}\n                      </tr>\n                      {/* Status-Historie Zeile */}\n                      {isExpanded && hasStatusHistory && (\n                        <tr className=\"bg-gray-50 dark:bg-gray-800/50\">\n                          <td colSpan={columnOrder.filter(id => visibleColumnIds.includes(id)).length} className=\"px-3 sm:px-4 md:px-6 py-4\">\n                            <div className=\"ml-4 border-l-2 border-blue-200 dark:border-blue-700 pl-4\">\n                              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2\">\n                                <ArrowPathIcon className=\"h-4 w-4\" />\n                                Status-Wechsel\n                              </h4>\n                              <div className=\"space-y-2\">\n                                {todo.statusHistory!.map((historyItem, idx) => (\n                                  <div key={historyItem.id} className=\"flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400\">\n                                    <span className=\"font-medium\">\n                                      {format(new Date(historyItem.changedAt), 'HH:mm:ss')}\n                                    </span>\n                                    <span className=\"text-gray-400\"></span>\n                                    <span className={`px-2 py-1 rounded-full ${getStatusColor(historyItem.oldStatus || 'open')}`}>\n                                      {getStatusLabel(historyItem.oldStatus || 'open')}\n                                    </span>\n                                    <span className=\"text-gray-400\"></span>\n                                    <span className={`px-2 py-1 rounded-full ${getStatusColor(historyItem.newStatus)}`}>\n                                      {getStatusLabel(historyItem.newStatus)}\n                                    </span>\n                                    <span className=\"text-gray-400\">von</span>\n                                    <span className=\"font-medium\">\n                                      {historyItem.user.firstName} {historyItem.user.lastName}\n                                    </span>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                          </td>\n                        </tr>\n                      )}\n                    </React.Fragment>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        /* Card-Ansicht */\n        <div className=\"-mx-3 sm:-mx-4 md:-mx-6\">\n          {filteredTodos.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400\">\n              <ClipboardDocumentListIcon className=\"h-10 w-10 mb-4 text-gray-400 dark:text-gray-500\" />\n              <div className=\"text-sm\">Keine To-Dos gefunden</div>\n            </div>\n          ) : (\n            <CardGrid>\n              {filteredTodos.map(todo => {\n                const metadata: MetadataItem[] = [];\n                \n                // Links: Niederlassung\n                if (visibleColumnIds.includes('branch')) {\n                  metadata.push({\n                    icon: <BuildingOfficeIcon className=\"h-4 w-4\" />,\n                    label: 'Niederlassung',\n                    value: todo.branch.name,\n                    section: 'left'\n                  });\n                }\n                \n                // Haupt-Metadaten: Verantwortlich & Qualittskontrolle\n                if (visibleColumnIds.includes('responsible')) {\n                  metadata.push({\n                    icon: <UserIcon className=\"h-4 w-4\" />,\n                    label: 'Verantwortlich',\n                    value: todo.responsible\n                      ? `${todo.responsible.firstName} ${todo.responsible.lastName}`\n                      : '-',\n                    section: 'main'\n                  });\n                }\n                \n                if (visibleColumnIds.includes('qualityControl')) {\n                  metadata.push({\n                    icon: <UserIcon className=\"h-4 w-4\" />,\n                    label: 'Qualittskontrolle',\n                    value: todo.qualityControl\n                      ? `${todo.qualityControl.firstName} ${todo.qualityControl.lastName}`\n                      : '-',\n                    section: 'main'\n                  });\n                }\n                \n                // Rechts: Zeit\n                if (visibleColumnIds.includes('time')) {\n                  metadata.push({\n                    icon: <ClockIcon className=\"h-4 w-4\" />,\n                    label: 'Zeit',\n                    value: format(new Date(todo.updatedAt), 'HH:mm'),\n                    section: 'right'\n                  });\n                }\n\n                // Expandierbarer Content fr Status-Historie\n                const hasStatusHistory = todo.statusHistory && todo.statusHistory.length > 0;\n                const isExpanded = expandedTodos.has(todo.id);\n                \n                const expandableContent = hasStatusHistory ? (\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2\">\n                      <ArrowPathIcon className=\"h-4 w-4\" />\n                      Status-Wechsel\n                    </h4>\n                    <div className=\"space-y-2\">\n                      {todo.statusHistory!.map((historyItem) => (\n                        <div key={historyItem.id} className=\"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\">\n                          <span className=\"font-medium\">\n                            {format(new Date(historyItem.changedAt), 'HH:mm:ss')}\n                          </span>\n                          <span className=\"text-gray-400\"></span>\n                          <span className={`px-2 py-1 rounded-full ${getStatusColor(historyItem.oldStatus || 'open')}`}>\n                            {getStatusLabel(historyItem.oldStatus || 'open')}\n                          </span>\n                          <span className=\"text-gray-400\"></span>\n                          <span className={`px-2 py-1 rounded-full ${getStatusColor(historyItem.newStatus)}`}>\n                            {getStatusLabel(historyItem.newStatus)}\n                          </span>\n                          <span className=\"text-gray-400\">von</span>\n                          <span className=\"font-medium\">\n                            {historyItem.user.firstName} {historyItem.user.lastName}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ) : null;\n\n                return (\n                  <DataCard\n                    key={todo.id}\n                    title={todo.title}\n                    status={{\n                      label: getStatusLabel(todo.status),\n                      color: getStatusColor(todo.status)\n                    }}\n                    metadata={metadata}\n                    expandable={expandableContent ? {\n                      isExpanded: isExpanded,\n                      content: expandableContent,\n                      onToggle: () => toggleTodoExpand(todo.id)\n                    } : undefined}\n                  />\n                );\n              })}\n            </CardGrid>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TodoAnalyticsTab;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport axiosInstance from '../../config/axios.ts';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport { format } from 'date-fns';\nimport { \n  FunnelIcon,\n  Squares2X2Icon,\n  TableCellsIcon,\n  DocumentTextIcon,\n  UserIcon,\n  BuildingOfficeIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport FilterPane from '../FilterPane.tsx';\nimport SavedFilterTags from '../SavedFilterTags.tsx';\nimport { FilterCondition } from '../FilterRow.tsx';\nimport DataCard, { MetadataItem } from '../shared/DataCard.tsx';\nimport CardGrid from '../shared/CardGrid.tsx';\nimport { useTableSettings } from '../../hooks/useTableSettings.ts';\n\ninterface RequestAnalyticsTabProps {\n  selectedDate: string;\n}\n\ninterface Request {\n  id: number;\n  title: string;\n  status: string;\n  requester: {\n    id: number;\n    firstName: string;\n    lastName: string;\n    username: string;\n  };\n  responsible: {\n    id: number;\n    firstName: string;\n    lastName: string;\n    username: string;\n  };\n  branch: {\n    id: number;\n    name: string;\n  };\n  createdAt: string;\n  updatedAt: string;\n}\n\n// TableID fr gespeicherte Filter\nconst REQUEST_ANALYTICS_TABLE_ID = 'request-analytics-table';\n\n// Standardreihenfolge der Spalten\nconst defaultColumnOrder = ['time', 'title', 'status', 'requester', 'responsible', 'branch'];\n\nconst RequestAnalyticsTab: React.FC<RequestAnalyticsTabProps> = ({ selectedDate }) => {\n  const { t } = useTranslation();\n  const [requests, setRequests] = useState<Request[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  \n  // Filter State Management (Controlled Mode)\n  const [filterConditions, setFilterConditions] = useState<FilterCondition[]>([]);\n  const [filterLogicalOperators, setFilterLogicalOperators] = useState<('AND' | 'OR')[]>([]);\n  const [activeFilterName, setActiveFilterName] = useState<string>('');\n  const [selectedFilterId, setSelectedFilterId] = useState<number | null>(null);\n  const [isFilterPanelOpen, setIsFilterPanelOpen] = useState(false);\n  \n  // Table Settings\n  const {\n    settings,\n    isLoading: isLoadingSettings,\n    updateColumnOrder,\n    updateHiddenColumns,\n    toggleColumnVisibility,\n    isColumnVisible,\n    updateViewMode\n  } = useTableSettings(REQUEST_ANALYTICS_TABLE_ID, {\n    defaultColumnOrder,\n    defaultViewMode: 'table'\n  });\n\n  // Abgeleitete Werte aus Settings\n  const columnOrder = settings?.columnOrder || defaultColumnOrder;\n  const hiddenColumns = settings?.hiddenColumns || [];\n  const visibleColumnIds = columnOrder.filter(id => !hiddenColumns.includes(id));\n  const savedViewMode = settings?.viewMode || 'table';\n  \n  // View Mode - initialisiere aus Settings, falls vorhanden\n  const [viewMode, setViewMode] = useState<'table' | 'cards'>(savedViewMode);\n  \n  // View Mode synchronisieren mit Settings\n  useEffect(() => {\n    if (settings?.viewMode && settings.viewMode !== viewMode) {\n      setViewMode(settings.viewMode);\n    }\n  }, [settings?.viewMode]);\n\n  // Verfgbare Spalten fr Filter und Table Settings\n  const availableColumns = useMemo(() => [\n    { id: 'time', label: t('analytics.request.columns.time') },\n    { id: 'title', label: t('analytics.request.columns.title') },\n    { id: 'status', label: t('analytics.request.columns.status') },\n    { id: 'requester', label: t('analytics.request.columns.requester') },\n    { id: 'responsible', label: t('analytics.request.columns.responsible') },\n    { id: 'branch', label: t('analytics.request.columns.branch') }\n  ], [t]);\n\n  // Lade Requests\n  useEffect(() => {\n    const fetchRequests = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        const params: any = {\n          date: selectedDate\n        };\n        \n        // Filter aus Bedingungen anwenden\n        filterConditions.forEach(condition => {\n          if (condition.column === 'branch' && condition.value) {\n            params.branchId = condition.value;\n          }\n          if (condition.column === 'requester' && condition.value) {\n            params.userId = condition.value;\n          }\n          if (condition.column === 'status' && condition.value) {\n            // Status-Filter wrde hier angewendet werden, falls Backend es untersttzt\n          }\n        });\n        \n        const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ANALYTICS.REQUESTS_CHRONOLOGICAL, {\n          params\n        });\n        \n        setRequests(response.data || []);\n      } catch (error) {\n        console.error('Fehler beim Laden der Requests:', error);\n        setError(t('analytics.request.loadError'));\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (selectedDate) {\n      fetchRequests();\n    }\n  }, [selectedDate, filterConditions]);\n\n  // Filter-Handler\n  const applyFilterConditions = useCallback((conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setFilterConditions(conditions);\n    setFilterLogicalOperators(operators);\n    setIsFilterPanelOpen(false);\n  }, []);\n\n  const resetFilterConditions = useCallback(() => {\n    setFilterConditions([]);\n    setFilterLogicalOperators([]);\n    setActiveFilterName('');\n    setSelectedFilterId(null);\n  }, []);\n\n  const handleFilterChange = useCallback((name: string, id: number | null, conditions: FilterCondition[], operators: ('AND' | 'OR')[]) => {\n    setActiveFilterName(name);\n    setSelectedFilterId(id);\n    applyFilterConditions(conditions, operators);\n  }, [applyFilterConditions]);\n\n  const getActiveFilterCount = useCallback(() => {\n    return filterConditions.filter(c => c.column !== '' && c.value !== null).length;\n  }, [filterConditions]);\n\n  // Status-Funktionen\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'approved':\n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400';\n      case 'approval':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400';\n      case 'denied':\n        return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400';\n      case 'to_improve':\n        return 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      approved: t('analytics.request.status.approved'),\n      approval: t('analytics.request.status.approval'),\n      denied: t('analytics.request.status.denied'),\n      to_improve: t('analytics.request.status.to_improve')\n    };\n    return labels[status] || status;\n  };\n\n  // Gefilterte und durchsuchte Requests\n  const filteredRequests = useMemo(() => {\n    let filtered = [...requests];\n\n    // Textsuche\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(request =>\n        request.title.toLowerCase().includes(searchLower) ||\n        request.branch.name.toLowerCase().includes(searchLower) ||\n        `${request.requester.firstName} ${request.requester.lastName}`.toLowerCase().includes(searchLower) ||\n        `${request.responsible.firstName} ${request.responsible.lastName}`.toLowerCase().includes(searchLower)\n      );\n    }\n\n    // Filter-Bedingungen (Frontend-Filterung fr Spalten, die Backend nicht untersttzt)\n    filterConditions.forEach((condition) => {\n      if (condition.column === '' || condition.value === null) return;\n      \n      const operator = condition.operator || 'equals';\n      const value = condition.value;\n\n      filtered = filtered.filter(request => {\n        switch (condition.column) {\n          case 'status':\n            if (operator === 'equals') {\n              return request.status === value;\n            }\n            return true;\n          case 'title':\n            if (operator === 'contains') {\n              return request.title.toLowerCase().includes(String(value).toLowerCase());\n            }\n            return true;\n          default:\n            return true;\n        }\n      });\n    });\n\n    return filtered;\n  }, [requests, searchTerm, filterConditions]);\n\n  // Statistiken\n  const stats = useMemo(() => ({\n    total: filteredRequests.length,\n    approved: filteredRequests.filter(r => r.status === 'approved').length,\n    pending: filteredRequests.filter(r => r.status === 'approval').length,\n    denied: filteredRequests.filter(r => r.status === 'denied').length,\n    toImprove: filteredRequests.filter(r => r.status === 'to_improve').length\n  }), [filteredRequests]);\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded\">\n        {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 request-analytics-wrapper\">\n      {/* Titelzeile */}\n      <div className=\"flex items-center justify-between mb-4 px-3 sm:px-4 md:px-6\">\n        {/* Linke Seite: Titel mit Icon */}\n        <div className=\"flex items-center\">\n          <DocumentTextIcon className=\"h-6 w-6 mr-2 dark:text-white\" />\n          <h2 className=\"text-xl font-semibold dark:text-white\">{t('analytics.request.title')}</h2>\n        </div>\n        \n        {/* Rechte Seite: Suchfeld, View-Mode Toggle, Filter-Button */}\n        <div className=\"flex items-center gap-1.5\">\n          <input\n            type=\"text\"\n            placeholder={t('common.searchPlaceholder')}\n            className=\"w-[200px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          \n          {/* View-Mode Toggle */}\n          <button\n            className={`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${\n              viewMode === 'cards' ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : ''\n            }`}\n            onClick={() => {\n              const newMode = viewMode === 'table' ? 'cards' : 'table';\n              setViewMode(newMode);\n              if (updateViewMode) {\n                updateViewMode(newMode);\n              }\n            }}\n            title={viewMode === 'table' ? t('common.viewAsCards') : t('common.viewAsTable')}\n          >\n            {viewMode === 'table' ? (\n              <Squares2X2Icon className=\"h-5 w-5\" />\n            ) : (\n              <TableCellsIcon className=\"h-5 w-5\" />\n            )}\n          </button>\n          \n          {/* Filter-Button */}\n          <button\n            className={`p-2 rounded-md ${getActiveFilterCount() > 0 ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' : 'hover:bg-gray-100 dark:hover:bg-gray-700'} ml-1 relative`}\n            onClick={() => setIsFilterPanelOpen(!isFilterPanelOpen)}\n            title={t('common.filter')}\n            style={{ position: 'relative' }}\n          >\n            <FunnelIcon className=\"h-5 w-5\" />\n            {getActiveFilterCount() > 0 && (\n              <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 dark:bg-blue-500 text-white rounded-full text-xs flex items-center justify-center z-10\">\n                {getActiveFilterCount()}\n              </span>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Filter-Pane */}\n      {isFilterPanelOpen && (\n        <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n          <FilterPane\n          columns={availableColumns}\n          onApply={applyFilterConditions}\n          onReset={resetFilterConditions}\n          savedConditions={filterConditions}\n          savedOperators={filterLogicalOperators}\n          tableId={REQUEST_ANALYTICS_TABLE_ID}\n        />\n        </div>\n      )}\n      \n      {/* Gespeicherte Filter als Tags */}\n      <div className={viewMode === 'cards' ? '-mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6' : 'px-3 sm:px-4 md:px-6'}>\n        <SavedFilterTags\n        tableId={REQUEST_ANALYTICS_TABLE_ID}\n        onSelectFilter={applyFilterConditions}\n        onReset={resetFilterConditions}\n        activeFilterName={activeFilterName}\n        selectedFilterId={selectedFilterId}\n        onFilterChange={handleFilterChange}\n        defaultFilterName={t('teamWorktime.filters.all')}\n      />\n      </div>\n\n      {/* Statistiken */}\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6\">\n        <div className=\"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600\">\n          <div className=\"text-sm text-gray-500 dark:text-gray-400\">{t('analytics.request.stats.total')}</div>\n          <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">{stats.total}</div>\n        </div>\n        <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800\">\n          <div className=\"text-sm text-green-600 dark:text-green-400\">{t('analytics.request.status.approved')}</div>\n          <div className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{stats.approved}</div>\n        </div>\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800\">\n          <div className=\"text-sm text-yellow-600 dark:text-yellow-400\">{t('analytics.request.status.approval')}</div>\n          <div className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">{stats.pending}</div>\n        </div>\n        <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800\">\n          <div className=\"text-sm text-red-600 dark:text-red-400\">{t('analytics.request.status.denied')}</div>\n          <div className=\"text-2xl font-bold text-red-700 dark:text-red-300\">{stats.denied}</div>\n        </div>\n        <div className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800\">\n          <div className=\"text-sm text-orange-600 dark:text-orange-400\">{t('analytics.request.status.to_improve')}</div>\n          <div className=\"text-2xl font-bold text-orange-700 dark:text-orange-300\">{stats.toImprove}</div>\n        </div>\n      </div>\n\n      {/* Content: Tabelle oder Cards */}\n      {loading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"text-gray-500 dark:text-gray-400\">{t('analytics.request.loading')}</div>\n        </div>\n      ) : viewMode === 'table' ? (\n        /* Tabellen-Ansicht */\n        <div className=\"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6\">\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n            <thead className=\"bg-gray-50 dark:bg-gray-800\">\n              <tr>\n                {columnOrder.filter(id => visibleColumnIds.includes(id)).map((columnId) => {\n                  const column = availableColumns.find(c => c.id === columnId);\n                  return column ? (\n                    <th\n                      key={columnId}\n                      className=\"px-3 sm:px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\"\n                    >\n                      {column.label}\n                    </th>\n                  ) : null;\n                })}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800\">\n              {filteredRequests.length === 0 ? (\n                <tr>\n                  <td colSpan={columnOrder.filter(id => visibleColumnIds.includes(id)).length} className=\"px-3 sm:px-4 md:px-6 py-4 text-center text-gray-500 dark:text-gray-400\">\n                    {t('analytics.request.noRequestsForDate')}\n                  </td>\n                </tr>\n              ) : (\n                filteredRequests.map((request) => (\n                  <tr key={request.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                    {columnOrder.filter(id => visibleColumnIds.includes(id)).map((columnId) => {\n                      switch (columnId) {\n                        case 'time':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {format(new Date(request.createdAt), 'HH:mm')}\n                            </td>\n                          );\n                        case 'title':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white\">\n                              {request.title}\n                            </td>\n                          );\n                        case 'status':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap\">\n                              <span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(request.status)}`}>\n                                {getStatusLabel(request.status)}\n                              </span>\n                            </td>\n                          );\n                        case 'requester':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {request.requester.firstName} {request.requester.lastName}\n                            </td>\n                          );\n                        case 'responsible':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {request.responsible.firstName} {request.responsible.lastName}\n                            </td>\n                          );\n                        case 'branch':\n                          return (\n                            <td key={columnId} className=\"px-3 sm:px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                              {request.branch.name}\n                            </td>\n                          );\n                        default:\n                          return null;\n                      }\n                    })}\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        /* Card-Ansicht */\n        <div className=\"-mx-3 sm:-mx-4 md:-mx-6\">\n          {filteredRequests.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400\">\n              <DocumentTextIcon className=\"h-10 w-10 mb-4 text-gray-400 dark:text-gray-500\" />\n              <div className=\"text-sm\">{t('analytics.request.noRequests')}</div>\n            </div>\n          ) : (\n            <CardGrid>\n              {filteredRequests.map(request => {\n                const metadata: MetadataItem[] = [];\n                \n                // Links: Niederlassung\n                if (visibleColumnIds.includes('branch')) {\n                  metadata.push({\n                    icon: <BuildingOfficeIcon className=\"h-4 w-4\" />,\n                    label: t('analytics.request.metadata.branch'),\n                    value: request.branch.name,\n                    section: 'left'\n                  });\n                }\n                \n                // Haupt-Metadaten: Antragsteller & Verantwortlich\n                if (visibleColumnIds.includes('requester')) {\n                  metadata.push({\n                    icon: <UserIcon className=\"h-4 w-4\" />,\n                    label: t('analytics.request.metadata.requester'),\n                    value: `${request.requester.firstName} ${request.requester.lastName}`,\n                    section: 'main'\n                  });\n                }\n                \n                if (visibleColumnIds.includes('responsible')) {\n                  metadata.push({\n                    icon: <UserIcon className=\"h-4 w-4\" />,\n                    label: t('analytics.request.metadata.responsible'),\n                    value: `${request.responsible.firstName} ${request.responsible.lastName}`,\n                    section: 'main'\n                  });\n                }\n                \n                // Rechts: Zeit\n                if (visibleColumnIds.includes('time')) {\n                  metadata.push({\n                    icon: <ClockIcon className=\"h-4 w-4\" />,\n                    label: t('analytics.request.metadata.time'),\n                    value: format(new Date(request.createdAt), 'HH:mm'),\n                    section: 'right'\n                  });\n                }\n\n                return (\n                  <DataCard\n                    key={request.id}\n                    title={request.title}\n                    status={{\n                      label: getStatusLabel(request.status),\n                      color: getStatusColor(request.status)\n                    }}\n                    metadata={metadata}\n                  />\n                );\n              })}\n            </CardGrid>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RequestAnalyticsTab;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { UsersIcon } from '@heroicons/react/24/outline';\nimport axiosInstance from '../config/axios.ts';\nimport { API_ENDPOINTS } from '../config/api.ts';\nimport { format } from 'date-fns';\nimport ActiveUsersList from '../components/teamWorktime/ActiveUsersList.tsx';\nimport TodoAnalyticsTab from '../components/teamWorktime/TodoAnalyticsTab.tsx';\nimport RequestAnalyticsTab from '../components/teamWorktime/RequestAnalyticsTab.tsx';\nimport { usePermissions } from '../hooks/usePermissions.ts';\n\ntype TabType = 'worktimes' | 'todos' | 'requests';\n\nconst TeamWorktimeControl: React.FC = () => {\n  const { t } = useTranslation();\n  const { hasPermission } = usePermissions();\n  \n  // Prfe Berechtigungen - beide werden bentigt\n  const hasPagePermission = hasPermission('team_worktime_control', 'read', 'page');\n  const hasTablePermission = hasPermission('team_worktime', 'read', 'table');\n  const hasRequiredPermissions = hasPagePermission && hasTablePermission;\n  \n  // State fr aktive Benutzer und Zeiterfassungen\n  const [activeUsers, setActiveUsers] = useState<any[]>([]);\n  const [allWorktimes, setAllWorktimes] = useState<any[]>([]);\n  const [selectedDate, setSelectedDate] = useState<string>(format(new Date(), 'yyyy-MM-dd'));\n  const [activeTab, setActiveTab] = useState<TabType>('worktimes');\n  \n  // State fr Lade- und Fehlerzustnde\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Funktion zum Abrufen der aktiven Benutzer\n  const fetchActiveUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axiosInstance.get(API_ENDPOINTS.TEAM_WORKTIME.ACTIVE);\n      setActiveUsers(response.data);\n    } catch (error: any) {\n      console.error('Fehler beim Laden der aktiven Benutzer:', error);\n      \n      // Spezifische Fehlerbehandlung\n      let errorMessage = t('teamWorktime.messages.loadActiveUsersError');\n      \n      if (error.response) {\n        const status = error.response.status;\n        const backendMessage = error.response.data?.message;\n        \n        if (status === 403) {\n          // Berechtigungsfehler - zeige spezifische Nachricht\n          errorMessage = backendMessage || t('teamWorktime.permissions.insufficientShort');\n        } else if (status === 401) {\n          errorMessage = t('teamWorktime.messages.unauthorized', { defaultValue: 'Nicht autorisiert' });\n        } else if (status === 500) {\n          errorMessage = t('teamWorktime.messages.serverError', { defaultValue: 'Serverfehler' });\n        } else if (backendMessage) {\n          errorMessage = backendMessage;\n        }\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      \n      setError(errorMessage);\n      \n      console.error('Fehlerdetails:', {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        message: error.message\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // Funktion zum Abrufen aller Zeiterfassungen fr ein Datum\n  const fetchAllWorktimes = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axiosInstance.get(`${API_ENDPOINTS.TEAM_WORKTIME.USER_DAY}?date=${selectedDate}`);\n      setAllWorktimes(response.data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Zeiterfassungen:', error);\n      setError(t('teamWorktime.messages.loadWorktimesError'));\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedDate, t]);\n  \n  // Stoppe die Zeiterfassung eines Benutzers\n  const stopUserWorktime = async (userId: number, endTime: string) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await axiosInstance.post(API_ENDPOINTS.TEAM_WORKTIME.STOP_USER, {\n        userId,\n        endTime: new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000)\n      });\n      \n      // Aktualisiere die Liste der aktiven Benutzer\n      fetchActiveUsers();\n    } catch (error) {\n      console.error('Fehler beim Stoppen der Benutzer-Zeiterfassung:', error);\n      setError(t('teamWorktime.messages.stopWorktimeError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Lade aktive Benutzer und Zeiterfassungen beim ersten Rendern\n  useEffect(() => {\n    // Nur API-Calls machen, wenn Berechtigungen vorhanden sind\n    if (!hasRequiredPermissions) {\n      setError(t('teamWorktime.permissions.insufficientDetails'));\n      return;\n    }\n    \n    fetchActiveUsers();\n    fetchAllWorktimes();\n    \n    // Aktualisiere die aktiven Benutzer alle 30 Sekunden\n    const intervalId = setInterval(fetchActiveUsers, 30000) as unknown as number;\n    \n    return () => clearInterval(intervalId);\n  }, [fetchActiveUsers, fetchAllWorktimes, hasRequiredPermissions]);\n\n  // Lade Zeiterfassungen neu, wenn sich das Datum ndert\n  useEffect(() => {\n    fetchAllWorktimes();\n  }, [selectedDate, fetchAllWorktimes]);\n  \n  return (\n    <div className=\"min-h-screen dark:bg-gray-900\">\n      <div className=\"max-w-7xl mx-auto py-0 px-2 -mt-6 sm:-mt-3 lg:-mt-3 sm:px-4 lg:px-6\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n            {/* Header mit Icon */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center pl-2 sm:pl-0\">\n                <UsersIcon className=\"h-6 w-6 text-gray-900 dark:text-white mr-2\" />\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">{t('teamWorktime.title')}</h2>\n              </div>\n            </div>\n            \n            {/* Berechtigungsfehler */}\n            {!hasRequiredPermissions && (\n              <div className=\"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-4\">\n                <p className=\"font-medium mb-2\">{t('teamWorktime.permissions.insufficient')}</p>\n                <ul className=\"list-disc list-inside text-sm space-y-1\">\n                  {!hasPagePermission && (\n                    <li>{t('teamWorktime.permissions.missingPage')}</li>\n                  )}\n                  {!hasTablePermission && (\n                    <li>{t('teamWorktime.permissions.missingTable')}</li>\n                  )}\n                </ul>\n                <p className=\"text-sm mt-2\">{t('teamWorktime.permissions.contactAdmin')}</p>\n              </div>\n            )}\n            \n            {/* Fehlermeldung */}\n            {error && (\n              <div className=\"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-4\">\n                {error}\n              </div>\n            )}\n            \n            {/* Tab-Navigation */}\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-6\">\n              <nav className=\"-mb-px flex space-x-8\">\n                <button\n                  onClick={() => setActiveTab('worktimes')}\n                  className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                    activeTab === 'worktimes'\n                      ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                  }`}\n                >\n                  {t('teamWorktime.tabs.worktimes')}\n                </button>\n                <button\n                  onClick={() => setActiveTab('todos')}\n                  className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                    activeTab === 'todos'\n                      ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                  }`}\n                >\n                  {t('teamWorktime.tabs.todos')}\n                </button>\n                <button\n                  onClick={() => setActiveTab('requests')}\n                  className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                    activeTab === 'requests'\n                      ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                  }`}\n                >\n                  {t('teamWorktime.tabs.requests')}\n                </button>\n              </nav>\n            </div>\n            \n            {/* Tab-Content */}\n            {activeTab === 'worktimes' && (\n              <ActiveUsersList\n                activeUsers={activeUsers}\n                allWorktimes={allWorktimes}\n                loading={loading}\n                selectedDate={selectedDate}\n                onDateChange={setSelectedDate}\n                onStopWorktime={stopUserWorktime}\n                onRefresh={fetchActiveUsers}\n                showTodos={true}\n                showRequests={true}\n              />\n            )}\n            {activeTab === 'todos' && (\n              <TodoAnalyticsTab selectedDate={selectedDate} />\n            )}\n            {activeTab === 'requests' && (\n              <RequestAnalyticsTab selectedDate={selectedDate} />\n            )}\n          </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TeamWorktimeControl; ","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeSlashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeSlashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Squares2X2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Squares2X2Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BuildingOfficeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BuildingOfficeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Bars2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 9h16.5m-16.5 6.75h16.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Bars2Icon);\nexport default ForwardRef;"],"names":["TableCellsIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","ArrowsUpDownIcon","StopIcon","DocumentTextIcon","ChartBarIcon","subDays","date","amount","options","addDays","isOpen","onClose","onConfirm","userName","t","useTranslation","now","Date","formattedDate","format","formattedTime","setDate","useState","time","setTime","loading","setLoading","_jsx","Transition","appear","show","as","Fragment","children","_jsxs","Dialog","className","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","Title","type","onClick","XMarkIcon","htmlFor","value","onChange","e","target","step","disabled","async","endTime","concat","error","console","ArrowPathIcon","CheckIcon","onSave","entries","selectedDate","editedEntries","setEditedEntries","setError","useEffect","length","formattedEntries","map","entry","datePart","startTime","split","startTimePart","substring","endTimePart","_objectSpread","startTimeTime","endTimeTime","isDeleted","isModified","validateEntries","entriesToValidate","activeEntries","filter","i","entry1","start1","end1","j","entry2","start2","end2","reverse","join","scope","colSpan","index","handleStartTimeChange","newEntries","handleEndTimeChange","handleToggleDelete","TrashIcon","updatedEntries","startTimeStr","endTimeStr","Boolean","defaultColumnOrder","defaultCardSortDirections","name","duration","pauseTime","branch","tableToCardMapping","cardToTableMapping","WORKCENTER_TABLE_ID","activeUsers","allWorktimes","onDateChange","onStopWorktime","onRefresh","showTodos","showRequests","availableColumns","useMemo","label","showStopModal","setShowStopModal","showEditModal","setShowEditModal","selectedUser","setSelectedUser","searchTerm","setSearchTerm","sortConfig","setSortConfig","key","direction","isFilterOpen","setIsFilterOpen","draggedColumn","setDraggedColumn","isColumnConfigOpen","setIsColumnConfigOpen","displayLimit","setDisplayLimit","filterConditions","setFilterConditions","filterLogicalOperators","setFilterLogicalOperators","activeFilterName","setActiveFilterName","selectedFilterId","setSelectedFilterId","userTodos","setUserTodos","userRequests","setUserRequests","expandedUsers","setExpandedUsers","Set","loadingTodos","setLoadingTodos","loadingRequests","setLoadingRequests","hasPermission","usePermissions","response","axiosInstance","get","API_ENDPOINTS","TEAM_WORKTIME","ANALYTICS","TODOS_BY_USER","params","todosMap","data","forEach","item","userId","todos","loadUserTodos","REQUESTS_BY_USER","requestsMap","requests","loadUserRequests","toggleExpand","prev","next","has","delete","add","settings","updateColumnOrder","updateHiddenColumns","isColumnVisible","updateViewMode","useTableSettings","defaultHiddenColumns","defaultViewMode","columnOrder","hiddenColumns","viewMode","cardSortDirections","setCardSortDirections","cardMetadataOrder","cardMetadata","tableCol","cardMeta","push","getCardMetadataFromColumnOrder","hiddenCardMetadata","hiddenTableColumns","getHiddenCardMetadata","visibleCardMetadata","meta","document","querySelectorAll","wrapper","classList","remove","handleOpenStopModal","user","handleCloseStopModal","handleOpenEditModal","handleCloseEditModal","handleDragStart","columnId","handleDragOver","useCallback","preventDefault","handleDrop","targetColumnId","newOrder","draggedIndex","indexOf","targetIndex","splice","handleDragEnd","getActiveFilterCount","filteredAndSortedUsers","allEntries","worktime","activeEntry","find","userGroups","reduce","groups","createLocalDate","totalDuration","hasActiveWorktime","group","entryStartTime","entryEndTime","getTime","filtered","values","fullName","firstName","lastName","toLowerCase","username","searchTermLower","includes","columnEvaluators","cond","operator","startsWith","endsWith","branchName","isActive","minDuration","parseInt","tolerance","Math","abs","getFieldValue","applyFilters","sortableColumns","colId","sort","a","b","valueA","valueB","comparison","String","localeCompare","renderSortableHeader","isSorted","handleSort","prevConfig","draggable","onDragStart","onDragOver","onDrop","onDragEnd","token","localStorage","getItem","existingFilters","SAVED_FILTERS","BY_TABLE","headers","Authorization","aktiveFilterExists","some","alleFilterExists","aktiveFilter","tableId","conditions","column","operators","post","BASE","log","alleFilter","createStandardFilters","applyFilterConditions","setInitialFilter","resetFilterConditions","isDateBeforeToday","today","setHours","year","month","day","Number","selected","handlePreviousDay","previousDate","handleNextDay","nextDate","placeholder","Squares2X2Icon","FunnelIcon","style","position","top","right","TableColumnConfig","columns","visibleColumns","Array","from","onToggleColumnVisibility","tableColumn","newHiddenColumns","onMoveColumn","handleMoveColumn","dragIndex","hoverIndex","newCardOrder","dragged","newTableOrder","usedTableColumns","col","newColumnOrder","draggedItem","sortDirections","undefined","onSortDirectionChange","showSortDirection","buttonTitle","modalTitle","FilterPane","onApply","onReset","savedConditions","savedOperators","SavedFilterTags","onSelectFilter","onFilterChange","handleFilterChange","defaultFilterName","slice","totalPauseTime","userTodosData","userRequestsData","isExpanded","hasActivities","total","formatDistanceToNow","locale","de","addSuffix","PencilIcon","completed","open","inProgress","details","todo","status","updatedAt","approved","pending","request","createdAt","CardGrid","gap","metadata","firstRowMetadata","secondRowMetadata","icon","UserIcon","ClockIcon","BuildingOfficeIcon","actions","expandableContent","DataCard","expandable","content","onToggle","prevLimit","StopWorktimeModal","latest","current","latestDate","EditWorktimeModal","entriesToUpdate","entriesToDelete","updatePromises","put","deletePromises","Promise","all","success","worktimeApi","alert","errorMessage","message","TODO_ANALYTICS_TABLE_ID","setTodos","isFilterPanelOpen","setIsFilterPanelOpen","isLoading","isLoadingSettings","toggleColumnVisibility","visibleColumnIds","savedViewMode","setViewMode","expandedTodos","setExpandedTodos","toggleTodoExpand","todoId","frequencyData","setFrequencyData","loadingFrequency","setLoadingFrequency","showFrequencyAnalysis","setShowFrequencyAnalysis","shiftData","setShiftData","loadingShifts","setLoadingShifts","showShiftAnalysis","setShowShiftAnalysis","expandedShifts","setExpandedShifts","condition","branchId","TODOS_CHRONOLOGICAL","fetchTodos","TODOS_FREQUENCY","fetchFrequencyAnalysis","TODOS_SHIFTS","fetchShiftAnalysis","c","getStatusColor","getStatusLabel","done","in_progress","quality_control","improval","filteredTodos","searchLower","responsible","stats","qualityControl","ClipboardDocumentListIcon","newMode","summary","totalTasks","completedTasks","neverCompletedTasks","completionRate","userStats","stat","completedCount","lastCompletedAt","taskStats","neverCompleted","currentStatus","taskId","statusAverages","keys","_ref2","averageHours","toFixed","taskCount","height","round","minHeight","totalShifts","totalTasksInShifts","totalDurationHours","averageDurationHours","shifts","shift","workTimeId","durationHours","linkedTasksCount","toggleShiftExpand","ChevronUpIcon","ChevronDownIcon","linkedTasks","task","tasksWithShifts","shiftCount","hasStatusHistory","statusHistory","historyItem","idx","changedAt","oldStatus","newStatus","section","color","REQUEST_ANALYTICS_TABLE_ID","setRequests","REQUESTS_CHRONOLOGICAL","fetchRequests","approval","denied","to_improve","filteredRequests","requester","r","toImprove","TeamWorktimeControl","hasPagePermission","hasTablePermission","hasRequiredPermissions","setActiveUsers","setAllWorktimes","setSelectedDate","activeTab","setActiveTab","fetchActiveUsers","ACTIVE","_error$response","_error$response2","_error$response3","_error$response$data","backendMessage","defaultValue","statusText","fetchAllWorktimes","USER_DAY","intervalId","setInterval","clearInterval","UsersIcon","ActiveUsersList","STOP_USER","getTimezoneOffset","TodoAnalyticsTab","RequestAnalyticsTab","EyeSlashIcon","Bars2Icon"],"sourceRoot":""}