{"version":3,"file":"static/js/138.56acfaf2.chunk.js","mappings":"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","sources":["components/organization/SMTPConfigurationTab.tsx","../node_modules/@heroicons/react/24/outline/esm/SparklesIcon.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { EnvelopeIcon, CheckIcon, ArrowPathIcon, SparklesIcon } from '@heroicons/react/24/outline';\nimport { organizationService } from '../../services/organizationService.ts';\nimport { Organization } from '../../types/organization.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { API_ENDPOINTS, API_URL } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\n\ninterface Props {\n  organization: Organization | null;\n  onSave?: () => void;\n}\n\nconst SMTPConfigurationTab: React.FC<Props> = ({ organization, onSave }) => {\n  const { t } = useTranslation();\n  const { showMessage } = useMessage();\n  const [loading, setLoading] = useState(false);\n  const [smtpSettings, setSmtpSettings] = useState({\n    smtpHost: '',\n    smtpPort: '587',\n    smtpUser: '',\n    smtpPass: '',\n    smtpFromEmail: '',\n    smtpFromName: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [extractingBranding, setExtractingBranding] = useState(false);\n\n  useEffect(() => {\n    if (organization?.settings) {\n      const settings = organization.settings as any;\n      setSmtpSettings({\n        smtpHost: settings.smtpHost || '',\n        smtpPort: settings.smtpPort?.toString() || '587',\n        smtpUser: settings.smtpUser || '',\n        smtpPass: settings.smtpPass || '',\n        smtpFromEmail: settings.smtpFromEmail || (organization?.domain ? `noreply@${organization.domain}` : ''),\n        smtpFromName: settings.smtpFromName || organization?.displayName || ''\n      });\n    }\n  }, [organization]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setSmtpSettings(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!smtpSettings.smtpHost || !smtpSettings.smtpUser || !smtpSettings.smtpPass) {\n      showMessage(t('organization.smtp.requiredFields'), 'error');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      const settings = {\n        ...(organization?.settings || {}),\n        smtpHost: smtpSettings.smtpHost,\n        smtpPort: parseInt(smtpSettings.smtpPort) || 587,\n        smtpUser: smtpSettings.smtpUser,\n        smtpPass: smtpSettings.smtpPass,\n        smtpFromEmail: smtpSettings.smtpFromEmail,\n        smtpFromName: smtpSettings.smtpFromName\n      };\n\n      await organizationService.updateOrganization({\n        settings: settings\n      });\n      \n      showMessage(t('organization.smtp.saveSuccess'), 'success');\n      if (onSave) {\n        onSave();\n      }\n    } catch (error: any) {\n      const errorMessage = error.response?.data?.message || t('organization.smtp.saveError');\n      showMessage(errorMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClear = () => {\n    setSmtpSettings({\n      smtpHost: '',\n      smtpPort: '587',\n      smtpUser: '',\n      smtpPass: '',\n      smtpFromEmail: organization?.domain ? `noreply@${organization.domain}` : '',\n      smtpFromName: organization?.displayName || ''\n    });\n  };\n\n  const handleExtractBranding = async () => {\n    if (!organization?.logo || organization.logo.trim() === '') {\n      showMessage(t('organization.smtp.branding.noLogo'), 'error');\n      return;\n    }\n\n    try {\n      setExtractingBranding(true);\n      \n      const response = await axiosInstance.post(\n        `${API_URL}${API_ENDPOINTS.SETTINGS.BRANDING_EXTRACT}`\n      );\n\n      if (response.data.testEmailSent) {\n        showMessage(t('organization.smtp.branding.extractSuccess') + ' ' + t('organization.smtp.branding.testEmailSent'), 'success');\n      } else {\n        showMessage(t('organization.smtp.branding.extractSuccess'), 'success');\n      }\n\n      if (onSave) {\n        onSave();\n      }\n    } catch (error: any) {\n      const errorMessage = error.response?.data?.message || t('organization.smtp.branding.extractError');\n      showMessage(errorMessage, 'error');\n    } finally {\n      setExtractingBranding(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <EnvelopeIcon className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n          {t('organization.smtp.title')}\n        </h3>\n      </div>\n\n      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n        {t('organization.smtp.description')}\n      </p>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"smtpHost\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            {t('organization.smtp.host')} <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"smtpHost\"\n            name=\"smtpHost\"\n            value={smtpSettings.smtpHost}\n            onChange={handleChange}\n            placeholder=\"smtp.example.com\"\n            required\n            className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\n          />\n          <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n            {t('organization.smtp.hostHint')}\n          </p>\n        </div>\n\n        <div>\n          <label htmlFor=\"smtpPort\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            {t('organization.smtp.port')} <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"number\"\n            id=\"smtpPort\"\n            name=\"smtpPort\"\n            value={smtpSettings.smtpPort}\n            onChange={handleChange}\n            placeholder=\"587\"\n            required\n            min=\"1\"\n            max=\"65535\"\n            className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\n          />\n          <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n            {t('organization.smtp.portHint')}\n          </p>\n        </div>\n\n        <div>\n          <label htmlFor=\"smtpUser\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            {t('organization.smtp.user')} <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"smtpUser\"\n            name=\"smtpUser\"\n            value={smtpSettings.smtpUser}\n            onChange={handleChange}\n            placeholder=\"noreply@example.com\"\n            required\n            className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\n          />\n          <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n            {t('organization.smtp.userHint')}\n          </p>\n        </div>\n\n        <div>\n          <label htmlFor=\"smtpPass\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            {t('organization.smtp.password')} <span className=\"text-red-500\">*</span>\n          </label>\n          <div className=\"relative\">\n            <input\n              type={showPassword ? 'text' : 'password'}\n              id=\"smtpPass\"\n              name=\"smtpPass\"\n              value={smtpSettings.smtpPass}\n              onChange={handleChange}\n              placeholder=\"••••••••\"\n              required\n              className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2 pr-10\"\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword(!showPassword)}\n              className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\n            >\n              {showPassword ? (\n                <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.29 3.29m0 0L3 3m3.29 3.29L12 12m-5.71-5.71L12 12\" />\n                </svg>\n              ) : (\n                <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                </svg>\n              )}\n            </button>\n          </div>\n          <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n            {t('organization.smtp.passwordHint')}\n          </p>\n        </div>\n\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            {t('organization.smtp.fromSettings')}\n          </h4>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"smtpFromEmail\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                {t('organization.smtp.fromEmail')}\n              </label>\n              <input\n                type=\"email\"\n                id=\"smtpFromEmail\"\n                name=\"smtpFromEmail\"\n                value={smtpSettings.smtpFromEmail}\n                onChange={handleChange}\n                placeholder=\"noreply@example.com\"\n                className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\n              />\n              <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                {t('organization.smtp.fromEmailHint')}\n              </p>\n            </div>\n\n            <div>\n              <label htmlFor=\"smtpFromName\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                {t('organization.smtp.fromName')}\n              </label>\n              <input\n                type=\"text\"\n                id=\"smtpFromName\"\n                name=\"smtpFromName\"\n                value={smtpSettings.smtpFromName}\n                onChange={handleChange}\n                placeholder={organization?.displayName || 'Intranet'}\n                className=\"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white px-3 py-2\"\n              />\n              <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                {t('organization.smtp.fromNameHint')}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4\">\n          <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n            <strong>{t('organization.smtp.infoTitle')}</strong>\n          </p>\n          <ul className=\"mt-2 text-sm text-blue-700 dark:text-blue-300 list-disc list-inside space-y-1\">\n            <li>{t('organization.smtp.info1')}</li>\n            <li>{t('organization.smtp.info2')}</li>\n            <li>{t('organization.smtp.info3')}</li>\n          </ul>\n        </div>\n\n        {/* Corporate Identity Section */}\n        <div className=\"border-t pt-6 mt-6\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <SparklesIcon className=\"h-5 w-5 text-purple-600 dark:text-purple-400\" />\n            <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n              {t('organization.smtp.branding.title')}\n            </h4>\n          </div>\n          \n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n            {t('organization.smtp.branding.description')}\n          </p>\n\n          <button\n            type=\"button\"\n            onClick={handleExtractBranding}\n            disabled={extractingBranding || !organization?.logo || organization.logo.trim() === ''}\n            className=\"w-full sm:w-auto px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:bg-purple-700 dark:hover:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n          >\n            {extractingBranding ? (\n              <>\n                <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\n                <span>{t('organization.smtp.branding.extracting')}</span>\n              </>\n            ) : (\n              <>\n                <SparklesIcon className=\"h-5 w-5\" />\n                <span>{t('organization.smtp.branding.extractButton')}</span>\n              </>\n            )}\n          </button>\n        </div>\n\n        <div className=\"flex justify-end gap-2 pt-4\">\n          <button\n            type=\"button\"\n            onClick={handleClear}\n            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600\"\n            title={t('organization.smtp.clear')}\n          >\n            <ArrowPathIcon className=\"h-5 w-5\" />\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-700 dark:hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed\"\n            title={loading ? t('organization.saving') : t('common.save')}\n          >\n            {loading ? (\n              <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\n            ) : (\n              <CheckIcon className=\"h-5 w-5\" />\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default SMTPConfigurationTab;\n\n","import * as React from \"react\";\nfunction SparklesIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SparklesIcon);\nexport default ForwardRef;"],"names":["_ref","organization","onSave","t","useTranslation","showMessage","useMessage","loading","setLoading","useState","smtpSettings","setSmtpSettings","smtpHost","smtpPort","smtpUser","smtpPass","smtpFromEmail","smtpFromName","showPassword","setShowPassword","extractingBranding","setExtractingBranding","useEffect","settings","_settings$smtpPort","toString","domain","concat","displayName","handleChange","e","name","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","EnvelopeIcon","onSubmit","async","preventDefault","parseInt","organizationService","updateOrganization","error","_error$response","_error$response$data","errorMessage","response","data","message","htmlFor","type","id","onChange","placeholder","required","min","max","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","SparklesIcon","logo","trim","axiosInstance","post","API_URL","API_ENDPOINTS","SETTINGS","BRANDING_EXTRACT","testEmailSent","_error$response2","_error$response2$data","disabled","_Fragment","ArrowPathIcon","handleClear","title","CheckIcon","svgRef","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","ref"],"sourceRoot":""}