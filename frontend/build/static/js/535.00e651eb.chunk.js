"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[535],{637:(e,t,r)=>{r.d(t,{A:()=>s});r(5043);var n=r(579);const s=e=>{let{children:t,columns:r={mobile:1,tablet:1,desktop:1,largeDesktop:1},gap:s="md",className:a=""}=e;const l={sm:"gap-0.5",md:"gap-0.5",lg:"gap-1"}[s];return(0,n.jsx)("div",{className:"flex flex-col ".concat(l," ").concat(a),children:t})}},957:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(5043),s=r(4117),a=r(8224),l=r(2517),i=r(6365),o=r(6896),c=r(579);const d=e=>{let{item:t}=e;const{t:r}=(0,s.Bd)(),[i,d]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),g=(0,n.useRef)(null),h=(0,n.useRef)(null),u=e=>e.replace(/^#+\s+/gm,"").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/!\[([^\]]*)\]\([^)]+\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"").replace(/```[\s\S]*?```/g,"").replace(/`([^`]+)`/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/\b\d{4}-\d{2}-\d{2}_\d{2}h\d{2}_\d{2}\.\w+\b/g,"").replace(/\s+/g," ").trim(),p=u(t.descriptionContent||""),f=(e=>{const t=e.indexOf("\n");if(t>0&&t<150)return e.substring(0,t);if(e.length>150){let t=150;for(let r=150;r>100;r--)if(" "===e[r]||"."===e[r]||","===e[r]||"!"===e[r]||"?"===e[r]){t=r+1;break}return e.substring(0,t)}return e})(p),b=p.length>f.length||p.includes("\n");console.log("DescriptionMetadataItem:",{firstLine:f,fullText:p,hasMoreContent:b,fullTextLength:p.length,firstLineLength:f.length,hasNewline:p.includes("\n"),remainingPlainText:y,remainingMarkdown:v,descriptionContent:t.descriptionContent});const y=b?((e,t)=>{if(!e||!t)return"";const r=e.indexOf(t);if(-1===r){const r=e.indexOf("\n");return r>0?e.substring(r+1).trim():e.length>t.length?e.substring(t.length).trim():""}const n=e.indexOf("\n",r);if(n>0)return e.substring(n+1).trim();const s=r+t.length;return e.length>s?e.substring(s).trim():""})(p,f):"";(0,n.useEffect)((()=>{if(g.current&&p){const e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",e.style.width=g.current.offsetWidth+"px",e.style.whiteSpace="nowrap",e.style.fontSize=window.getComputedStyle(g.current).fontSize,e.style.fontFamily=window.getComputedStyle(g.current).fontFamily,e.textContent=p,document.body.appendChild(e);const t=e.scrollWidth,r=g.current.scrollWidth;x((t>r||b)&&b),document.body.removeChild(e)}}),[p,b]);const v=b?((e,t)=>{if(!e)return"";const r=e.indexOf("\n");if(r>0)return e.substring(r+1).trim();const n=u(e),s=n.indexOf(t);if(s>=0&&n.length>s+t.length){if(n.length-(s+t.length)>0&&e.length>t.length){let r=Math.min(150,e.length);for(let t=r;t>100&&t<e.length;t--)if(" "===e[t]||"."===e[t]||","===e[t]||"\n"===e[t]){r=t+1;break}if(t.length>r){r=t.length;for(let t=r;t<e.length&&t<r+50;t++)if(" "===e[t]||"."===e[t]||","===e[t]||"\n"===e[t]){r=t+1;break}}if(e.length>r)return e.substring(r).trim()}}return""})(t.descriptionContent||"",f):"",w=t.descriptionContent||"",k=/!\[([^\]]*)\]\([^)]+\)/.test(w),j=b&&m;return(0,c.jsxs)("div",{className:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 ".concat(t.className||""),children:[(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[(0,c.jsxs)("span",{ref:h,className:"font-medium mr-1 sm:mr-2 whitespace-nowrap flex-shrink-0",children:[t.label,":"]}),(0,c.jsx)("span",{ref:g,className:"text-gray-900 dark:text-white flex-1 min-w-0 break-words",children:f}),j&&!i&&(0,c.jsx)("button",{onClick:e=>{e.stopPropagation(),d(!0)},className:"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3",title:r("dataCard.expandDescription"),children:(0,c.jsx)(a.A,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8"})}),i&&(0,c.jsx)("button",{onClick:e=>{e.stopPropagation(),d(!1)},className:"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3",title:r("dataCard.collapseDescription"),children:(0,c.jsx)(l.A,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8"})})]}),k&&(0,c.jsx)("div",{className:""===f.trim()?"-mt-6":"mt-2",style:{marginLeft:h.current?"".concat(h.current.offsetWidth+8,"px"):"calc(0.75rem * 5 + 0.5rem)"},children:(0,c.jsx)(o.A,{content:w,showImagePreview:!0,attachmentMetadata:t.attachmentMetadata||[]})}),i&&b&&(()=>{let e="";return y&&""!==y.trim()?e=y:p.length>f.length&&(e=p.substring(f.length).trim()),e&&""!==e.trim()?(0,c.jsx)("div",{className:"mt-1",style:{marginLeft:h.current?"".concat(h.current.offsetWidth+8,"px"):"calc(0.75rem * 5 + 0.5rem)"},children:(0,c.jsx)("div",{className:"dark:text-gray-200 break-words text-gray-900 dark:text-white",children:e.trim()})}):null})()]})},m=e=>{let{title:t,subtitle:r,status:s,metadata:o,actions:m,expandable:x,onClick:g,className:h="",headerClassName:u="",highlightBorder:p=!1,highlightColor:f="green",children:b}=e;const y=p?"border-2 border-".concat(f,"-500 dark:border-").concat(f,"-600"):"border border-gray-300 dark:border-gray-700";return(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg ".concat(y," p-3 sm:p-4 md:p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow ").concat(g?"cursor-pointer":""," w-full overflow-hidden ").concat(h),onClick:g,children:[(0,c.jsxs)("div",{className:"grid items-start gap-4 mb-2 min-w-0",style:{gridTemplateColumns:"1fr auto"},children:[(0,c.jsxs)("div",{className:"min-w-0 pr-2",children:["string"===typeof t?(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white break-words",style:{fontSize:"clamp(0.9375rem, 1.2vw + 0.5rem, 1.25rem)",wordBreak:"break-word",overflowWrap:"break-word"},children:t}):t,r&&(0,c.jsx)("p",{className:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-500 dark:text-gray-400 mt-1 break-words",children:r})]}),(0,c.jsxs)("div",{className:"flex items-start justify-end gap-3 sm:gap-4 flex-nowrap flex-shrink-0 min-w-[220px]",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-1 sm:gap-1.5 flex-shrink-0",children:[o.filter((e=>"main"===e.section||!e.section&&"Angefragt von"===e.label)).length>0&&(0,c.jsx)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap",children:o.filter((e=>"main"===e.section||!e.section&&"Angefragt von"===e.label)).map(((e,t)=>e.descriptionContent?null:(0,c.jsxs)(n.Fragment,{children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsxs)("span",{className:"font-medium mr-1 whitespace-nowrap",children:[e.label,":"]}),(0,c.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(e.value,e.value)})]},t)))}),o.filter((e=>"main-second"===e.section||!e.section&&"Verantwortlicher"===e.label)).length>0&&(0,c.jsx)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap",children:o.filter((e=>"main-second"===e.section||!e.section&&"Verantwortlicher"===e.label)).map(((e,t)=>e.descriptionContent?null:(0,c.jsxs)(n.Fragment,{children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsxs)("span",{className:"font-medium mr-1 whitespace-nowrap",children:[e.label,":"]}),(0,c.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(e.value,e.value)})]},t)))})]}),o.filter((e=>"right-inline"===e.section)).map(((e,t)=>(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-shrink-0 whitespace-nowrap",children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(e.value,e.value)})]},t))),s&&(0,c.jsxs)("div",{className:"flex items-center gap-0.5 sm:gap-1 flex-shrink-0 min-w-0",children:[s.onPreviousClick?(0,c.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),null===(t=s.onPreviousClick)||void 0===t||t.call(s)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0",title:"Vorheriger Status",children:(0,c.jsx)(a.A,{className:"h-6 w-6"})}):null,(0,c.jsx)("span",{className:"px-1.5 sm:px-2 md:px-2.5 py-0.5 sm:py-0.5 md:py-1 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl font-medium rounded-full ".concat(s.color," ").concat(s.className||""," whitespace-nowrap flex-shrink-0"),children:s.label}),s.onNextClick?(0,c.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),null===(t=s.onNextClick)||void 0===t||t.call(s)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0",title:"N\xe4chster Status",children:(0,c.jsx)(i.A,{className:"h-6 w-6"})}):null]})]})]}),o.filter((e=>"right"===e.section)).length>0&&(0,c.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end gap-1 sm:gap-2 mb-3 sm:mb-4 md:mb-5",children:o.filter((e=>"right"===e.section)).map(((e,t)=>{const r=(null!==s&&void 0!==s&&s.onPreviousClick,"w-8 sm:w-10 md:w-12"),n=(null!==s&&void 0!==s&&s.onNextClick,"w-8 sm:w-10 md:w-12");return(0,c.jsxs)("div",{className:"flex items-center gap-1 justify-end",children:[(0,c.jsx)("div",{className:"".concat(r," flex-shrink-0")}),(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-md ".concat(e.className||"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50"," text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl font-medium"),title:e.label||"F\xe4lligkeit",children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsx)("span",{className:e.className||"text-gray-900 dark:text-white",children:(e.value,e.value)})]}),(0,c.jsx)("div",{className:"".concat(n," flex-shrink-0")})]},t)}))}),(o.filter((e=>"full"===e.section&&e.descriptionContent)).length>0||m)&&(0,c.jsxs)("div",{className:"grid items-start gap-3 sm:gap-4 mt-2 sm:mt-2.5 mb-3 sm:mb-4",style:{gridTemplateColumns:"1fr auto"},children:[o.filter((e=>"full"===e.section&&e.descriptionContent)).length>0?(0,c.jsx)("div",{className:"flex-1 min-w-0",children:o.filter((e=>"full"===e.section&&e.descriptionContent)).map(((e,t)=>(0,c.jsx)(d,{item:e},t)))}):(0,c.jsx)("div",{}),m?(0,c.jsx)("div",{className:"flex items-center space-x-2 flex-shrink-0 self-end",onClick:e=>e.stopPropagation(),children:m}):(0,c.jsx)("div",{})]}),o.filter((e=>"full"!==e.section&&"main"!==e.section&&"main-second"!==e.section&&"right-inline"!==e.section)).length>0&&(0,c.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 mb-3 sm:mb-4",children:[o.filter((e=>"left"===e.section)).length>0&&(0,c.jsx)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:o.filter((e=>"left"===e.section)).map(((e,t)=>(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsxs)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:[e.label,":"]}),(0,c.jsx)("span",{className:e.className||"text-gray-900 dark:text-white",children:(e.value,e.value)})]},t)))}),o.filter((e=>{const t=e.section;return"main"!==t&&"main-second"!==t&&"right-inline"!==t&&(!t&&"Angefragt von"!==e.label&&"Verantwortlicher"!==e.label)})).length>0&&(0,c.jsx)("div",{className:"flex flex-col gap-2 sm:gap-2.5",children:o.filter((e=>{const t=e.section;return"main"!==t&&"main-second"!==t&&"right-inline"!==t&&(!t&&"Angefragt von"!==e.label&&"Verantwortlicher"!==e.label)})).map(((e,t)=>e.descriptionContent?(0,c.jsx)(d,{item:e},t):(0,c.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,c.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,c.jsxs)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:[e.label,":"]}),(0,c.jsx)("span",{className:"flex-1 min-w-0 break-words ".concat(e.className||"text-gray-900 dark:text-white"),children:(e.value,e.value)})]},t)))})]}),b&&(0,c.jsx)("div",{className:"mb-4",children:b}),x&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("button",{onClick:e=>{e.stopPropagation(),x.onToggle()},className:"flex items-center justify-between w-full text-left text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[(0,c.jsx)("span",{children:"Details"}),x.isExpanded?(0,c.jsx)(l.A,{className:"h-4 w-4"}):(0,c.jsx)("span",{className:"text-base lg:text-lg xl:text-xl",children:"<"})]}),x.isExpanded&&(0,c.jsx)("div",{className:"mt-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:x.content})]})]})}},2023:(e,t,r)=>{r.d(t,{F:()=>c});var n=r(9379),s=r(5043),a=r(1923);const l=e=>"table_settings_".concat(e),i=async e=>{try{return(await a.A.get("/table-settings/".concat(e))).data}catch(t){console.error("Fehler beim Abrufen der Tabelleneinstellungen vom Server:",t);try{const t=l(e),r=localStorage.getItem(t);if(r)return JSON.parse(r)}catch(r){console.error("Fehler beim Laden aus localStorage:",r)}return{tableId:e,columnOrder:[],hiddenColumns:[]}}},o=async e=>{try{await a.A.post("/table-settings",e);const t=l(e.tableId);localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error("Fehler beim Speichern der Tabelleneinstellungen auf dem Server:",t);try{const t=l(e.tableId);localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error("Fehler beim Speichern im localStorage:",r)}}},c=(e,t)=>{const[r,a]=(0,s.useState)({tableId:e,columnOrder:(null===t||void 0===t?void 0:t.defaultColumnOrder)||[],hiddenColumns:(null===t||void 0===t?void 0:t.defaultHiddenColumns)||[]}),[l,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{let r=!0;return(async()=>{try{c(!0);const n=await i(e);if(!r)return;console.log("Geladene Tabelleneinstellungen vom Server:",n),0===n.columnOrder.length&&null!==t&&void 0!==t&&t.defaultColumnOrder&&(n.columnOrder=t.defaultColumnOrder),!n.viewMode&&null!==t&&void 0!==t&&t.defaultViewMode&&(n.viewMode=t.defaultViewMode),console.log("Finale Tabelleneinstellungen nach Initialisierung:",n),a(n),m(null)}catch(n){if(!r)return;m(n instanceof Error?n:new Error("Fehler beim Laden der Einstellungen")),console.error("Fehler beim Laden der Tabelleneinstellungen:",n)}finally{r&&c(!1)}})(),()=>{r=!1}}),[e]);const x=(0,s.useCallback)((async e=>{try{const t=(0,n.A)((0,n.A)({},r),{},{columnOrder:e});a(t),await o(t)}catch(t){m(t instanceof Error?t:new Error("Fehler beim Speichern der Spaltenreihenfolge")),console.error("Fehler beim Speichern der Spaltenreihenfolge:",t)}}),[r]),g=(0,s.useCallback)((async e=>{try{const t=(0,n.A)((0,n.A)({},r),{},{hiddenColumns:e});a(t),await o(t)}catch(t){m(t instanceof Error?t:new Error("Fehler beim Speichern der versteckten Spalten")),console.error("Fehler beim Speichern der versteckten Spalten:",t)}}),[r]),h=(0,s.useCallback)((async e=>{try{let t;t=r.hiddenColumns.includes(e)?r.hiddenColumns.filter((t=>t!==e)):[...r.hiddenColumns,e];const s=(0,n.A)((0,n.A)({},r),{},{hiddenColumns:t});a(s),await o(s)}catch(t){m(t instanceof Error?t:new Error("Fehler beim \xc4ndern der Spaltenansicht")),console.error("Fehler beim \xc4ndern der Spaltenansicht:",t)}}),[r]),u=(0,s.useCallback)((async e=>{try{const t=(0,n.A)((0,n.A)({},r),{},{viewMode:e});a(t),await o(t)}catch(t){m(t instanceof Error?t:new Error("Fehler beim Speichern des View-Modes")),console.error("Fehler beim Speichern des View-Modes:",t)}}),[r]);return{settings:r,isLoading:l,error:d,updateColumnOrder:x,updateHiddenColumns:g,toggleColumnVisibility:h,isColumnVisible:e=>!r.hiddenColumns.includes(e),updateViewMode:u}}},8897:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(5043),s=r(4117),a=r(7030),l=r(9626),i=r(2311),o=r(9531),c=r(4832),d=r(1909),m=r(9422),x=r(579);const g=e=>{let{id:t,label:r,index:n,isVisible:d,isDragging:m,isOver:g,onDragStart:h,onDragOver:u,onDragEnd:p,onToggleVisibility:f,sortDirection:b,onSortDirectionChange:y,showSortDirection:v=!1,sortOrder:w}=e;const{t:k}=(0,s.Bd)();return(0,x.jsxs)("li",{draggable:!0,onDragStart:()=>h(n),onDragOver:e=>{e.preventDefault(),u(n)},onDragEnd:p,className:"flex items-center justify-between px-2.5 py-2 rounded-md transition-colors duration-150\n        ".concat(m?"opacity-50 bg-gray-100 dark:bg-gray-700":"","\n        ").concat(g?"border-t-2 border-blue-500 dark:border-blue-400":"","\n        ").concat(m||g?"":"hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,x.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,x.jsx)(a.A,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500 cursor-move flex-shrink-0"}),(0,x.jsxs)("span",{className:"text-sm dark:text-gray-300 flex items-center gap-2",children:[v&&void 0!==w&&d&&(0,x.jsx)("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded",children:w}),(0,x.jsx)("span",{children:r})]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[v&&d&&void 0!==b&&y&&(0,x.jsx)("button",{onClick:e=>{e.stopPropagation(),y(t,"asc"===b?"desc":"asc")},className:"inline-flex items-center justify-center p-1.5 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",title:"".concat(k("tableColumn.sortDirection"),": ").concat(k("asc"===b?"tableColumn.ascending":"tableColumn.descending")," (").concat(k("tableColumn.clickToToggle"),")"),children:"asc"===b?(0,x.jsx)(l.A,{className:"h-4 w-4"}):(0,x.jsx)(i.A,{className:"h-4 w-4"})}),(0,x.jsx)("button",{onClick:()=>f(t),className:"inline-flex items-center justify-center p-1.5 rounded-full bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",title:k(d?"tableColumn.hideColumn":"tableColumn.showColumn"),children:d?(0,x.jsx)(o.A,{className:"w-4 h-4 dark:text-gray-300"}):(0,x.jsx)(c.A,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})})]})]})},h=e=>{let{columns:t,visibleColumns:r,columnOrder:a,onToggleColumnVisibility:l,onMoveColumn:i,onClose:o,buttonTitle:c,modalTitle:h,sortDirections:u={},onSortDirectionChange:p,showSortDirection:f=!1}=e;const{t:b}=(0,s.Bd)(),y=c||b("tableColumn.configure"),v=h||b("tableColumn.configure"),[w,k]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[C,S]=(0,n.useState)(null),A=(0,n.useRef)(null),D=[...t].sort(((e,t)=>{const r=a.indexOf(e.id),n=a.indexOf(t.id);return-1===r?1:-1===n?-1:r-n})),O=e=>{N(e),S(e)},E=e=>{S(e)},F=()=>{null!==j&&null!==C&&j!==C&&i(j,C),N(null),S(null)},T=()=>{k(!1),o()};return(0,n.useEffect)((()=>{const e=e=>{A.current&&!A.current.contains(e.target)&&T()};return w&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[w]),(0,x.jsxs)("div",{className:"relative",ref:A,children:[(0,x.jsx)("button",{className:"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",onClick:()=>k(!w),title:y,children:f?(0,x.jsx)(d.A,{className:"w-5 h-5"}):(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 012 10z",clipRule:"evenodd"})})}),w&&(0,x.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-300 dark:border-gray-600",onDragOver:e=>e.preventDefault(),children:[(0,x.jsxs)("div",{className:"px-3 py-2.5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,x.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:v}),(0,x.jsx)("button",{onClick:T,className:"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",title:b("common.close"),children:(0,x.jsx)(m.A,{className:"w-5 h-5"})})]}),(0,x.jsx)("ul",{className:"px-2 py-1 max-h-64 overflow-y-auto",children:D.map(((e,t)=>{const n=D.filter((e=>r.includes(e.id))).findIndex((t=>t.id===e.id))+1,s=r.includes(e.id);return(0,x.jsx)(g,{id:e.id,label:e.label,index:t,isVisible:s,isDragging:j===t,isOver:C===t&&j!==t,onDragStart:O,onDragOver:E,onDragEnd:F,onToggleVisibility:l,sortDirection:f&&s?u[e.id]||"asc":void 0,onSortDirectionChange:f?p:void 0,showSortDirection:f,sortOrder:f&&s?n:void 0},e.id)}))})]})]})}}}]);
//# sourceMappingURL=535.00e651eb.chunk.js.map