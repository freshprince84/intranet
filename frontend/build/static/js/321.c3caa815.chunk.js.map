{"version":3,"file":"static/js/321.c3caa815.chunk.js","mappings":"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","sources":["components/priceAnalysis/OTAListingsTab.tsx","components/priceAnalysis/AnalysisTab.tsx","components/priceAnalysis/PriceRecommendationsTab.tsx","components/priceAnalysis/PricingRulesTab.tsx","pages/PriceAnalysis.tsx","../node_modules/@heroicons/react/24/outline/esm/ArrowPathIcon.js","../node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../node_modules/@heroicons/react/24/outline/esm/MagnifyingGlassIcon.js","../node_modules/@heroicons/react/24/outline/esm/SparklesIcon.js","../node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../node_modules/@heroicons/react/24/outline/esm/PlusIcon.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../node_modules/@heroicons/react/24/outline/esm/CheckIcon.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { useError } from '../../contexts/ErrorContext.tsx';\nimport { useBranch } from '../../contexts/BranchContext.tsx';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport { ArrowPathIcon, MagnifyingGlassIcon } from '@heroicons/react/24/outline';\n\ninterface OTAListing {\n    id: number;\n    branchId: number | null;\n    platform: string;\n    listingId: string;\n    listingUrl: string | null;\n    city: string;\n    country: string | null;\n    roomType: string;\n    roomName: string | null;\n    isActive: boolean;\n    discoveredAt: string;\n    lastScrapedAt: string | null;\n    createdAt: string;\n    updatedAt: string;\n    priceData: OTAPriceData[];\n}\n\ninterface OTAPriceData {\n    id: number;\n    listingId: number;\n    date: string;\n    price: number;\n    currency: string;\n    available: boolean;\n    availableRooms: number | null;\n    scrapedAt: string;\n    source: string | null;\n}\n\nconst OTAListingsTab: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission } = usePermissions();\n    const { showMessage } = useMessage();\n    const errorContext = useError();\n    const { branches, selectedBranch } = useBranch();\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\n    \n    const handleError = errorContext?.handleError || ((err: any) => {\n        console.error(t('common.error', 'Fehler'), err);\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\n        showMessage(errorMessage, 'error');\n    });\n\n    const [listings, setListings] = useState<OTAListing[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [rateShoppingLoading, setRateShoppingLoading] = useState(false);\n    const [discovering, setDiscovering] = useState(false);\n    const [selectedPlatform, setSelectedPlatform] = useState<string>('booking.com');\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    const loadListings = useCallback(async () => {\n        if (!currentBranch) return;\n\n        setLoading(true);\n        try {\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.OTA.LISTINGS, {\n                params: {\n                    branchId: currentBranch.id\n                }\n            });\n            setListings(response.data);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setLoading(false);\n        }\n    }, [currentBranch, handleError]);\n\n    useEffect(() => {\n        if (currentBranch) {\n            loadListings();\n        }\n        \n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, [currentBranch, loadListings]);\n\n    const handleRunRateShopping = useCallback(async () => {\n        if (!currentBranch) {\n            return;\n        }\n\n        if (!hasPermission('price_analysis_run_rate_shopping', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setRateShoppingLoading(true);\n        try {\n            const startDate = new Date();\n            const endDate = new Date();\n            endDate.setMonth(endDate.getMonth() + 3);\n\n            const requestData = {\n                branchId: currentBranch.id,\n                platform: selectedPlatform,\n                startDate: startDate.toISOString().split('T')[0],\n                endDate: endDate.toISOString().split('T')[0]\n            };\n\n            const response = await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.OTA.RATE_SHOPPING, requestData);\n\n            if (response.data?.success) {\n                showMessage(t('priceAnalysis.rateShopping.started', 'Rate Shopping gestartet'), 'success');\n            } else {\n                showMessage(response.data?.message || t('priceAnalysis.rateShopping.started', 'Rate Shopping gestartet'), 'success');\n            }\n            \n            // Lade Listings nach kurzer VerzÃ¶gerung neu\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(() => {\n                loadListings();\n            }, 2000);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setRateShoppingLoading(false);\n        }\n    }, [currentBranch, selectedPlatform, hasPermission, showMessage, t, handleError, loadListings]);\n\n    const handleDiscoverListings = useCallback(async () => {\n        if (!currentBranch) {\n            return;\n        }\n\n        if (!hasPermission('price_analysis_run_rate_shopping', 'write', 'button')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setDiscovering(true);\n        try {\n            const response = await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.OTA.DISCOVER, {\n                branchId: currentBranch.id,\n                platform: selectedPlatform\n            });\n\n            if (response.data?.success) {\n                showMessage(\n                    t('priceAnalysis.discovery.completed', { \n                        count: response.data.listingsFound || 0,\n                        defaultValue: `${response.data.listingsFound || 0} Listings gefunden` \n                    }), \n                    'success'\n                );\n                // Lade Listings neu\n                await loadListings();\n            } else {\n                showMessage(response.data?.message || t('priceAnalysis.discovery.error'), 'error');\n            }\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setDiscovering(false);\n        }\n    }, [currentBranch, selectedPlatform, hasPermission, showMessage, t, handleError, loadListings]);\n\n    if (loading) {\n        return (\n            <div className=\"text-center py-4\">\n                {t('priceAnalysis.loading')}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n            <div className=\"mb-4 flex items-center gap-2\">\n                <select\n                    value={selectedPlatform}\n                    onChange={(e) => setSelectedPlatform(e.target.value)}\n                    className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\n                >\n                    <option value=\"booking.com\">Booking.com</option>\n                    <option value=\"hostelworld.com\">Hostelworld</option>\n                </select>\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleDiscoverListings}\n                        disabled={discovering || !hasPermission('price_analysis_run_rate_shopping', 'write', 'button')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.discovery.discover', 'Listings finden')}\n                    >\n                        <MagnifyingGlassIcon className={`h-5 w-5 ${discovering ? 'animate-pulse' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.discovery.discover', 'Listings finden')}\n                    </div>\n                </div>\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleRunRateShopping}\n                        disabled={rateShoppingLoading || !hasPermission('price_analysis_run_rate_shopping', 'write', 'button')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.rateShopping.run', 'Rate Shopping starten')}\n                    >\n                        <ArrowPathIcon className={`h-5 w-5 ${rateShoppingLoading ? 'animate-spin' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.rateShopping.run', 'Rate Shopping starten')}\n                    </div>\n                </div>\n            </div>\n\n            {listings.length === 0 ? (\n                <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\n                    {t('priceAnalysis.noListings')}\n                </div>\n            ) : (\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                        <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.platform')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('branches.city')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.roomType')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.roomName')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.listingUrl')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.status')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.lastScraped')}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n                            {listings.map((listing) => (\n                                <tr key={listing.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.platform}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.city}{listing.country ? `, ${listing.country}` : ''}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.roomType === 'dorm' ? t('priceAnalysis.dorm', 'Dorm') : t('priceAnalysis.private', 'Privatzimmer')}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.roomName || '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.listingUrl ? (\n                                            <a \n                                                href={listing.listingUrl} \n                                                target=\"_blank\" \n                                                rel=\"noopener noreferrer\"\n                                                className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\"\n                                            >\n                                                {t('common.view')}\n                                            </a>\n                                        ) : '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                                            listing.isActive \n                                                ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' \n                                                : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\n                                        }`}>\n                                            {listing.isActive ? t('priceAnalysis.active') : t('priceAnalysis.inactive')}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {listing.lastScrapedAt\n                                            ? new Date(listing.lastScrapedAt).toLocaleDateString()\n                                            : listing.priceData.length > 0\n                                            ? new Date(listing.priceData[0].scrapedAt).toLocaleDateString()\n                                            : '-'}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default OTAListingsTab;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../../hooks/usePermissions.ts';\nimport useMessage from '../../hooks/useMessage.ts';\nimport { useError } from '../../contexts/ErrorContext.tsx';\nimport { useBranch } from '../../contexts/BranchContext.tsx';\nimport { API_ENDPOINTS } from '../../config/api.ts';\nimport axiosInstance from '../../config/axios.ts';\nimport { PlayIcon } from '@heroicons/react/24/outline';\n\ninterface PriceAnalysis {\n    id: number;\n    branchId: number;\n    analysisDate: string;\n    startDate: string;\n    endDate: string;\n    categoryId: number | null;\n    roomType: string;\n    currentPrice: number | null;\n    averagePrice: number | null;\n    minPrice: number | null;\n    maxPrice: number | null;\n    occupancyRate: number | null;\n    availableRooms: number | null;\n    competitorAvgPrice: number | null;\n    pricePosition: string | null;\n    createdAt: string;\n    updatedAt: string;\n    recommendations: any[];\n}\n\nconst AnalysisTab: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission } = usePermissions();\n    const { showMessage } = useMessage();\n    const errorContext = useError();\n    const { branches, selectedBranch } = useBranch();\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\n    \n    const handleError = errorContext?.handleError || ((err: any) => {\n        console.error(t('common.error', 'Fehler'), err);\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\n        showMessage(errorMessage, 'error');\n    });\n\n    const [analyses, setAnalyses] = useState<PriceAnalysis[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [analyzing, setAnalyzing] = useState(false);\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    const loadAnalyses = useCallback(async () => {\n        if (!currentBranch) return;\n\n        setLoading(true);\n        try {\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.ANALYSES, {\n                params: {\n                    branchId: currentBranch.id\n                }\n            });\n            setAnalyses(response.data);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setLoading(false);\n        }\n    }, [currentBranch, handleError]);\n\n    useEffect(() => {\n        if (currentBranch) {\n            loadAnalyses();\n        }\n        \n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, [currentBranch, loadAnalyses]);\n\n    const handleAnalyze = useCallback(async () => {\n        if (!currentBranch) return;\n\n        if (!hasPermission('price_analysis', 'write', 'page')) {\n            showMessage(t('common.noPermission'), 'error');\n            return;\n        }\n\n        setAnalyzing(true);\n        try {\n            const startDate = new Date();\n            const endDate = new Date();\n            endDate.setMonth(endDate.getMonth() + 3);\n\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.ANALYZE, {\n                branchId: currentBranch.id,\n                startDate: startDate.toISOString().split('T')[0],\n                endDate: endDate.toISOString().split('T')[0]\n            });\n\n            showMessage(t('priceAnalysis.analysis.started', 'Preisanalyse gestartet'), 'success');\n            \n            // Lade Analysen nach kurzer VerzÃ¶gerung neu\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(() => {\n                loadAnalyses();\n            }, 2000);\n        } catch (error: any) {\n            handleError(error);\n        } finally {\n            setAnalyzing(false);\n        }\n    }, [currentBranch, hasPermission, showMessage, t, handleError, loadAnalyses]);\n\n    const formatPrice = (price: number | null): string => {\n        if (price === null) return '-';\n        return new Intl.NumberFormat('de-DE', {\n            style: 'currency',\n            currency: 'COP',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(price);\n    };\n\n    const formatDate = (dateString: string): string => {\n        return new Date(dateString).toLocaleDateString('de-DE');\n    };\n\n    const formatPercent = (value: number | null): string => {\n        if (value === null) return '-';\n        return `${value.toFixed(1)}%`;\n    };\n\n    if (loading) {\n        return (\n            <div className=\"text-center py-4\">\n                {t('priceAnalysis.loading')}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\n            <div className=\"mb-4\">\n                <div className=\"relative group\">\n                    <button\n                        onClick={handleAnalyze}\n                        disabled={analyzing || !hasPermission('price_analysis', 'write', 'page')}\n                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={t('priceAnalysis.analysis.run', 'Preisanalyse starten')}\n                    >\n                        <PlayIcon className={`h-5 w-5 ${analyzing ? 'animate-pulse' : ''}`} />\n                    </button>\n                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\n                        {t('priceAnalysis.analysis.run', 'Preisanalyse starten')}\n                    </div>\n                </div>\n            </div>\n\n            {analyses.length === 0 ? (\n                <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\n                    {t('priceAnalysis.noAnalyses', 'Keine Preisanalysen gefunden')}\n                </div>\n            ) : (\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                        <thead className=\"bg-gray-50 dark:bg-gray-800\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.date', 'Datum')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.categoryId', 'Kategorie')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.roomType', 'Zimmerart')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.currentPrice', 'Aktueller Preis')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.averagePrice', 'Ã Preis')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.minPrice', 'Min')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.maxPrice', 'Max')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.occupancyRate', 'Belegung')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.availableRooms', 'VerfÃ¼gbar')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.competitorPrice', 'Konkurrenz')}\n                                </th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.pricePosition', 'Position')}\n                                </th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\n                                    {t('priceAnalysis.analysis.recommendations', 'Empfehlungen')}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n                            {analyses.map((analysis) => (\n                                <tr key={analysis.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {formatDate(analysis.analysisDate)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.categoryId || '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.roomType === 'dorm' ? t('priceAnalysis.roomType.dorm', 'Dorm') : t('priceAnalysis.roomType.private', 'Privat')}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.currentPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.averagePrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.minPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.maxPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPercent(analysis.occupancyRate)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {analysis.availableRooms ?? '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {formatPrice(analysis.competitorAvgPrice)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                                        {analysis.pricePosition === 'above' && 'â ' + t('priceAnalysis.pricePosition.above', 'Ãber')}\n                                        {analysis.pricePosition === 'below' && 'â ' + t('priceAnalysis.pricePosition.below', 'Unter')}\n                                        {analysis.pricePosition === 'equal' && '= ' + t('priceAnalysis.pricePosition.equal', 'Gleich')}\n                                        {!analysis.pricePosition && '-'}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\n                                        {analysis.recommendations?.length || 0}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AnalysisTab;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Dialog } from '@headlessui/react';\r\nimport { usePermissions } from '../../hooks/usePermissions.ts';\r\nimport useMessage from '../../hooks/useMessage.ts';\r\nimport { useError } from '../../contexts/ErrorContext.tsx';\r\nimport { useBranch } from '../../contexts/BranchContext.tsx';\r\nimport { useSidepane } from '../../contexts/SidepaneContext.tsx';\r\nimport { API_ENDPOINTS } from '../../config/api.ts';\r\nimport axiosInstance from '../../config/axios.ts';\r\nimport { \r\n    SparklesIcon, \r\n    CheckIcon, \r\n    XMarkIcon, \r\n    ArrowRightIcon \r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface PriceRecommendation {\r\n    id: number;\r\n    branchId: number;\r\n    analysisId: number | null;\r\n    date: string;\r\n    categoryId: number | null;\r\n    roomType: string;\r\n    recommendedPrice: number;\r\n    currentPrice: number | null;\r\n    priceChange: number | null;\r\n    priceChangePercent: number | null;\r\n    appliedRules: any;\r\n    reasoning: string | null;\r\n    status: 'pending' | 'approved' | 'applied' | 'rejected';\r\n    appliedAt: string | null;\r\n    appliedBy: number | null;\r\n    approvedAt: string | null;\r\n    approvedBy: number | null;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nconst PriceRecommendationsTab: React.FC = () => {\r\n    const { t } = useTranslation();\r\n    const { hasPermission } = usePermissions();\r\n    const { showMessage } = useMessage();\r\n    const errorContext = useError();\r\n    const { branches, selectedBranch } = useBranch();\r\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\r\n    const { openSidepane, closeSidepane } = useSidepane();\r\n    \r\n    const handleError = errorContext?.handleError || ((err: any) => {\r\n        console.error(t('common.error', 'Fehler'), err);\r\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\r\n        showMessage(errorMessage, 'error');\r\n    });\r\n\r\n    const [recommendations, setRecommendations] = useState<PriceRecommendation[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [statusFilter, setStatusFilter] = useState<string>('pending');\r\n    const [generating, setGenerating] = useState(false);\r\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n    \r\n    // Modal/Sidepane states\r\n    const [rejectModalOpen, setRejectModalOpen] = useState(false);\r\n    const [applyModalOpen, setApplyModalOpen] = useState(false);\r\n    const [selectedRecommendationId, setSelectedRecommendationId] = useState<number | null>(null);\r\n    const [rejectReason, setRejectReason] = useState('');\r\n    const [isMobile, setIsMobile] = useState<boolean>(window.innerWidth < 640);\r\n\r\n    // Ãberwache BildschirmgrÃ¶Ãe\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setIsMobile(window.innerWidth < 640);\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    // Sidepane Ã¶ffnen/schlieÃen basierend auf Modal-Status\r\n    useEffect(() => {\r\n        if (rejectModalOpen || applyModalOpen) {\r\n            openSidepane();\r\n        } else {\r\n            closeSidepane();\r\n        }\r\n        return () => {\r\n            closeSidepane();\r\n        };\r\n    }, [rejectModalOpen, applyModalOpen, openSidepane, closeSidepane]);\r\n\r\n    const loadRecommendations = useCallback(async () => {\r\n        if (!currentBranch) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.BASE, {\r\n                params: {\r\n                    branchId: currentBranch.id,\r\n                    status: statusFilter || undefined\r\n                }\r\n            });\r\n            setRecommendations(response.data);\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [currentBranch, statusFilter, handleError]);\r\n\r\n    useEffect(() => {\r\n        if (currentBranch) {\r\n            loadRecommendations();\r\n        }\r\n        \r\n        return () => {\r\n            if (timeoutRef.current) {\r\n                clearTimeout(timeoutRef.current);\r\n            }\r\n        };\r\n    }, [currentBranch, statusFilter, loadRecommendations]);\r\n\r\n    const handleGenerateRecommendations = useCallback(async () => {\r\n        if (!currentBranch) return;\r\n\r\n        if (!hasPermission('price_analysis', 'write', 'page')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n\r\n        setGenerating(true);\r\n        try {\r\n            const startDate = new Date();\r\n            const endDate = new Date();\r\n            endDate.setMonth(endDate.getMonth() + 3);\r\n\r\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.GENERATE, {\r\n                branchId: currentBranch.id,\r\n                startDate: startDate.toISOString().split('T')[0],\r\n                endDate: endDate.toISOString().split('T')[0]\r\n            });\r\n\r\n            showMessage(t('priceAnalysis.recommendations.generated', 'Preisempfehlungen generiert'), 'success');\r\n            \r\n            if (timeoutRef.current) {\r\n                clearTimeout(timeoutRef.current);\r\n            }\r\n            timeoutRef.current = setTimeout(() => {\r\n                loadRecommendations();\r\n            }, 2000);\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        } finally {\r\n            setGenerating(false);\r\n        }\r\n    }, [currentBranch, hasPermission, showMessage, t, handleError, loadRecommendations]);\r\n\r\n    const handleApprove = useCallback(async (recommendationId: number) => {\r\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.APPROVE(recommendationId));\r\n            showMessage(t('priceAnalysis.recommendations.approved', 'Empfehlung genehmigt'), 'success');\r\n            loadRecommendations();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [hasPermission, showMessage, t, handleError, loadRecommendations]);\r\n\r\n    const openRejectModal = useCallback((recommendationId: number) => {\r\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n        setSelectedRecommendationId(recommendationId);\r\n        setRejectReason('');\r\n        setRejectModalOpen(true);\r\n    }, [hasPermission, showMessage, t]);\r\n\r\n    const handleReject = useCallback(async () => {\r\n        if (!selectedRecommendationId) return;\r\n\r\n        try {\r\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.REJECT(selectedRecommendationId), {\r\n                reason: rejectReason || undefined\r\n            });\r\n            showMessage(t('priceAnalysis.recommendations.rejected', 'Empfehlung abgelehnt'), 'success');\r\n            setRejectModalOpen(false);\r\n            setSelectedRecommendationId(null);\r\n            setRejectReason('');\r\n            loadRecommendations();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [selectedRecommendationId, rejectReason, showMessage, t, handleError, loadRecommendations]);\r\n\r\n    const openApplyModal = useCallback((recommendationId: number) => {\r\n        if (!hasPermission('price_analysis_apply_recommendation', 'write', 'button')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n        setSelectedRecommendationId(recommendationId);\r\n        setApplyModalOpen(true);\r\n    }, [hasPermission, showMessage, t]);\r\n\r\n    const handleApply = useCallback(async () => {\r\n        if (!selectedRecommendationId) return;\r\n\r\n        try {\r\n            await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RECOMMENDATIONS.APPLY(selectedRecommendationId));\r\n            showMessage(t('priceAnalysis.recommendations.applied', 'Empfehlung angewendet'), 'success');\r\n            setApplyModalOpen(false);\r\n            setSelectedRecommendationId(null);\r\n            loadRecommendations();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [selectedRecommendationId, showMessage, t, handleError, loadRecommendations]);\r\n\r\n    const formatPrice = (price: number | null): string => {\r\n        if (price === null) return '-';\r\n        return new Intl.NumberFormat('de-DE', {\r\n            style: 'currency',\r\n            currency: 'COP',\r\n            minimumFractionDigits: 0,\r\n            maximumFractionDigits: 0\r\n        }).format(price);\r\n    };\r\n\r\n    const formatDate = (dateString: string): string => {\r\n        return new Date(dateString).toLocaleDateString('de-DE');\r\n    };\r\n\r\n    const formatPercent = (value: number | null): string => {\r\n        if (value === null) return '-';\r\n        const sign = value >= 0 ? '+' : '';\r\n        return `${sign}${value.toFixed(1)}%`;\r\n    };\r\n\r\n    const getStatusColor = (status: string): string => {\r\n        switch (status) {\r\n            case 'pending': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\r\n            case 'approved': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\r\n            case 'applied': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n            case 'rejected': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\r\n            default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n        }\r\n    };\r\n\r\n    const getStatusText = (status: string): string => {\r\n        switch (status) {\r\n            case 'pending': return t('priceAnalysis.recommendations.status.pending', 'Ausstehend');\r\n            case 'approved': return t('priceAnalysis.recommendations.status.approved', 'Genehmigt');\r\n            case 'applied': return t('priceAnalysis.recommendations.status.applied', 'Angewendet');\r\n            case 'rejected': return t('priceAnalysis.recommendations.status.rejected', 'Abgelehnt');\r\n            default: return status;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"text-center py-4\">\r\n                {t('priceAnalysis.loading')}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\r\n                <div className=\"mb-4 flex items-center gap-2 flex-wrap\">\r\n                    <div className=\"relative group\">\r\n                        <button\r\n                            onClick={handleGenerateRecommendations}\r\n                            disabled={generating || !hasPermission('price_analysis', 'write', 'page')}\r\n                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            title={t('priceAnalysis.recommendations.generate', 'Empfehlungen generieren')}\r\n                        >\r\n                            <SparklesIcon className={`h-5 w-5 ${generating ? 'animate-pulse' : ''}`} />\r\n                        </button>\r\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                            {t('priceAnalysis.recommendations.generate', 'Empfehlungen generieren')}\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <select\r\n                        value={statusFilter}\r\n                        onChange={(e) => setStatusFilter(e.target.value)}\r\n                        className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\r\n                    >\r\n                        <option value=\"\">{t('priceAnalysis.recommendations.allStatuses', 'Alle Status')}</option>\r\n                        <option value=\"pending\">{t('priceAnalysis.recommendations.status.pending', 'Ausstehend')}</option>\r\n                        <option value=\"approved\">{t('priceAnalysis.recommendations.status.approved', 'Genehmigt')}</option>\r\n                        <option value=\"applied\">{t('priceAnalysis.recommendations.status.applied', 'Angewendet')}</option>\r\n                        <option value=\"rejected\">{t('priceAnalysis.recommendations.status.rejected', 'Abgelehnt')}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {recommendations.length === 0 ? (\r\n                    <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\r\n                        {t('priceAnalysis.recommendations.noRecommendations', 'Keine Preisempfehlungen gefunden')}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n                                <tr>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.date', 'Datum')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.categoryId', 'Kategorie')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.roomType', 'Zimmerart')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.currentPrice', 'Aktueller Preis')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.recommendedPrice', 'Empfohlener Preis')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.change', 'Ãnderung')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.reasoning', 'BegrÃ¼ndung')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.recommendations.status', 'Status')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('common.actions', 'Aktionen')}\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                                {recommendations.map((recommendation) => (\r\n                                    <tr key={recommendation.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {formatDate(recommendation.date)}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {recommendation.categoryId || '-'}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {recommendation.roomType === 'dorm' ? t('priceAnalysis.roomType.dorm', 'Dorm') : t('priceAnalysis.roomType.private', 'Privat')}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\r\n                                            {formatPrice(recommendation.currentPrice)}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white text-right\">\r\n                                            {formatPrice(recommendation.recommendedPrice)}\r\n                                        </td>\r\n                                        <td className={`px-6 py-4 whitespace-nowrap text-sm text-right ${\r\n                                            (recommendation.priceChangePercent || 0) >= 0 \r\n                                                ? 'text-green-600 dark:text-green-400' \r\n                                                : 'text-red-600 dark:text-red-400'\r\n                                        }`}>\r\n                                            {formatPercent(recommendation.priceChangePercent)}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs\">\r\n                                            <div className=\"truncate\" title={recommendation.reasoning || ''}>\r\n                                                {recommendation.reasoning || '-'}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(recommendation.status)}`}>\r\n                                                {getStatusText(recommendation.status)}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                {recommendation.status === 'pending' && (\r\n                                                    <>\r\n                                                        <div className=\"relative group\">\r\n                                                            <button\r\n                                                                onClick={() => handleApprove(recommendation.id)}\r\n                                                                disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\r\n                                                                className=\"p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                                title={t('priceAnalysis.recommendations.approve', 'Genehmigen')}\r\n                                                            >\r\n                                                                <CheckIcon className=\"h-4 w-4\" />\r\n                                                            </button>\r\n                                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                                {t('priceAnalysis.recommendations.approve', 'Genehmigen')}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"relative group\">\r\n                                                            <button\r\n                                                                onClick={() => openRejectModal(recommendation.id)}\r\n                                                                disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\r\n                                                                className=\"p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                                title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                                            >\r\n                                                                <XMarkIcon className=\"h-4 w-4\" />\r\n                                                            </button>\r\n                                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                                {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </>\r\n                                                )}\r\n                                                {recommendation.status === 'approved' && (\r\n                                                    <div className=\"relative group\">\r\n                                                        <button\r\n                                                            onClick={() => openApplyModal(recommendation.id)}\r\n                                                            disabled={!hasPermission('price_analysis_apply_recommendation', 'write', 'button')}\r\n                                                            className=\"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                            title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                                        >\r\n                                                            <ArrowRightIcon className=\"h-4 w-4\" />\r\n                                                        </button>\r\n                                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                            {t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Reject Modal/Sidepane */}\r\n            {rejectModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={rejectModalOpen} onClose={() => setRejectModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\r\n                                    <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                                        <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                                            {t('priceAnalysis.recommendations.reject', 'Empfehlung ablehnen')}\r\n                                        </Dialog.Title>\r\n                                        <button\r\n                                            onClick={() => setRejectModalOpen(false)}\r\n                                            className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                                        >\r\n                                            <XMarkIcon className=\"h-6 w-6\" />\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"p-6\">\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.recommendations.rejectReason', 'Grund fÃ¼r Ablehnung (optional):')}\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={rejectReason}\r\n                                            onChange={(e) => setRejectReason(e.target.value)}\r\n                                            rows={4}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                            placeholder={t('priceAnalysis.recommendations.rejectReasonPlaceholder', 'Grund eingeben...')}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n                                        <div className=\"relative group\">\r\n                                            <button\r\n                                                onClick={() => setRejectModalOpen(false)}\r\n                                                className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                                title={t('common.cancel', 'Abbrechen')}\r\n                                            >\r\n                                                <XMarkIcon className=\"h-5 w-5\" />\r\n                                            </button>\r\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                {t('common.cancel', 'Abbrechen')}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"relative group\">\r\n                                            <button\r\n                                                onClick={handleReject}\r\n                                                className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                                title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                            >\r\n                                                <XMarkIcon className=\"h-5 w-5\" />\r\n                                            </button>\r\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Dialog.Panel>\r\n                            </div>\r\n                        </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: rejectModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: rejectModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {t('priceAnalysis.recommendations.reject', 'Empfehlung ablehnen')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setRejectModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.recommendations.rejectReason', 'Grund fÃ¼r Ablehnung (optional):')}\r\n                                </label>\r\n                                <textarea\r\n                                    value={rejectReason}\r\n                                    onChange={(e) => setRejectReason(e.target.value)}\r\n                                    rows={4}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                    placeholder={t('priceAnalysis.recommendations.rejectReasonPlaceholder', 'Grund eingeben...')}\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={() => setRejectModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={handleReject}\r\n                                        className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('priceAnalysis.recommendations.reject', 'Ablehnen')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* Apply Modal/Sidepane */}\r\n            {applyModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={applyModalOpen} onClose={() => setApplyModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\r\n                                    <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                                        <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                                            {t('priceAnalysis.recommendations.applyConfirm', 'Empfehlung anwenden')}\r\n                                        </Dialog.Title>\r\n                                        <button\r\n                                            onClick={() => setApplyModalOpen(false)}\r\n                                            className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                                        >\r\n                                            <XMarkIcon className=\"h-6 w-6\" />\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"p-6\">\r\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                            {t('priceAnalysis.recommendations.applyConfirmText', 'MÃ¶chten Sie diese Empfehlung wirklich anwenden?')}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n                                        <div className=\"relative group\">\r\n                                            <button\r\n                                                onClick={() => setApplyModalOpen(false)}\r\n                                                className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                                title={t('common.cancel', 'Abbrechen')}\r\n                                            >\r\n                                                <XMarkIcon className=\"h-5 w-5\" />\r\n                                            </button>\r\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                {t('common.cancel', 'Abbrechen')}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"relative group\">\r\n                                            <button\r\n                                                onClick={handleApply}\r\n                                                className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                                title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                            >\r\n                                                <CheckIcon className=\"h-5 w-5\" />\r\n                                            </button>\r\n                                            <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                {t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Dialog.Panel>\r\n                            </div>\r\n                        </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: applyModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: applyModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {t('priceAnalysis.recommendations.applyConfirm', 'Empfehlung anwenden')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setApplyModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\r\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                    {t('priceAnalysis.recommendations.applyConfirmText', 'MÃ¶chten Sie diese Empfehlung wirklich anwenden?')}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={() => setApplyModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={handleApply}\r\n                                        className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                    >\r\n                                        <CheckIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('priceAnalysis.recommendations.apply', 'Anwenden')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PriceRecommendationsTab;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Dialog } from '@headlessui/react';\r\nimport { usePermissions } from '../../hooks/usePermissions.ts';\r\nimport useMessage from '../../hooks/useMessage.ts';\r\nimport { useError } from '../../contexts/ErrorContext.tsx';\r\nimport { useBranch } from '../../contexts/BranchContext.tsx';\r\nimport { useSidepane } from '../../contexts/SidepaneContext.tsx';\r\nimport { API_ENDPOINTS } from '../../config/api.ts';\r\nimport axiosInstance from '../../config/axios.ts';\r\nimport { \r\n    PlusIcon, \r\n    PencilIcon, \r\n    TrashIcon, \r\n    XMarkIcon, \r\n    CheckIcon \r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface PricingRule {\r\n    id: number;\r\n    branchId: number;\r\n    name: string;\r\n    description: string | null;\r\n    conditions: any;\r\n    action: any;\r\n    roomTypes: any;\r\n    categoryIds: any;\r\n    priority: number;\r\n    isActive: boolean;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n    createdBy: number | null;\r\n    createdByUser: {\r\n        id: number;\r\n        firstName: string | null;\r\n        lastName: string | null;\r\n        username: string;\r\n    } | null;\r\n}\r\n\r\nconst PricingRulesTab: React.FC = () => {\r\n    const { t } = useTranslation();\r\n    const { hasPermission } = usePermissions();\r\n    const { showMessage } = useMessage();\r\n    const errorContext = useError();\r\n    const { branches, selectedBranch } = useBranch();\r\n    const currentBranch = branches.find(b => b.id === selectedBranch) || null;\r\n    const { openSidepane, closeSidepane } = useSidepane();\r\n    \r\n    const handleError = errorContext?.handleError || ((err: any) => {\r\n        console.error(t('common.error', 'Fehler'), err);\r\n        const errorMessage = err?.response?.data?.message || err?.message || t('common.errorOccurred', 'Ein Fehler ist aufgetreten');\r\n        showMessage(errorMessage, 'error');\r\n    });\r\n\r\n    const [rules, setRules] = useState<PricingRule[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n    const [isMobile, setIsMobile] = useState<boolean>(window.innerWidth < 640);\r\n\r\n    // Ãberwache BildschirmgrÃ¶Ãe\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setIsMobile(window.innerWidth < 640);\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    // Sidepane Ã¶ffnen/schlieÃen basierend auf Modal-Status\r\n    useEffect(() => {\r\n        if (isModalOpen || deleteModalOpen) {\r\n            openSidepane();\r\n        } else {\r\n            closeSidepane();\r\n        }\r\n        return () => {\r\n            closeSidepane();\r\n        };\r\n    }, [isModalOpen, deleteModalOpen, openSidepane, closeSidepane]);\r\n    const [editingRule, setEditingRule] = useState<PricingRule | null>(null);\r\n    const [ruleToDelete, setRuleToDelete] = useState<number | null>(null);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        priority: 0,\r\n        isActive: true,\r\n        conditions: JSON.stringify({ occupancyRate: { operator: '>', value: 80 } }, null, 2),\r\n        action: JSON.stringify({ type: 'increase', value: 15, maxChange: 30, minPrice: 40000, maxPrice: 80000, cumulative: true }, null, 2),\r\n        roomTypes: '',\r\n        categoryIds: ''\r\n    });\r\n\r\n    const loadRules = useCallback(async () => {\r\n        if (!currentBranch) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const response = await axiosInstance.get(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BASE, {\r\n                params: {\r\n                    branchId: currentBranch.id\r\n                }\r\n            });\r\n            setRules(response.data);\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [currentBranch, handleError]);\r\n\r\n    useEffect(() => {\r\n        if (currentBranch) {\r\n            loadRules();\r\n        }\r\n    }, [currentBranch, loadRules]);\r\n\r\n    const handleCreate = useCallback(() => {\r\n        setEditingRule(null);\r\n        setFormData({\r\n            name: '',\r\n            description: '',\r\n            priority: 0,\r\n            isActive: true,\r\n            conditions: JSON.stringify({ occupancyRate: { operator: '>', value: 80 } }, null, 2),\r\n            action: JSON.stringify({ type: 'increase', value: 15, maxChange: 30, minPrice: 40000, maxPrice: 80000, cumulative: true }, null, 2),\r\n            roomTypes: '',\r\n            categoryIds: ''\r\n        });\r\n        setIsModalOpen(true);\r\n    }, []);\r\n\r\n    const handleEdit = useCallback((rule: PricingRule) => {\r\n        setEditingRule(rule);\r\n        setFormData({\r\n            name: rule.name,\r\n            description: rule.description || '',\r\n            priority: rule.priority,\r\n            isActive: rule.isActive,\r\n            conditions: JSON.stringify(rule.conditions, null, 2),\r\n            action: JSON.stringify(rule.action, null, 2),\r\n            roomTypes: rule.roomTypes ? JSON.stringify(rule.roomTypes) : '',\r\n            categoryIds: rule.categoryIds ? JSON.stringify(rule.categoryIds) : ''\r\n        });\r\n        setIsModalOpen(true);\r\n    }, []);\r\n\r\n    const openDeleteModal = useCallback((ruleId: number) => {\r\n        if (!hasPermission('price_analysis_delete_rule', 'write', 'button')) {\r\n            showMessage(t('common.noPermission'), 'error');\r\n            return;\r\n        }\r\n        setRuleToDelete(ruleId);\r\n        setDeleteModalOpen(true);\r\n    }, [hasPermission, showMessage, t]);\r\n\r\n    const handleDelete = useCallback(async () => {\r\n        if (!ruleToDelete) return;\r\n\r\n        try {\r\n            await axiosInstance.delete(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BY_ID(ruleToDelete));\r\n            showMessage(t('priceAnalysis.rules.deleted', 'Regel gelÃ¶scht'), 'success');\r\n            setDeleteModalOpen(false);\r\n            setRuleToDelete(null);\r\n            loadRules();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [ruleToDelete, showMessage, t, handleError, loadRules]);\r\n\r\n    const handleSubmit = useCallback(async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!currentBranch) return;\r\n\r\n        try {\r\n            let conditions, action, roomTypes, categoryIds;\r\n\r\n            // Parse JSON\r\n            try {\r\n                conditions = JSON.parse(formData.conditions);\r\n                action = JSON.parse(formData.action);\r\n                roomTypes = formData.roomTypes ? JSON.parse(formData.roomTypes) : null;\r\n                categoryIds = formData.categoryIds ? JSON.parse(formData.categoryIds) : null;\r\n            } catch (error) {\r\n                showMessage(t('priceAnalysis.rules.invalidJson', 'UngÃ¼ltiges JSON-Format'), 'error');\r\n                return;\r\n            }\r\n\r\n            const payload = {\r\n                branchId: currentBranch.id,\r\n                name: formData.name,\r\n                description: formData.description || null,\r\n                conditions,\r\n                action,\r\n                roomTypes,\r\n                categoryIds,\r\n                priority: formData.priority,\r\n                isActive: formData.isActive\r\n            };\r\n\r\n            if (editingRule) {\r\n                await axiosInstance.put(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BY_ID(editingRule.id), payload);\r\n                showMessage(t('priceAnalysis.rules.updated', 'Regel aktualisiert'), 'success');\r\n            } else {\r\n                await axiosInstance.post(API_ENDPOINTS.PRICE_ANALYSIS.RULES.BASE, payload);\r\n                showMessage(t('priceAnalysis.rules.created', 'Regel erstellt'), 'success');\r\n            }\r\n\r\n            setIsModalOpen(false);\r\n            loadRules();\r\n        } catch (error: any) {\r\n            handleError(error);\r\n        }\r\n    }, [currentBranch, formData, editingRule, showMessage, t, handleError, loadRules]);\r\n\r\n    const formatDate = (dateString: string): string => {\r\n        return new Date(dateString).toLocaleDateString('de-DE');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"text-center py-4\">\r\n                {t('priceAnalysis.loading')}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bg-white rounded-lg border border-gray-300 dark:border-gray-700 p-6\">\r\n                <div className=\"mb-4\">\r\n                    <div className=\"relative group\">\r\n                        <button\r\n                            onClick={handleCreate}\r\n                            disabled={!hasPermission('price_analysis_create_rule', 'write', 'button')}\r\n                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            title={t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                        >\r\n                            <PlusIcon className=\"h-5 w-5\" />\r\n                        </button>\r\n                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                            {t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {rules.length === 0 ? (\r\n                    <div className=\"text-center py-4 text-gray-600 dark:text-gray-400\">\r\n                        {t('priceAnalysis.rules.noRules', 'Keine Preisregeln gefunden')}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n                                <tr>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.name', 'Name')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.status', 'Status')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.createdBy', 'Erstellt von')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('priceAnalysis.rules.createdAt', 'Erstellt am')}\r\n                                    </th>\r\n                                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400\">\r\n                                        {t('common.actions', 'Aktionen')}\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                                {rules.map((rule) => (\r\n                                    <tr key={rule.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.name}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.description || '-'}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right\">\r\n                                            {rule.priority}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                                                rule.isActive \r\n                                                    ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' \r\n                                                    : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\r\n                                            }`}>\r\n                                                {rule.isActive ? t('priceAnalysis.active', 'Aktiv') : t('priceAnalysis.inactive', 'Inaktiv')}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {rule.createdByUser \r\n                                                ? `${rule.createdByUser.firstName || ''} ${rule.createdByUser.lastName || ''}`.trim() || rule.createdByUser.username\r\n                                                : '-'\r\n                                            }\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            {formatDate(rule.createdAt)}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <div className=\"relative group\">\r\n                                                    <button\r\n                                                        onClick={() => handleEdit(rule)}\r\n                                                        disabled={!hasPermission('price_analysis_edit_rule', 'write', 'button')}\r\n                                                        className=\"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                        title={t('common.edit', 'Bearbeiten')}\r\n                                                    >\r\n                                                        <PencilIcon className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                        {t('common.edit', 'Bearbeiten')}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"relative group\">\r\n                                                    <button\r\n                                                        onClick={() => openDeleteModal(rule.id)}\r\n                                                        disabled={!hasPermission('price_analysis_delete_rule', 'write', 'button')}\r\n                                                        className=\"p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                        title={t('common.delete', 'LÃ¶schen')}\r\n                                                    >\r\n                                                        <TrashIcon className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                                        {t('common.delete', 'LÃ¶schen')}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Create/Edit Modal/Sidepane */}\r\n            {isModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={isModalOpen} onClose={() => setIsModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-4xl w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl max-h-[90vh] overflow-y-auto\">\r\n                        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                            <Dialog.Title className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n                                {editingRule ? t('priceAnalysis.rules.edit', 'Regel bearbeiten') : t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                            </Dialog.Title>\r\n                            <button\r\n                                onClick={() => setIsModalOpen(false)}\r\n                                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                            >\r\n                                <XMarkIcon className=\"h-6 w-6\" />\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.name', 'Name')} *\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.name}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.description}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white min-h-[60px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                </label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={formData.priority}\r\n                                    onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) || 0 })}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={formData.isActive}\r\n                                    onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\r\n                                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                />\r\n                                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                                    {t('priceAnalysis.rules.isActive', 'Aktiv')}\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.conditions', 'Bedingungen')} (JSON) *\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.conditions}\r\n                                    onChange={(e) => setFormData({ ...formData, conditions: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.action', 'Aktion')} (JSON) *\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.action}\r\n                                    onChange={(e) => setFormData({ ...formData, action: e.target.value })}\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.roomTypes', 'Zimmerarten')} (JSON, optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.roomTypes}\r\n                                    onChange={(e) => setFormData({ ...formData, roomTypes: e.target.value })}\r\n                                    placeholder='[\"dorm\", \"private\"] oder leer fÃ¼r alle'\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                    {t('priceAnalysis.rules.categoryIds', 'Kategorie-IDs')} (JSON, optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.categoryIds}\r\n                                    onChange={(e) => setFormData({ ...formData, categoryIds: e.target.value })}\r\n                                    placeholder='[34280, 34281] oder leer fÃ¼r alle'\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end gap-2 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => setIsModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.save', 'Speichern')}\r\n                                    >\r\n                                        <CheckIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.save', 'Speichern')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                                </form>\r\n                            </Dialog.Panel>\r\n                        </div>\r\n                    </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: isModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: isModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {editingRule ? t('priceAnalysis.rules.edit', 'Regel bearbeiten') : t('priceAnalysis.rules.create', 'Neue Regel erstellen')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 min-h-0\">\r\n                                <div className=\"flex-1 overflow-y-auto min-h-0 p-4 space-y-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.name', 'Name')} *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.name}\r\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.description', 'Beschreibung')}\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.description}\r\n                                            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white min-h-[60px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.priority', 'PrioritÃ¤t')}\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={formData.priority}\r\n                                            onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) || 0 })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={formData.isActive}\r\n                                            onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\r\n                                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                        />\r\n                                        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                                            {t('priceAnalysis.rules.isActive', 'Aktiv')}\r\n                                        </label>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.conditions', 'Bedingungen')} (JSON) *\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.conditions}\r\n                                            onChange={(e) => setFormData({ ...formData, conditions: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.action', 'Aktion')} (JSON) *\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={formData.action}\r\n                                            onChange={(e) => setFormData({ ...formData, action: e.target.value })}\r\n                                            required\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono min-h-[100px]\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.roomTypes', 'Zimmerarten')} (JSON, optional)\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.roomTypes}\r\n                                            onChange={(e) => setFormData({ ...formData, roomTypes: e.target.value })}\r\n                                            placeholder='[\"dorm\", \"private\"] oder leer fÃ¼r alle'\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                                            {t('priceAnalysis.rules.categoryIds', 'Kategorie-IDs')} (JSON, optional)\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.categoryIds}\r\n                                            onChange={(e) => setFormData({ ...formData, categoryIds: e.target.value })}\r\n                                            placeholder='[34280, 34281] oder leer fÃ¼r alle'\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                    <div className=\"relative group\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setIsModalOpen(false)}\r\n                                            className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                            title={t('common.cancel', 'Abbrechen')}\r\n                                        >\r\n                                            <XMarkIcon className=\"h-5 w-5\" />\r\n                                        </button>\r\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                            {t('common.cancel', 'Abbrechen')}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"relative group\">\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            className=\"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                            title={t('common.save', 'Speichern')}\r\n                                        >\r\n                                            <CheckIcon className=\"h-5 w-5\" />\r\n                                        </button>\r\n                                        <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                            {t('common.save', 'Speichern')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* Delete Confirmation Modal/Sidepane */}\r\n            {deleteModalOpen && (\r\n                <>\r\n                    {isMobile ? (\r\n                        <Dialog open={deleteModalOpen} onClose={() => setDeleteModalOpen(false)} className=\"relative z-50\">\r\n                            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n                            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n                                <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl\">\r\n                        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                            <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                                {t('priceAnalysis.rules.deleteConfirm', 'Regel lÃ¶schen')}\r\n                            </Dialog.Title>\r\n                            <button\r\n                                onClick={() => setDeleteModalOpen(false)}\r\n                                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\r\n                            >\r\n                                <XMarkIcon className=\"h-6 w-6\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                {t('priceAnalysis.rules.deleteConfirmText', 'MÃ¶chten Sie diese Regel wirklich lÃ¶schen?')}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex justify-end gap-2 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n                            <div className=\"relative group\">\r\n                                <button\r\n                                    onClick={() => setDeleteModalOpen(false)}\r\n                                    className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                    title={t('common.cancel', 'Abbrechen')}\r\n                                >\r\n                                    <XMarkIcon className=\"h-5 w-5\" />\r\n                                </button>\r\n                                <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                    {t('common.cancel', 'Abbrechen')}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"relative group\">\r\n                                <button\r\n                                    onClick={handleDelete}\r\n                                    className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                    title={t('common.delete', 'LÃ¶schen')}\r\n                                >\r\n                                    <TrashIcon className=\"h-5 w-5\" />\r\n                                </button>\r\n                                <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                    {t('common.delete', 'LÃ¶schen')}\r\n                                </div>\r\n                            </div>\r\n                                </div>\r\n                            </Dialog.Panel>\r\n                        </div>\r\n                    </Dialog>\r\n                    ) : (\r\n                        <div className=\"fixed top-16 bottom-0 right-0 max-w-md w-full bg-white dark:bg-gray-800 shadow-xl transform z-50 flex flex-col\"\r\n                            style={{\r\n                                transition: 'transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n                                transform: deleteModalOpen ? 'translateX(0)' : 'translateX(100%)',\r\n                                pointerEvents: deleteModalOpen ? 'auto' : 'none'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex items-center justify-between p-4 border-b dark:border-gray-700 flex-shrink-0\">\r\n                                <h2 className=\"text-lg font-semibold dark:text-white\">\r\n                                    {t('priceAnalysis.rules.deleteConfirm', 'Regel lÃ¶schen')}\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setDeleteModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n                                >\r\n                                    <XMarkIcon className=\"h-6 w-6\" />\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"p-4 overflow-y-auto flex-1 min-h-0\">\r\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                    {t('priceAnalysis.rules.deleteConfirmText', 'MÃ¶chten Sie diese Regel wirklich lÃ¶schen?')}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={() => setDeleteModalOpen(false)}\r\n                                        className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.cancel', 'Abbrechen')}\r\n                                    >\r\n                                        <XMarkIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.cancel', 'Abbrechen')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative group\">\r\n                                    <button\r\n                                        onClick={handleDelete}\r\n                                        className=\"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\r\n                                        title={t('common.delete', 'LÃ¶schen')}\r\n                                    >\r\n                                        <TrashIcon className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                    <div className=\"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50\">\r\n                                        {t('common.delete', 'LÃ¶schen')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PricingRulesTab;\r\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { usePermissions } from '../hooks/usePermissions.ts';\nimport OTAListingsTab from '../components/priceAnalysis/OTAListingsTab.tsx';\nimport AnalysisTab from '../components/priceAnalysis/AnalysisTab.tsx';\nimport PriceRecommendationsTab from '../components/priceAnalysis/PriceRecommendationsTab.tsx';\nimport PricingRulesTab from '../components/priceAnalysis/PricingRulesTab.tsx';\n\nconst PriceAnalysis: React.FC = () => {\n    const { t } = useTranslation();\n    const { hasPermission, loading: permissionsLoading } = usePermissions();\n\n    const [activeTab, setActiveTab] = useState<'listings' | 'analysis' | 'recommendations' | 'rules'>('listings');\n\n    // PrÃ¼fe Berechtigung\n    if (permissionsLoading) {\n        return (\n            <div className=\"p-6 text-center\">\n                {t('common.loading', { defaultValue: 'LÃ¤dt...' })}\n            </div>\n        );\n    }\n\n    if (!hasPermission('price_analysis', 'read', 'page')) {\n        return (\n            <div className=\"p-6 text-center\">\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n                    {t('common.error')}\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                    {t('common.noPermission')}\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-6\">\n            <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-white mb-6\">\n                {t('priceAnalysis.title')}\n            </h1>\n            \n            {/* Tabs */}\n            <div className=\"border-b border-gray-200 dark:border-gray-700 mb-6\">\n                <nav className=\"-mb-px flex space-x-2 overflow-x-auto\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('listings')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'listings'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.listings')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('analysis')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'analysis'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabAnalysis')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('recommendations')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'recommendations'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabRecommendations')}\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('rules')}\n                        className={`py-2 px-4 border-b-2 font-medium text-sm whitespace-nowrap ${\n                            activeTab === 'rules'\n                                ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'\n                        }`}\n                    >\n                        {t('priceAnalysis.tabRules')}\n                    </button>\n                </nav>\n            </div>\n\n            {/* Tab Content */}\n            {activeTab === 'listings' && <OTAListingsTab />}\n            {activeTab === 'analysis' && <AnalysisTab />}\n            {activeTab === 'recommendations' && <PriceRecommendationsTab />}\n            {activeTab === 'rules' && <PricingRulesTab />}\n        </div>\n    );\n};\n\nexport default PriceAnalysis;\n","import * as React from \"react\";\nfunction ArrowPathIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowPathIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction SparklesIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SparklesIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;"],"names":["OTAListingsTab","t","useTranslation","hasPermission","usePermissions","showMessage","useMessage","errorContext","useError","branches","selectedBranch","useBranch","currentBranch","find","b","id","handleError","err","_err$response","_err$response$data","console","error","errorMessage","response","data","message","listings","setListings","useState","loading","setLoading","rateShoppingLoading","setRateShoppingLoading","discovering","setDiscovering","selectedPlatform","setSelectedPlatform","timeoutRef","useRef","loadListings","useCallback","async","axiosInstance","get","API_ENDPOINTS","PRICE_ANALYSIS","OTA","LISTINGS","params","branchId","useEffect","current","clearTimeout","handleRunRateShopping","_response$data","startDate","Date","endDate","setMonth","getMonth","requestData","platform","toISOString","split","post","RATE_SHOPPING","_response$data2","success","setTimeout","handleDiscoverListings","_response$data3","DISCOVER","_response$data4","count","listingsFound","defaultValue","concat","_jsx","className","children","_jsxs","value","onChange","e","target","onClick","disabled","title","MagnifyingGlassIcon","ArrowPathIcon","length","map","listing","city","country","roomType","roomName","listingUrl","href","rel","isActive","lastScrapedAt","toLocaleDateString","priceData","scrapedAt","AnalysisTab","analyses","setAnalyses","analyzing","setAnalyzing","loadAnalyses","ANALYSES","handleAnalyze","ANALYZE","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","PlayIcon","analysis","_analysis$availableRo","_analysis$recommendat","dateString","analysisDate","categoryId","currentPrice","averagePrice","minPrice","maxPrice","occupancyRate","toFixed","availableRooms","competitorAvgPrice","pricePosition","recommendations","PriceRecommendationsTab","openSidepane","closeSidepane","useSidepane","setRecommendations","statusFilter","setStatusFilter","generating","setGenerating","rejectModalOpen","setRejectModalOpen","applyModalOpen","setApplyModalOpen","selectedRecommendationId","setSelectedRecommendationId","rejectReason","setRejectReason","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","loadRecommendations","RECOMMENDATIONS","BASE","status","undefined","handleGenerateRecommendations","GENERATE","handleApprove","APPROVE","recommendationId","openRejectModal","handleReject","REJECT","reason","openApplyModal","handleApply","APPLY","formatPercent","getStatusColor","getStatusText","_Fragment","SparklesIcon","recommendation","date","recommendedPrice","priceChangePercent","reasoning","CheckIcon","XMarkIcon","ArrowRightIcon","Dialog","open","onClose","Panel","Title","rows","placeholder","transition","transform","pointerEvents","PricingRulesTab","rules","setRules","isModalOpen","setIsModalOpen","deleteModalOpen","setDeleteModalOpen","editingRule","setEditingRule","ruleToDelete","setRuleToDelete","formData","setFormData","name","description","priority","conditions","JSON","stringify","operator","action","type","maxChange","cumulative","roomTypes","categoryIds","loadRules","RULES","handleCreate","handleEdit","rule","openDeleteModal","ruleId","handleDelete","delete","BY_ID","handleSubmit","preventDefault","parse","payload","put","PlusIcon","createdByUser","firstName","lastName","trim","username","createdAt","PencilIcon","TrashIcon","onSubmit","_objectSpread","required","parseInt","checked","PriceAnalysis","permissionsLoading","activeTab","setActiveTab","_ref","svgRef","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}