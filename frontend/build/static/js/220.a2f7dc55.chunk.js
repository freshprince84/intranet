"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[220],{3220:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var a=t(9379),s=t(5043),l=t(3216),d=t(5475),n=t(2672),o=t(579);const i=()=>{const e=(0,l.Zp)(),{login:r,user:t}=(0,n.As)(),[i,u]=(0,s.useState)({username:"",password:""}),[c,m]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{t&&(console.log("Benutzer bereits eingeloggt, pr\xfcfe Profilvollst\xe4ndigkeit"),(e=>!e.birthday||!e.bankDetails||!e.contract||!e.salary||!e.normalWorkingHours)(t)?e("/profile"):e("/dashboard"))}),[t,e]);const x=e=>{u((0,a.A)((0,a.A)({},i),{},{[e.target.name]:e.target.value}))};return(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:(0,o.jsxs)("div",{className:"max-w-lg w-full space-y-8 p-10 bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:"Login"}),c&&(0,o.jsx)("p",{className:"text-red-500 dark:text-red-400 text-center",children:c}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(""),b(!0);try{await r(i.username,i.password)}catch(s){var t,a;console.error("Login-Fehler:",s);const e=(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Login fehlgeschlagen. Bitte \xfcberpr\xfcfen Sie Ihre Anmeldedaten.";m(e),b(!1)}},className:"mt-8 space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Benutzername"}),(0,o.jsx)("input",{type:"text",name:"username",id:"username",value:i.username,onChange:x,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white",disabled:g})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passwort"}),(0,o.jsx)("input",{type:"password",name:"password",id:"password",value:i.password,onChange:x,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white",disabled:g})]}),(0,o.jsx)("button",{type:"submit",className:"w-full py-2 px-4 text-white rounded-md ".concat(g?"bg-blue-400 dark:bg-blue-500 cursor-not-allowed":"bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800"),disabled:g,children:g?"Anmeldung l\xe4uft...":"Anmelden"})]}),(0,o.jsxs)("p",{className:"text-center mt-4 text-gray-700 dark:text-gray-300",children:["Noch kein Konto?"," ",(0,o.jsx)(d.N_,{to:"/register",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Registrieren"})]})]})})}}}]);
//# sourceMappingURL=220.a2f7dc55.chunk.js.map