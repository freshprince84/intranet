"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[68],{1816:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const d=l.forwardRef(n)},2704:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const d=l.forwardRef(n)},2811:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const d=l.forwardRef(n)},2965:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const d=l.forwardRef(n)},2979:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var a=t(9379),l=t(5043),s=t(1923),n=t(4117),d=t(2672),i=t(6009),o=t(2704),c=t(6238),m=t(9422),u=t(7591),g=t(7855),x=t(595),b=t(1801),y=t(4538),h=t(7012),p=t(7098),f=t(2811),k=t(3800),v=t(579);const j=[{code:"tiempo_completo",name:"Tiempo Completo (>21 Tage/Monat)"},{code:"tiempo_parcial_7",name:"Tiempo Parcial (\u22647 Tage/Monat)"},{code:"tiempo_parcial_14",name:"Tiempo Parcial (\u226414 Tage/Monat)"},{code:"tiempo_parcial_21",name:"Tiempo Parcial (\u226421 Tage/Monat)"},{code:"prestacion_de_servicios",name:"Prestaci\xf3n de Servicios"},{code:"externo",name:"Externo"}],w=e=>{var r;let{userId:t}=e;const{t:d}=(0,n.Bd)(),{isHR:i,isAdmin:x}=(0,k.S)(),{showMessage:w}=(0,g.A)(),[N,A]=(0,l.useState)(null),[E,D]=(0,l.useState)(null),[L,S]=(0,l.useState)(!0),[C,I]=(0,l.useState)(null),[O,R]=(0,l.useState)(!1),[T,B]=(0,l.useState)({contract:null,salary:null,normalWorkingHours:7.6});(0,l.useEffect)((()=>{M(),_()}),[t]);const M=async()=>{try{S(!0);const e=await s.A.get(b.Sn.LIFECYCLE.BY_USER(t));A(e.data),I(null)}catch(l){var e,r,a;if(console.error("Fehler beim Laden der Lebenszyklus-Daten:",l),404===(null===(e=l.response)||void 0===e?void 0:e.status))I("Lebenszyklus nicht gefunden. Bitte kontaktieren Sie HR, um einen Lebenszyklus-Eintrag zu erstellen.");else I((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Fehler beim Abrufen des Lebenszyklus")}finally{S(!1)}},_=async()=>{try{const e=(await s.A.get(b.Sn.USERS.BY_ID(t))).data,r={contract:e.contract||null,salary:e.salary||null,normalWorkingHours:e.normalWorkingHours||7.6};D(r),B(r)}catch(e){console.error("Fehler beim Laden der Vertragsdaten:",e)}},F=e=>{const{name:r,value:t}=e.target;B((e=>(0,a.A)((0,a.A)({},e),{},{[r]:""===t?null:"salary"===r||"normalWorkingHours"===r?parseFloat(t):t})))};if(L)return(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,v.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(C)return(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,v.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4",children:(0,v.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:C})})});if(!N)return(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,v.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Keine Lebenszyklus-Daten verf\xfcgbar"})});const{lifecycle:H,progress:W,socialSecurityRegistrations:U=[]}=N,V=e=>{switch(e){case"registered":return(0,v.jsx)(y.A,{className:"h-5 w-5 text-green-500"});case"pending":return(0,v.jsx)(h.A,{className:"h-5 w-5 text-yellow-500"});case"failed":return(0,v.jsx)(p.A,{className:"h-5 w-5 text-red-500"});case"not_required":return(0,v.jsx)(y.A,{className:"h-5 w-5 text-gray-400"});default:return(0,v.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}},z=e=>{const r="lifecycle.socialSecurityStatus.".concat(e);return d(r)||e},P=i()||x();return(0,v.jsxs)("div",{className:"space-y-6",children:[E&&(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,v.jsx)(o.A,{className:"h-5 w-5 mr-2"}),d("lifecycle.contractData")||"Vertragsdaten"]}),P&&!O&&(0,v.jsx)("button",{onClick:()=>R(!0),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:d("common.edit")||"Bearbeiten",children:(0,v.jsx)(f.A,{className:"h-5 w-5"})})]}),O?(0,v.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={contract:T.contract||null,salary:T.salary||null,normalWorkingHours:T.normalWorkingHours||7.6};await s.A.put(b.Sn.USERS.BY_ID(t),e),D(T),R(!1),w("Vertragsdaten erfolgreich aktualisiert","success")}catch(l){var r,a;console.error("Fehler beim Speichern der Vertragsdaten:",l),w((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Fehler beim Speichern der Vertragsdaten","error")}},className:"space-y-4",children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.contract")}),(0,v.jsxs)("select",{name:"contract",value:T.contract||"",onChange:F,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,v.jsx)("option",{value:"",children:d("common.pleaseSelect",{defaultValue:"Bitte ausw\xe4hlen..."})}),j.map((e=>(0,v.jsx)("option",{value:e.code,children:e.name},e.code)))]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("lifecycle.contractStart")}),(0,v.jsx)("input",{type:"date",value:null!==N&&void 0!==N&&N.lifecycle.contractStartDate?new Date(N.lifecycle.contractStartDate).toISOString().split("T")[0]:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.salary")}),(0,v.jsx)("input",{type:"number",name:"salary",value:T.salary||"",onChange:F,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.normalWorkingHours")}),(0,v.jsx)("input",{type:"number",step:"0.1",name:"normalWorkingHours",value:T.normalWorkingHours||7.6,onChange:F,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(null===N||void 0===N?void 0:N.lifecycle.contractEndDate)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("lifecycle.contractEnd")}),(0,v.jsx)("input",{type:"date",value:new Date(N.lifecycle.contractEndDate).toISOString().split("T")[0],disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]})]}),(0,v.jsxs)("div",{className:"flex mt-6 space-x-3",children:[(0,v.jsx)("button",{type:"submit",className:"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600",title:d("common.save"),children:(0,v.jsx)(m.A,{className:"h-5 w-5"})}),(0,v.jsx)("button",{type:"button",onClick:()=>{R(!1),B(E)},className:"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",title:d("common.cancel"),children:(0,v.jsx)(u.A,{className:"h-5 w-5"})})]})]}):(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.contract")}),(0,v.jsx)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-800",children:E.contract?(null===(r=j.find((e=>e.code===E.contract)))||void 0===r?void 0:r.name)||E.contract:"-"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("lifecycle.contractStart")}),(0,v.jsx)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-800",children:null!==N&&void 0!==N&&N.lifecycle.contractStartDate?new Date(N.lifecycle.contractStartDate).toLocaleDateString("de-DE"):"-"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.salary")}),(0,v.jsx)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-800",children:E.salary?E.salary.toLocaleString("de-DE"):"-"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("profile.normalWorkingHours")}),(0,v.jsxs)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-800",children:[E.normalWorkingHours||7.6," ",d("common.hours")||"Stunden"]})]}),(null===N||void 0===N?void 0:N.lifecycle.contractEndDate)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("lifecycle.contractEnd")}),(0,v.jsx)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-800",children:new Date(N.lifecycle.contractEndDate).toLocaleDateString("de-DE")})]})]})]}),(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,v.jsx)(c.A,{className:"h-5 w-5 mr-2"}),d("lifecycle.statusTitle")]}),(e=>{const r={onboarding:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",labelKey:"lifecycle.status.onboarding"},active:{color:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",labelKey:"lifecycle.status.active"},contract_change:{color:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",labelKey:"lifecycle.status.contract_change"},offboarding:{color:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",labelKey:"lifecycle.status.offboarding"},archived:{color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",labelKey:"lifecycle.status.archived"}}[e]||{color:"bg-gray-100 text-gray-800",labelKey:e};return(0,v.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(r.color),children:d(r.labelKey)||e})})(H.status)]}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",children:[H.onboardingStartedAt&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:d("lifecycle.onboardingStarted")}),(0,v.jsx)("span",{className:"dark:text-white",children:new Date(H.onboardingStartedAt).toLocaleDateString("de-DE")})]}),H.onboardingCompletedAt&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:d("lifecycle.onboardingCompleted")}),(0,v.jsx)("span",{className:"dark:text-white",children:new Date(H.onboardingCompletedAt).toLocaleDateString("de-DE")})]}),H.contractStartDate&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:d("lifecycle.contractStart")}),(0,v.jsx)("span",{className:"dark:text-white",children:new Date(H.contractStartDate).toLocaleDateString("de-DE")})]}),H.contractEndDate&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:d("lifecycle.contractEnd")}),(0,v.jsx)("span",{className:"dark:text-white",children:new Date(H.contractEndDate).toLocaleDateString("de-DE")})]})]})]}),"onboarding"===H.status&&(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold dark:text-white mb-4",children:d("lifecycle.progressTitle")}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:d("lifecycle.progressSteps",{completed:W.completed,total:W.total})}),(0,v.jsxs)("span",{className:"font-medium dark:text-white",children:[W.percent,"%"]})]}),(0,v.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,v.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(W.percent,"%")}})}),(0,v.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,v.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:d("lifecycle.stepsDetail")}),[{key:"passport",completed:!0},{key:"arl",completed:"registered"===H.arlStatus},{key:"eps",completed:!H.epsRequired||"registered"===H.epsStatus},{key:"pension",completed:"registered"===H.pensionStatus},{key:"caja",completed:"registered"===H.cajaStatus}].map((e=>(0,v.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[e.completed?(0,v.jsx)(y.A,{className:"h-5 w-5 text-green-500"}):(0,v.jsx)(h.A,{className:"h-5 w-5 text-yellow-500"}),(0,v.jsx)("span",{className:e.completed?"text-gray-600 dark:text-gray-400 line-through":"text-gray-900 dark:text-white font-medium",children:d("lifecycle.steps.".concat(e.key))}),e.completed&&(0,v.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:d("lifecycle.completed")})]},e.key)))]})]})]}),U.length>0&&(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsxs)("h3",{className:"text-lg font-semibold dark:text-white mb-4 flex items-center",children:[(0,v.jsx)(o.A,{className:"h-5 w-5 mr-2"}),d("lifecycle.socialSecurity")]}),(0,v.jsx)("div",{className:"space-y-3",children:U.map((e=>(0,v.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[V(e.status),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"font-medium dark:text-white uppercase",children:e.registrationType}),e.provider&&(0,v.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.provider}),e.registrationNumber&&(0,v.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Nr: ",e.registrationNumber]})]})]}),(0,v.jsx)("span",{className:"text-sm font-medium dark:text-white",children:z(e.status)})]},e.id)))})]})]})};var N=t(3700),A=t(7988),E=t(4129),D=t(4791);const L=e=>{let{userId:r}=e;const{t:t}=(0,n.Bd)(),{showMessage:d}=(0,g.A)(),[i,c]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[x,h]=(0,l.useState)(!0),[p,f]=(0,l.useState)(null),[k,j]=(0,l.useState)(null),[w,N]=(0,l.useState)(null),[L,S]=(0,l.useState)({}),[C,I]=(0,l.useState)({}),[O,R]=(0,l.useState)({}),T=(0,l.useRef)({}),B=(0,l.useRef)({});(0,l.useEffect)((()=>{M()}),[r]),(0,l.useEffect)((()=>{T.current=L}),[L]),(0,l.useEffect)((()=>{B.current=C}),[C]),(0,l.useEffect)((()=>()=>{Object.values(T.current).forEach((e=>{e&&URL.revokeObjectURL(e)})),Object.values(B.current).forEach((e=>{e&&URL.revokeObjectURL(e)}))}),[]);const M=async()=>{try{var e,t;h(!0);const[a,l]=await Promise.all([s.A.get(b.Sn.LIFECYCLE.CERTIFICATES(r)),s.A.get(b.Sn.LIFECYCLE.CONTRACTS(r))]),n=(null===(e=a.data)||void 0===e?void 0:e.certificates)||[],d=(null===(t=l.data)||void 0===t?void 0:t.contracts)||[];c(n),u(d),f(null),n.forEach((e=>{_(e.id)})),d.forEach((e=>{F(e.id)}))}catch(i){var a;if(console.error("Fehler beim Laden der Dokumente:",i),404===(null===(a=i.response)||void 0===a?void 0:a.status)){const e="Lebenszyklus nicht gefunden. Bitte kontaktieren Sie HR, um einen Lebenszyklus-Eintrag zu erstellen.";f(e),d(e,"error")}else{var l,n;const e=(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||"Fehler beim Abrufen der Arbeitszeugnisse";f(e),d(e,"error")}}finally{h(!1)}},_=async e=>{try{R((r=>(0,a.A)((0,a.A)({},r),{},{[e]:!0})));const t=await s.A.get("".concat(b.Sn.LIFECYCLE.CERTIFICATE_DOWNLOAD(r,e),"?preview=true"),{responseType:"blob"}),l=new Blob([t.data],{type:"application/pdf"}),n=window.URL.createObjectURL(l);S((r=>(0,a.A)((0,a.A)({},r),{},{[e]:n})))}catch(t){console.error("Fehler beim Laden der PDF-Vorschau:",t)}finally{R((r=>(0,a.A)((0,a.A)({},r),{},{[e]:!1})))}},F=async e=>{try{R((r=>(0,a.A)((0,a.A)({},r),{},{[e]:!0})));const t=await s.A.get("".concat(b.Sn.LIFECYCLE.CONTRACT_DOWNLOAD(r,e),"?preview=true"),{responseType:"blob"}),l=new Blob([t.data],{type:"application/pdf"}),n=window.URL.createObjectURL(l);I((r=>(0,a.A)((0,a.A)({},r),{},{[e]:n})))}catch(t){console.error("Fehler beim Laden der PDF-Vorschau:",t)}finally{R((r=>(0,a.A)((0,a.A)({},r),{},{[e]:!1})))}},H=e=>new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return x?(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,v.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):p?(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:(0,v.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4",children:(0,v.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:p})})}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,v.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,v.jsx)(o.A,{className:"h-5 w-5 mr-2"}),t("lifecycle.certificates")]})}),0===i.length?(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(o.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,v.jsx)("p",{children:t("lifecycle.noCertificates")}),(0,v.jsx)("p",{className:"text-sm mt-2",children:t("lifecycle.certificatesInfo")})]}):(0,v.jsx)("div",{className:"space-y-4",children:i.map((e=>(0,v.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:(0,v.jsxs)("div",{className:"flex items-start justify-between",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,v.jsxs)("h4",{className:"font-medium dark:text-white",children:[t("lifecycle.certificate"),"employment"!==e.certificateType&&" (".concat(e.certificateType,")")]}),e.isLatest&&(0,v.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center",children:[(0,v.jsx)(y.A,{className:"h-3 w-3 mr-1"}),t("lifecycle.current")]})]}),(0,v.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(A.A,{className:"h-4 w-4"}),(0,v.jsxs)("span",{children:[t("lifecycle.issuedOn")," ",H(e.issueDate)]})]}),e.generatedByUser&&(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(E.A,{className:"h-4 w-4"}),(0,v.jsxs)("span",{children:[t("lifecycle.createdBy")," ",e.generatedByUser.firstName," ",e.generatedByUser.lastName]})]}),e.templateVersion&&(0,v.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[t("lifecycle.templateVersion")," ",e.templateVersion]})]}),(0,v.jsx)("div",{className:"mt-3 border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-700/50",children:O[e.id]?(0,v.jsx)("div",{className:"flex justify-center items-center",style:{height:"400px"},children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):L[e.id]?(0,v.jsx)("iframe",{src:L[e.id],className:"w-full rounded border dark:border-gray-600",style:{height:"400px"},title:t("lifecycle.certificate")}):(0,v.jsx)("div",{className:"flex justify-center items-center text-gray-500 dark:text-gray-400",style:{height:"400px"},children:(0,v.jsx)("p",{children:t("lifecycle.previewError",{defaultValue:"Vorschau konnte nicht geladen werden"})})})})]}),(0,v.jsx)("button",{onClick:()=>(async e=>{j(e);try{const t=await s.A.get(b.Sn.LIFECYCLE.CERTIFICATE_DOWNLOAD(r,e),{responseType:"blob"}),a=new Blob([t.data],{type:"application/pdf"}),l=window.URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download="arbeitszeugnis-".concat(e,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l),d("Arbeitszeugnis erfolgreich heruntergeladen","success")}catch(t){console.error("Fehler beim Herunterladen:",t),d("Fehler beim Herunterladen des Arbeitszeugnisses","error")}finally{j(null)}})(e.id),disabled:k===e.id,className:"ml-4 p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",title:t("lifecycle.downloadCertificate"),children:k===e.id?(0,v.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):(0,v.jsx)(D.A,{className:"h-5 w-5"})})]})},e.id)))})]}),(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,v.jsxs)("h3",{className:"text-lg font-semibold dark:text-white flex items-center",children:[(0,v.jsx)(o.A,{className:"h-5 w-5 mr-2"}),t("lifecycle.contracts")]})}),0===m.length?(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(o.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,v.jsx)("p",{children:t("lifecycle.noContracts")}),(0,v.jsx)("p",{className:"text-sm mt-2",children:t("lifecycle.contractsInfo")})]}):(0,v.jsx)("div",{className:"space-y-4",children:m.map((e=>(0,v.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:(0,v.jsxs)("div",{className:"flex items-start justify-between",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,v.jsxs)("h4",{className:"font-medium dark:text-white",children:[t("lifecycle.contract"),"employment"!==e.contractType&&" (".concat(e.contractType,")")]}),e.isLatest&&(0,v.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center",children:[(0,v.jsx)(y.A,{className:"h-3 w-3 mr-1"}),t("lifecycle.current")]})]}),(0,v.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(A.A,{className:"h-4 w-4"}),(0,v.jsxs)("span",{children:[H(e.startDate),e.endDate&&" - ".concat(H(e.endDate))]})]}),e.position&&(0,v.jsxs)("div",{children:[t("lifecycle.position")," ",e.position]}),e.salary&&(0,v.jsxs)("div",{children:[t("lifecycle.salary")," ",e.salary.toLocaleString("de-DE",{style:"currency",currency:"EUR"})]}),e.workingHours&&(0,v.jsxs)("div",{children:[t("lifecycle.workingHours")," ",e.workingHours,"h/Woche"]}),e.generatedByUser&&(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(E.A,{className:"h-4 w-4"}),(0,v.jsxs)("span",{children:[t("lifecycle.createdBy")," ",e.generatedByUser.firstName," ",e.generatedByUser.lastName]})]}),e.templateVersion&&(0,v.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[t("lifecycle.templateVersion")," ",e.templateVersion]})]}),(0,v.jsx)("div",{className:"mt-3 border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-700/50",children:O[e.id]?(0,v.jsx)("div",{className:"flex justify-center items-center",style:{height:"400px"},children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C[e.id]?(0,v.jsx)("iframe",{src:C[e.id],className:"w-full rounded border dark:border-gray-600",style:{height:"400px"},title:t("lifecycle.contract")}):(0,v.jsx)("div",{className:"flex justify-center items-center text-gray-500 dark:text-gray-400",style:{height:"400px"},children:(0,v.jsx)("p",{children:t("lifecycle.previewError",{defaultValue:"Vorschau konnte nicht geladen werden"})})})})]}),(0,v.jsx)("button",{onClick:()=>(async e=>{N(e);try{const t=await s.A.get(b.Sn.LIFECYCLE.CONTRACT_DOWNLOAD(r,e),{responseType:"blob"}),a=new Blob([t.data],{type:"application/pdf"}),l=window.URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download="arbeitsvertrag-".concat(e,".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l),d("Arbeitsvertrag erfolgreich heruntergeladen","success")}catch(t){console.error("Fehler beim Herunterladen:",t),d("Fehler beim Herunterladen des Arbeitsvertrags","error")}finally{N(null)}})(e.id),disabled:w===e.id,className:"ml-4 p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",title:t("lifecycle.downloadContract"),children:w===e.id?(0,v.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):(0,v.jsx)(D.A,{className:"h-5 w-5"})})]})},e.id)))})]})]})};var S=t(8625);const C=()=>{const{user:e,fetchCurrentUser:r}=(0,d.As)(),{showMessage:t}=(0,g.A)(),{t:b}=(0,n.Bd)(),{completeStep:y}=(0,S.z)(),[h,p]=(0,l.useState)(null),[f,k]=(0,l.useState)(!1),[j,A]=(0,l.useState)({}),[E,D]=(0,l.useState)("profile"),[C,I]=(0,l.useState)(!1),O=(0,l.useRef)(null),R=[{code:"CO",name:b("countries.CO")},{code:"CH",name:b("countries.CH")},{code:"DE",name:b("countries.DE")},{code:"AT",name:b("countries.AT")}],T=[{code:"es",name:b("languages.es")},{code:"de",name:b("languages.de")},{code:"en",name:b("languages.en")}];(0,l.useEffect)((()=>{if(e){const r={id:e.id,username:e.username,email:e.email,firstName:e.firstName||"",lastName:e.lastName||"",birthday:null,bankDetails:null,contract:null,salary:null,normalWorkingHours:7.6,country:"CO",language:"es",gender:null,phoneNumber:null,identificationNumber:null,identificationDocuments:[]};p(r),A(r),B()}}),[e]);const B=async()=>{try{if(!localStorage.getItem("token"))throw new Error("Kein Token gefunden");const e=await s.A.get("/users/profile");if(e.data){const r=(0,a.A)((0,a.A)({},e.data),{},{birthday:e.data.birthday?new Date(e.data.birthday).toISOString().split("T")[0]:null,normalWorkingHours:e.data.normalWorkingHours||7.6,country:e.data.country||null,language:e.data.language||"es",gender:e.data.gender||null,phoneNumber:e.data.phoneNumber||null,identificationDocuments:e.data.identificationDocuments||[]});p(r),A(r)}}catch(n){var e,r,l;console.error("Error fetching profile:",(null===(e=n.response)||void 0===e?void 0:e.data)||n);const a="Fehler beim Laden des Profils: "+((null===(r=n.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||n.message);t(a,"error")}},M=e=>{const{name:r,value:t}=e.target;A((e=>(0,a.A)((0,a.A)({},e),{},{[r]:""===t?null:t}))),k(!0)};if(!h)return(0,v.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Laden..."});return(0,v.jsx)("div",{className:"min-h-screen dark:bg-gray-900","data-onboarding":"profile-page",children:(0,v.jsxs)("div",{className:"max-w-7xl mx-auto py-0 px-2 -mt-6 sm:-mt-3 lg:-mt-3 sm:px-4 lg:px-6",children:[(!h||!(h.username&&h.email&&h.language))&&(0,v.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 mb-6",children:(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsx)("div",{className:"flex-shrink-0",children:(0,v.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,v.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,v.jsx)("div",{className:"ml-3",children:(0,v.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[(0,v.jsx)("strong",{children:b("profile.profileIncomplete")})," ",b("profile.completeProfile")]})})]})}),(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 p-6",children:[(0,v.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,v.jsxs)("nav",{className:"flex -mb-px",children:[(0,v.jsxs)("button",{onClick:()=>D("profile"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("profile"===E?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,v.jsx)(i.A,{className:"h-5 w-5 inline mr-2"}),b("profile.title")]}),(0,v.jsxs)("button",{onClick:()=>D("documents"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("documents"===E?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,v.jsx)(o.A,{className:"h-5 w-5 inline mr-2"}),b("profile.documents")]}),(0,v.jsxs)("button",{onClick:()=>D("lifecycle"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("lifecycle"===E?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,v.jsx)(c.A,{className:"h-5 w-5 inline mr-2"}),b("lifecycle.tabTitle")]}),(0,v.jsxs)("button",{onClick:()=>D("myDocuments"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("myDocuments"===E?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,v.jsx)(o.A,{className:"h-5 w-5 inline mr-2"}),b("lifecycle.myDocumentsTab")]})]})}),(0,v.jsxs)("div",{className:"mt-6",children:["profile"===E&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,v.jsxs)("h2",{className:"text-xl font-semibold flex items-center dark:text-white",children:[(0,v.jsx)(i.A,{className:"h-6 w-6 mr-2 dark:text-white"}),b("profile.userProfile")]})}),h&&(e=>{const r=(null===(e=h.roles)||void 0===e?void 0:e.some((e=>null!==e.role.organization)))||!1,t=r&&!(h.username&&h.email&&h.language);return r&&t?(0,v.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded",children:(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsx)("div",{className:"flex-shrink-0",children:(0,v.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,v.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,v.jsx)("div",{className:"ml-3",children:(0,v.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[(0,v.jsx)("strong",{children:b("profile.completeProfileToUnlock")||"F\xfclle dein Profil aus, um das System freizuschalten"}),(0,v.jsx)("br",{}),b("profile.completeProfileHint")||"Bitte vervollst\xe4ndigen Sie Ihr Profil mit Username, Email, Land und Sprache, um alle Funktionen nutzen zu k\xf6nnen."]})})]})}):null})(),(0,v.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{var l,n;if(!localStorage.getItem("token"))throw new Error("Kein Token gefunden");if(null===(l=j.username)||void 0===l||!l.trim())throw new Error("Benutzername ist erforderlich");if(null===(n=j.email)||void 0===n||!n.trim())throw new Error("E-Mail ist erforderlich");const e={username:j.username,email:j.email,bankDetails:j.bankDetails||null,gender:j.gender||null,phoneNumber:j.phoneNumber||null},d=await s.A.put("/users/profile",e);if(d.data){const e=(0,a.A)((0,a.A)({},d.data),{},{birthday:d.data.birthday?new Date(d.data.birthday).toISOString().split("T")[0]:null});p(e),A(e),t("Profil erfolgreich aktualisiert","success");try{await r()}catch(o){console.error("Fehler beim Aktualisieren des User-Contexts:",o)}if(!!(e.username&&e.email&&e.language))try{await y("profile_complete",b("onboarding.steps.profile_complete.title")||"Profil vervollst\xe4ndigen")}catch(o){console.error("Fehler beim Abschlie\xdfen des Profil-Schritts:",o)}}}catch(o){var d,i;console.error("Error updating profile:",o);let e="Ein unbekannter Fehler ist aufgetreten";null!==(d=o.response)&&void 0!==d&&null!==(i=d.data)&&void 0!==i&&i.message?e=o.response.data.message:o instanceof Error&&(e=o.message),t(e,"error")}},children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.username")}),(0,v.jsx)("input",{type:"text",name:"username",value:f?j.username||"":h.username||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.email")}),(0,v.jsx)("input",{type:"email",name:"email",value:f?j.email||"":h.email||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[b("profile.language")," ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsxs)("select",{name:"language",value:f?j.language||"":h.language||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",required:!0,children:[(0,v.jsx)("option",{value:"",children:b("profile.selectLanguage")}),T.map((e=>(0,v.jsx)("option",{value:e.code,children:e.name},e.code)))]})]}),h&&(0,v.jsx)("div",{className:"sm:col-span-2",children:(0,v.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-1",children:b("profile.identificationDocument",{defaultValue:"Identifikationsdokument"})}),(0,v.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:b("profile.uploadDocumentHint",{defaultValue:"Bitte laden Sie Ihr Identifikationsdokument (C\xe9dula oder Pasaporte) hoch. Die Felder werden automatisch ausgef\xfcllt."})})]}),(0,v.jsx)("input",{type:"file",id:"documentUpload",accept:"image/*",className:"hidden",onChange:async e=>{if(!e.target.files||0===e.target.files.length)return;if(!h)return;I(!0);await(0,N.e)(e.target.files[0],h.id,(async()=>{await B(),O.current&&O.current.loadDocuments(),t(b("profile.documentUploadSuccess",{defaultValue:"Dokument erfolgreich hochgeladen. Felder werden automatisch ausgef\xfcllt."}),"success");try{await y("upload_identification_document",b("onboarding.steps.upload_identification_document.title")||"Dokument hochladen")}catch(e){console.error("Fehler beim Abschlie\xdfen des upload_identification_document Schritts:",e)}}),(e=>{t(e,"error")}));I(!1),e.target.value=""},disabled:C}),(0,v.jsx)("label",{htmlFor:"documentUpload","data-onboarding":"upload-document-button",className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md cursor-pointer ".concat(C?"opacity-50 cursor-not-allowed":""),title:b("profile.uploadDocument",{defaultValue:"Dokument hochladen"}),children:(0,v.jsx)(o.A,{className:"h-5 w-5"})})]})})}),(h.firstName||h.lastName||h.birthday||h.identificationNumber)&&(0,v.jsx)(v.Fragment,{children:(e=>{const r=h.identificationDocuments&&h.identificationDocuments.length>0?h.identificationDocuments[0]:null;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.firstName")}),(0,v.jsx)("input",{type:"text",value:h.firstName||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.lastName")}),(0,v.jsx)("input",{type:"text",value:h.lastName||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.birthday")}),(0,v.jsx)("input",{type:"text",value:h.birthday?new Date(h.birthday).toISOString().split("T")[0]:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.country")}),(0,v.jsx)("input",{type:"text",value:h.country?(null===(e=R.find((e=>e.code===h.country)))||void 0===e?void 0:e.name)||h.country:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.gender")}),(0,v.jsxs)("select",{name:"gender",value:f?j.gender||"":h.gender||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[(0,v.jsx)("option",{value:"",children:b("profile.selectGender")}),(0,v.jsx)("option",{value:"male",children:b("profile.genderMale")}),(0,v.jsx)("option",{value:"female",children:b("profile.genderFemale")}),(0,v.jsx)("option",{value:"other",children:b("profile.genderOther")})]})]}),r&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.identificationType")}),(0,v.jsx)("input",{type:"text",value:r.documentType?{passport:b("identificationDocuments.types.passport"),national_id:b("identificationDocuments.types.national_id"),driving_license:b("identificationDocuments.types.driving_license"),residence_permit:b("identificationDocuments.types.residence_permit"),work_permit:b("identificationDocuments.types.work_permit"),tax_id:b("identificationDocuments.types.tax_id"),social_security:b("identificationDocuments.types.social_security")}[r.documentType]||r.documentType:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(h.identificationNumber||(null===r||void 0===r?void 0:r.documentNumber))&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.identificationNumber")}),(0,v.jsx)("input",{type:"text",value:h.identificationNumber||(null===r||void 0===r?void 0:r.documentNumber)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(null===r||void 0===r?void 0:r.issueDate)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.identificationIssueDate")||"Ausstellungsdatum"}),(0,v.jsx)("input",{type:"text",value:new Date(r.issueDate).toISOString().split("T")[0],disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(null===r||void 0===r?void 0:r.expiryDate)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.identificationExpiryDate")}),(0,v.jsx)("input",{type:"text",value:new Date(r.expiryDate).toISOString().split("T")[0],disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(null===r||void 0===r?void 0:r.issuingCountry)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.issuingCountry")}),(0,v.jsx)("input",{type:"text",value:r.issuingCountry,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]}),(null===r||void 0===r?void 0:r.issuingAuthority)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.issuingAuthority")}),(0,v.jsx)("input",{type:"text",value:r.issuingAuthority,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white bg-gray-100 dark:bg-gray-800",readOnly:!0})]})]})})()}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.phoneNumber")}),(0,v.jsx)("input",{type:"tel",name:"phoneNumber",value:f?j.phoneNumber||"":h.phoneNumber||"",onChange:M,placeholder:"+573001234567",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"}),(0,v.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:b("profile.phoneNumberHint")})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:b("profile.bankDetails")}),(0,v.jsx)("input",{type:"text",name:"bankDetails",value:f?j.bankDetails||"":h.bankDetails||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]})]}),(0,v.jsxs)("div",{className:"flex mt-6 space-x-3",children:[(0,v.jsx)("button",{type:"submit",className:"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600",title:b("common.save"),children:(0,v.jsx)(m.A,{className:"h-5 w-5"})}),(0,v.jsx)("button",{type:"button",onClick:()=>k(!1),className:"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",title:b("common.cancel"),children:(0,v.jsx)(u.A,{className:"h-5 w-5"})})]})]})]}),"documents"===E&&h&&(0,v.jsx)(x.A,{userId:h.id,ref:O}),"lifecycle"===E&&h&&(0,v.jsx)(w,{userId:h.id}),"myDocuments"===E&&h&&(0,v.jsx)(L,{userId:h.id})]})]})]})})}},4129:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const d=l.forwardRef(n)},4538:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=l.forwardRef(n)},4791:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const d=l.forwardRef(n)},6009:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const d=l.forwardRef(n)},6238:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const d=l.forwardRef(n)},7012:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=l.forwardRef(n)},7098:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=l.forwardRef(n)},7988:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const d=l.forwardRef(n)},8662:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const d=l.forwardRef(n)},9248:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const d=l.forwardRef(n)},9422:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const d=l.forwardRef(n)},9531:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(45),l=t(5043);const s=["title","titleId"];function n(e,r){let{title:t,titleId:n}=e,d=(0,a.A)(e,s);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},d),t?l.createElement("title",{id:n},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const d=l.forwardRef(n)}}]);
//# sourceMappingURL=68.72ac077a.chunk.js.map