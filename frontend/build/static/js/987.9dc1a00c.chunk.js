"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[987],{8987:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var s=r(5043),a=r(3216),o=r(5475),n=r(6213),l=r(1923);const i={async login(e){const t=await l.A.post("/auth/login",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},async register(e){const t=await l.A.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},async logout(){const e=localStorage.getItem("token");e&&await l.A.post("/auth/logout",{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("token"),localStorage.removeItem("user")},getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},getToken:()=>localStorage.getItem("token"),isAuthenticated(){return!!this.getToken()}};n.A.interceptors.request.use((e=>{const t=i.getToken();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const d=i;var c=r(579);const u=()=>{const e=(0,a.Zp)(),[t,r]=(0,s.useState)({email:"",password:"",confirmPassword:""}),[n,l]=(0,s.useState)(""),[i,u]=(0,s.useState)(!1),m=e=>{r({...t,[e.target.name]:e.target.value})};return(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:(0,c.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:"Registrierung"}),(0,c.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Erstellen Sie Ihr Konto mit E-Mail und Passwort"}),n&&(0,c.jsx)("p",{className:"mt-2 text-center text-sm text-red-600 dark:text-red-400",children:n})]}),(0,c.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),l(""),t.password===t.confirmPassword)if(t.password.length<6)l("Das Passwort muss mindestens 6 Zeichen lang sein.");else{u(!0);try{await d.register({email:t.email,password:t.password}),e("/dashboard")}catch(o){var s,a;console.error("Registrierung fehlgeschlagen:",o),l((null===(s=o.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Registrierung fehlgeschlagen. Bitte \xfcberpr\xfcfen Sie Ihre Eingaben.")}finally{u(!1)}}else l("Die Passw\xf6rter stimmen nicht \xfcberein.")},className:"mt-8 space-y-6",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-Mail-Adresse"}),(0,c.jsx)("input",{type:"email",name:"email",id:"email",value:t.email,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"ihre.email@beispiel.de"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passwort"}),(0,c.jsx)("input",{type:"password",name:"password",id:"password",value:t.password,onChange:m,required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Mindestens 6 Zeichen"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passwort best\xe4tigen"}),(0,c.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:t.confirmPassword,onChange:m,required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Passwort wiederholen"})]})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+(i?"opacity-50 cursor-not-allowed":""),children:i?"Registriere...":"Registrieren"})})]}),(0,c.jsxs)("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Bereits registriert?"," ",(0,c.jsx)(o.N_,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Anmelden"})]})]})})}}}]);
//# sourceMappingURL=987.9dc1a00c.chunk.js.map