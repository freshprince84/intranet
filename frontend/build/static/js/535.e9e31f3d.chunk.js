"use strict";(self.webpackChunkintranet_frontend=self.webpackChunkintranet_frontend||[]).push([[535],{637:(e,t,l)=>{l.d(t,{A:()=>r});l(5043);var a=l(579);const r=e=>{let{children:t,columns:l={mobile:1,tablet:1,desktop:1,largeDesktop:1},gap:r="md",className:n=""}=e;const s={sm:"gap-0.5",md:"gap-0.5",lg:"gap-1"}[r];return(0,a.jsx)("div",{className:"flex flex-col ".concat(s," ").concat(n),children:t})}},957:(e,t,l)=>{l.d(t,{A:()=>g});var a=l(5043),r=l(4117),n=l(8224),s=l(2517),i=l(6365),c=l(6896),o=l(579);const d=e=>{let{item:t}=e;const{t:l}=(0,r.Bd)(),[i,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),h=(0,a.useRef)(null),g=e=>{if("string"!==typeof e)return null===e||void 0===e?"":String(e);return e.replace(/^#+\s+/gm,"").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/!\[([^\]]*)\]\([^)]+\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"").replace(/```[\s\S]*?```/g,"").replace(/`([^`]+)`/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/\b\d{4}-\d{2}-\d{2}_\d{2}h\d{2}_\d{2}\.\w+\b/g,"").replace(/\s+/g," ").trim()},u=g(t.descriptionContent||""),p=(e=>{const t=e.indexOf("\n");if(t>0&&t<150)return e.substring(0,t);if(e.length>150){let t=150;for(let l=150;l>100;l--)if(" "===e[l]||"."===e[l]||","===e[l]||"!"===e[l]||"?"===e[l]){t=l+1;break}return e.substring(0,t)}return e})(u),f=u.length>p.length||u.includes("\n"),b=f?((e,t)=>{if(!e||!t)return"";const l=e.indexOf(t);if(-1===l){const l=e.indexOf("\n");return l>0?e.substring(l+1).trim():e.length>t.length?e.substring(t.length).trim():""}const a=e.indexOf("\n",l);if(a>0)return e.substring(a+1).trim();const r=l+t.length;return e.length>r?e.substring(r).trim():""})(u,p):"";(0,a.useEffect)((()=>{if(h.current&&u){const e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",e.style.width=h.current.offsetWidth+"px",e.style.whiteSpace="nowrap",e.style.fontSize=window.getComputedStyle(h.current).fontSize,e.style.fontFamily=window.getComputedStyle(h.current).fontFamily,e.textContent=u,document.body.appendChild(e);const t=e.scrollWidth,l=h.current.scrollWidth;x((t>l||f)&&f),document.body.removeChild(e)}}),[u,f]);f&&((e,t)=>{if(!e)return"";const l=e.indexOf("\n");if(l>0)return e.substring(l+1).trim();const a=g(e),r=a.indexOf(t);if(r>=0&&a.length>r+t.length){if(a.length-(r+t.length)>0&&e.length>t.length){let l=Math.min(150,e.length);for(let t=l;t>100&&t<e.length;t--)if(" "===e[t]||"."===e[t]||","===e[t]||"\n"===e[t]){l=t+1;break}if(t.length>l){l=t.length;for(let t=l;t<e.length&&t<l+50;t++)if(" "===e[t]||"."===e[t]||","===e[t]||"\n"===e[t]){l=t+1;break}}if(e.length>l)return e.substring(l).trim()}}})(t.descriptionContent||"",p);const v=t.descriptionContent||"",w=/!\[([^\]]*)\]\([^)]+\)/.test(v),y=f&&m;return(0,o.jsxs)("div",{className:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 ".concat(t.className||""),children:[(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[(0,o.jsx)("span",{ref:h,className:"text-gray-900 dark:text-white flex-1 min-w-0 break-words whitespace-pre-wrap",children:p}),y&&!i&&(0,o.jsx)("button",{onClick:e=>{e.stopPropagation(),d(!0)},className:"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3",title:l("dataCard.expandDescription"),children:(0,o.jsx)(n.A,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8"})}),i&&(0,o.jsx)("button",{onClick:e=>{e.stopPropagation(),d(!1)},className:"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3",title:l("dataCard.collapseDescription"),children:(0,o.jsx)(s.A,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8"})})]}),w&&(0,o.jsx)("div",{className:""===p.trim()?"mt-0":"mt-2",children:(0,o.jsx)(c.A,{content:v,showImagePreview:!0,attachmentMetadata:t.attachmentMetadata||[]})}),i&&f&&(()=>{let e="";return b&&""!==b.trim()?e=b:u.length>p.length&&(e=u.substring(p.length).trim()),e&&""!==e.trim()?(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("div",{className:"dark:text-gray-200 break-words text-gray-900 dark:text-white whitespace-pre-wrap",children:e.trim()})}):null})()]})},m=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desktop";if(e.descriptionContent)return null;const a="mobile"===l?"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0":"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",r="mobile"===l?"whitespace-nowrap":"whitespace-nowrap flex-shrink-0";return(0,o.jsxs)("div",{className:a,children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium ".concat("mobile"===l?"whitespace-nowrap":"whitespace-nowrap flex-shrink-0"),children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," ").concat(r),children:(e.value,e.value)})]},t)},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desktop",l=arguments.length>2?arguments[2]:void 0;if(!e)return null;const a="mobile"===t?"h-4 w-4":"h-6 w-6",r="mobile"===t?"p-1":"p-2",s="mobile"===t?"px-1.5 py-0.5 text-xs":"px-1.5 sm:px-2 md:px-2.5 py-0.5 sm:py-0.5 md:py-1 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl";return(0,o.jsxs)("div",{className:"flex items-center ".concat("mobile"===t?"gap-0.5":"gap-0.5 sm:gap-1"," flex-shrink-0 ").concat("desktop"===t?"min-w-0":""),children:[e.onPreviousClick&&(0,o.jsx)("button",{onClick:t=>{var l;t.stopPropagation(),null===(l=e.onPreviousClick)||void 0===l||l.call(e)},className:"".concat(r," text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0"),title:l("dataCard.previousStatus"),children:(0,o.jsx)(n.A,{className:a})}),(0,o.jsx)("span",{className:"".concat(s," font-medium rounded-full ").concat(e.color," ").concat(e.className||""," whitespace-nowrap flex-shrink-0"),children:e.label}),e.onNextClick&&(0,o.jsx)("button",{onClick:t=>{var l;t.stopPropagation(),null===(l=e.onNextClick)||void 0===l||l.call(e)},className:"".concat(r," text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0"),title:l("dataCard.nextStatus"),children:(0,o.jsx)(i.A,{className:a})})]})},h=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desktop";const a="mobile"===l?"font-semibold text-gray-900 dark:text-white break-words text-sm":"font-semibold text-gray-900 dark:text-white break-words",r="mobile"===l?{wordBreak:"break-word",overflowWrap:"break-word"}:{fontSize:"clamp(0.9375rem, 1.2vw + 0.5rem, 1.25rem)",wordBreak:"break-word",overflowWrap:"break-word"},n="mobile"===l?"text-xs text-gray-500 dark:text-gray-400 mt-1 break-words":"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-500 dark:text-gray-400 mt-1 break-words";return(0,o.jsxs)(o.Fragment,{children:["string"===typeof e?(0,o.jsx)("h3",{className:a,style:r,children:e}):e,t&&(0,o.jsx)("p",{className:n,children:t})]})},g=e=>{let{title:t,subtitle:l,status:n,metadata:i,actions:c,expandable:g,onClick:u,className:p="",headerClassName:f="",highlightBorder:b=!1,highlightColor:v="green",children:w}=e;const{t:y}=(0,r.Bd)(),k=b?"border-2 border-".concat(v,"-500 dark:border-").concat(v,"-600"):"border border-gray-300 dark:border-gray-700";return(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg ".concat(k," p-3 sm:p-4 md:p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow ").concat(u?"cursor-pointer":""," w-full overflow-hidden ").concat(p),onClick:u,children:[(0,o.jsxs)("div",{className:"block sm:hidden",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.filter((e=>"main"===e.section||!e.section&&("Angefragt von"===e.label||"Verantwortlicher"===e.label))).map(((e,t)=>m(e,t,"mobile"))),i.filter((e=>"main-second"===e.section||!e.section&&"Qualit\xe4tskontrolle"===e.label)).map(((e,t)=>m(e,t,"mobile"))),i.filter((e=>"main-third"===e.section||!e.section&&"Verantwortlicher"===e.label)).map(((e,t)=>m(e,t,"mobile")))]}),(0,o.jsx)("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0",style:{width:"50%",justifyContent:"flex-end"},children:i.filter((e=>"right-inline"===e.section)).map(((e,t)=>(0,o.jsxs)(a.Fragment,{children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(e.value,e.value)})]},t)))})]}),(0,o.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,o.jsx)("div",{className:"flex-1 min-w-0",style:{flex:"0 0 65%"},children:h(t,l,"mobile")}),(0,o.jsx)("div",{className:"flex-shrink-0",style:{flex:"0 0 35%",justifyContent:"flex-end"},children:x(n,"mobile",y)})]}),i.filter((e=>"right"===e.section)).length>0&&0===i.filter((e=>"center"===e.section)).length&&(0,o.jsx)("div",{className:"flex flex-col items-end gap-1 mb-2",children:i.filter((e=>"right"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 justify-end text-xs text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," break-words"),children:(e.value,e.value)})]},t)))})]}),(0,o.jsx)("div",{className:"hidden sm:block",children:(0,o.jsxs)("div",{className:"grid items-center gap-4 mb-2",style:{gridTemplateColumns:"1fr auto"},children:[(0,o.jsx)("div",{className:"min-w-0 pr-2",children:h(t,l,"desktop")}),(0,o.jsxs)("div",{className:"flex items-center justify-end gap-1 sm:gap-2 md:gap-3 flex-nowrap overflow-visible",children:[i.filter((e=>"main"===e.section)).length>0&&(0,o.jsx)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap",children:(()=>{const e=i.filter((e=>"main"===e.section&&!e.descriptionContent));return e.map(((t,l)=>{var r,n,s,i,c;const d=l>0?e[l-1]:null,m=(null===(r=t.label)||void 0===r?void 0:r.includes("Check-in"))||(null===(n=t.label)||void 0===n?void 0:n.includes("Check-out"))||(null===(s=t.label)||void 0===s?void 0:s.includes("checkInOut")),x="Zimmer"===(null===d||void 0===d?void 0:d.label)||(null===d||void 0===d||null===(i=d.label)||void 0===i?void 0:i.includes("Zimmer"))||(null===d||void 0===d||null===(c=d.label)||void 0===c?void 0:c.includes("room")),h=m&&x;return(0,o.jsxs)(a.Fragment,{children:[h&&(0,o.jsx)("span",{className:"ml-2 sm:ml-3"}),t.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:t.icon}),t.label&&(0,o.jsx)("span",{className:"font-medium whitespace-nowrap flex-shrink-0",children:t.label.endsWith(":")?t.label:"".concat(t.label,":")}),(0,o.jsx)("span",{className:"".concat(t.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(t.value,t.value)})]},l)}))})()}),(0,o.jsxs)("div",{className:"flex items-center gap-0.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-nowrap whitespace-nowrap flex-shrink-0",children:[i.filter((e=>"main-second"===e.section&&e.label||!e.section&&"Angefragt von"===e.label)).map(((e,t)=>e.descriptionContent?null:(0,o.jsxs)(a.Fragment,{children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium whitespace-nowrap flex-shrink-0",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap flex-shrink-0"),children:(e.value,e.value)})]},t))),i.filter((e=>"main-third"===e.section||!e.section&&"Verantwortlicher"===e.label)).map(((e,t)=>e.descriptionContent?null:(0,o.jsxs)(a.Fragment,{children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium whitespace-nowrap flex-shrink-0",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap flex-shrink-0"),children:(e.value,e.value)})]},t)))]}),i.filter((e=>"right-inline"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-shrink-0 whitespace-nowrap",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," whitespace-nowrap"),children:(e.value,e.value)})]},t))),x(n,"desktop",y)]})]})}),i.filter((e=>"right"===e.section)).length>0&&0===i.filter((e=>"center"===e.section)).length&&(0,o.jsx)("div",{className:"hidden sm:flex flex-shrink-0 ml-4 flex-col items-end gap-1 sm:gap-2 mb-3 sm:mb-4 md:mb-5",children:i.filter((e=>"right"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 justify-end text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," break-words"),children:(e.value,e.value)})]},t)))}),(()=>{const e=i.filter((e=>"center"===e.section)).length>0,t=i.filter((e=>"full"!==e.section&&"main"!==e.section&&"main-second"!==e.section&&"right-inline"!==e.section));return(e?t.filter((e=>"left"===e.section||"center"===e.section||"right"===e.section)).length>0:t.filter((e=>"left"===e.section||"right"===e.section||!e.section&&"Angefragt von"!==e.label&&"Verantwortlicher"!==e.label)).length>0)?(0,o.jsx)("div",{className:"flex flex-col gap-3 sm:gap-4 mb-3 sm:mb-4",children:e?(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-start justify-items-start",children:[(0,o.jsx)("div",{className:"flex flex-col gap-2 items-start w-full",children:i.filter((e=>"left"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 w-full",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:e.className||"text-gray-900 dark:text-white",children:(e.value,e.value)})]},t)))}),(0,o.jsx)("div",{className:"flex flex-col gap-2 items-center",children:i.filter((e=>"center"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," break-words"),children:(e.value,e.value)})]},t)))}),(0,o.jsx)("div",{className:"flex flex-col gap-2 items-end",children:i.filter((e=>"right"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 justify-end text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"".concat(e.className||"text-gray-900 dark:text-white"," break-words"),children:(e.value,e.value)})]},t)))})]}):(0,o.jsxs)(o.Fragment,{children:[i.filter((e=>"left"===e.section)).length>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:i.filter((e=>"left"===e.section)).map(((e,t)=>(0,o.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),e.label&&(0,o.jsx)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:e.className||"text-gray-900 dark:text-white",children:(e.value,e.value)})]},t)))}),i.filter((e=>{const t=e.section;return"main"!==t&&"main-second"!==t&&"right-inline"!==t&&"center"!==t&&(!t&&"Angefragt von"!==e.label&&"Verantwortlicher"!==e.label)})).length>0&&(0,o.jsx)("div",{className:"flex flex-col gap-2 sm:gap-2.5",children:i.filter((e=>{const t=e.section;return"main"!==t&&"main-second"!==t&&"right-inline"!==t&&"center"!==t&&(!t&&"Angefragt von"!==e.label&&"Verantwortlicher"!==e.label)})).map(((e,t)=>e.descriptionContent?(0,o.jsx)(d,{item:e},t):(0,o.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400",children:[e.icon&&(0,o.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,o.jsx)("span",{className:"font-medium mr-1 sm:mr-2 whitespace-nowrap",children:e.label.endsWith(":")?e.label:"".concat(e.label,":")}),(0,o.jsx)("span",{className:"flex-1 min-w-0 break-words ".concat(e.className||"text-gray-900 dark:text-white"),children:(e.value,e.value)})]},t)))})]})}):null})(),i.filter((e=>"full"===e.section&&e.descriptionContent)).length>0&&(0,o.jsx)("div",{className:"mt-4",children:i.filter((e=>"full"===e.section&&e.descriptionContent)).map(((e,t)=>(0,o.jsx)(d,{item:e},t)))}),c&&(0,o.jsx)("div",{className:"flex items-center space-x-2 flex-wrap justify-end mt-4",onClick:e=>e.stopPropagation(),children:c}),w&&(0,o.jsx)("div",{className:"mb-4",children:w}),g&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("button",{onClick:e=>{e.stopPropagation(),g.onToggle()},className:"flex items-center justify-between w-full text-left text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[(0,o.jsx)("span",{children:"Details"}),g.isExpanded?(0,o.jsx)(s.A,{className:"h-4 w-4"}):(0,o.jsx)("span",{className:"text-base lg:text-lg xl:text-xl",children:"<"})]}),g.isExpanded&&(0,o.jsx)("div",{className:"mt-2 pt-3",children:g.content})]})]})}},2023:(e,t,l)=>{l.d(t,{F:()=>d});var a=l(9379),r=l(5043),n=l(1923),s=l(8018);const i=e=>"table_settings_".concat(e),c=async e=>{try{return(await n.A.get("/table-settings/".concat(e))).data}catch(t){console.error("Fehler beim Abrufen der Tabelleneinstellungen vom Server:",t);try{const t=i(e),l=localStorage.getItem(t);if(l)return JSON.parse(l)}catch(l){console.error("Fehler beim Laden aus localStorage:",l)}return{tableId:e,columnOrder:[],hiddenColumns:[]}}},o=async e=>{try{await n.A.post("/table-settings",e);const t=i(e.tableId);localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error("Fehler beim Speichern der Tabelleneinstellungen auf dem Server:",t);try{const t=i(e.tableId);localStorage.setItem(t,JSON.stringify(e))}catch(l){console.error("Fehler beim Speichern im localStorage:",l)}}},d=(e,t)=>{const[l,n]=(0,r.useState)({tableId:e,columnOrder:(null===t||void 0===t?void 0:t.defaultColumnOrder)||[],hiddenColumns:(null===t||void 0===t?void 0:t.defaultHiddenColumns)||[]}),[i,d]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null);(0,r.useEffect)((()=>{let l=!0;return(async()=>{try{d(!0);const a=await c(e);if(!l)return;s.v.log("Geladene Tabelleneinstellungen vom Server:",a),0===a.columnOrder.length&&null!==t&&void 0!==t&&t.defaultColumnOrder&&(a.columnOrder=t.defaultColumnOrder),!a.viewMode&&null!==t&&void 0!==t&&t.defaultViewMode&&(a.viewMode=t.defaultViewMode);let r=!1;!a.sortConfig&&null!==t&&void 0!==t&&t.defaultSortConfig&&(a.sortConfig=t.defaultSortConfig,r=!0),s.v.log("Finale Tabelleneinstellungen nach Initialisierung:",a),n(a),x(null),r&&o(a).catch((e=>{x(e instanceof Error?e:new Error("Fehler beim Speichern der Standard-Sortierung")),console.error("Fehler beim Speichern der Standard-Sortierung:",e)}))}catch(a){if(!l)return;x(a instanceof Error?a:new Error("Fehler beim Laden der Einstellungen")),console.error("Fehler beim Laden der Tabelleneinstellungen:",a)}finally{l&&d(!1)}})(),()=>{l=!1}}),[e]);const h=(0,r.useCallback)((async e=>{try{const t=(0,a.A)((0,a.A)({},l),{},{columnOrder:e});n(t),await o(t)}catch(t){x(t instanceof Error?t:new Error("Fehler beim Speichern der Spaltenreihenfolge")),console.error("Fehler beim Speichern der Spaltenreihenfolge:",t)}}),[l]),g=(0,r.useCallback)((async e=>{try{n((t=>{const l=(0,a.A)((0,a.A)({},t),{},{hiddenColumns:e});return o(l).catch((e=>{x(e instanceof Error?e:new Error("Fehler beim Speichern der versteckten Spalten")),console.error("Fehler beim Speichern der versteckten Spalten:",e)})),l}))}catch(t){x(t instanceof Error?t:new Error("Fehler beim Speichern der versteckten Spalten")),console.error("Fehler beim Speichern der versteckten Spalten:",t)}}),[]),u=(0,r.useCallback)((async e=>{try{let t;t=l.hiddenColumns.includes(e)?l.hiddenColumns.filter((t=>t!==e)):[...l.hiddenColumns,e];const r=(0,a.A)((0,a.A)({},l),{},{hiddenColumns:t});n(r),await o(r)}catch(t){x(t instanceof Error?t:new Error("Fehler beim \xc4ndern der Spaltenansicht")),console.error("Fehler beim \xc4ndern der Spaltenansicht:",t)}}),[l]),p=(0,r.useCallback)((async e=>{try{n((t=>{const l=(0,a.A)((0,a.A)({},t),{},{viewMode:e});return o(l).catch((e=>{x(e instanceof Error?e:new Error("Fehler beim Speichern des View-Modes")),console.error("Fehler beim Speichern des View-Modes:",e)})),l}))}catch(t){x(t instanceof Error?t:new Error("Fehler beim Speichern des View-Modes")),console.error("Fehler beim Speichern des View-Modes:",t)}}),[]),f=(0,r.useCallback)((async e=>{try{n((t=>{const l=(0,a.A)((0,a.A)({},t),{},{sortConfig:e});return o(l).catch((e=>{x(e instanceof Error?e:new Error("Fehler beim Speichern der Sortierung")),console.error("Fehler beim Speichern der Sortierung:",e)})),l}))}catch(t){x(t instanceof Error?t:new Error("Fehler beim Speichern der Sortierung")),console.error("Fehler beim Speichern der Sortierung:",t)}}),[]);return{settings:l,isLoading:i,error:m,updateColumnOrder:h,updateHiddenColumns:g,toggleColumnVisibility:u,isColumnVisible:e=>!l.hiddenColumns.includes(e),updateViewMode:p,updateSortConfig:f}}},8897:(e,t,l)=>{l.d(t,{A:()=>h});var a=l(5043),r=l(4117),n=l(9626),s=l(2311),i=l(1909),c=l(9531),o=l(4832),d=l(7591),m=l(579);const x=e=>{let{id:t,label:l,index:a,isVisible:d,onToggleVisibility:x,sortDirection:h,onSortDirectionChange:g,showMainSort:u=!1,isMainSort:p=!1}=e;const{t:f}=(0,r.Bd)();return(0,m.jsxs)("li",{className:"flex items-center justify-between px-2.5 py-2 rounded-md transition-colors duration-150 hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,m.jsx)("div",{className:"flex items-center flex-1 min-w-0",children:(0,m.jsx)("span",{className:"text-sm dark:text-gray-300",children:l})}),(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[g&&(0,m.jsx)("button",{onClick:e=>{e.stopPropagation();g(t,p&&void 0!==h&&"asc"===h?"desc":"asc")},className:"inline-flex items-center justify-center p-1.5 rounded-md transition-colors duration-150 ".concat(p?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50":"bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300"),title:p&&void 0!==h?"".concat(f("tableColumn.mainSort"),": ").concat(f("asc"===h?"tableColumn.ascending":"tableColumn.descending")," (").concat(f("tableColumn.clickToToggle"),")"):"".concat(f("tableColumn.setMainSort")," (").concat(f("tableColumn.clickToSet"),")"),children:p&&"asc"===h?(0,m.jsx)(n.A,{className:"h-4 w-4"}):p&&"desc"===h?(0,m.jsx)(s.A,{className:"h-4 w-4"}):(0,m.jsx)(i.A,{className:"h-4 w-4"})}),(0,m.jsx)("button",{onClick:()=>x(t),className:"inline-flex items-center justify-center p-1.5 rounded-full bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",title:f(d?"tableColumn.hideColumn":"tableColumn.showColumn"),children:d?(0,m.jsx)(c.A,{className:"w-4 h-4 dark:text-gray-300"}):(0,m.jsx)(o.A,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})})]})]})},h=e=>{let{columns:t,visibleColumns:l,columnOrder:n,onToggleColumnVisibility:s,onMoveColumn:c,onClose:o,buttonTitle:h,modalTitle:g,mainSortConfig:u,onMainSortChange:p,showMainSort:f=!1,isOpen:b,onOpenChange:v}=e;const{t:w}=(0,r.Bd)(),y=h||w("tableColumn.configure"),k=g||w("tableColumn.configure"),[j,N]=(0,a.useState)(!1),C=void 0!==b?b:j,S=(0,a.useRef)(null),A=[...t].sort(((e,t)=>{const l=n.indexOf(e.id),a=n.indexOf(t.id);return-1===l?1:-1===a?-1:l-a})),F=(0,a.useCallback)((()=>{void 0!==b?null===v||void 0===v||v(!1):N(!1),null===o||void 0===o||o()}),[b,v,o]),E=(0,a.useCallback)((()=>{void 0!==b?null===v||void 0===v||v(!0):N(!0)}),[b,v]);return(0,a.useEffect)((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&F()};return C&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[C,F]),(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&C&&F()};return C&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[C,F]),(0,m.jsxs)("div",{className:"relative",ref:S,children:[void 0===b&&(0,m.jsx)("button",{className:"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",onClick:C?F:E,title:y,children:f?(0,m.jsx)(i.A,{className:"w-5 h-5"}):(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 012 10z",clipRule:"evenodd"})})}),C&&(0,m.jsxs)("div",{className:"absolute right-0 mt-2 w-64 max-w-[calc(100vw-1rem)] bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-300 dark:border-gray-600",role:"dialog","aria-modal":"true","aria-labelledby":"table-column-config-title",children:[(0,m.jsxs)("div",{className:"px-3 py-2.5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,m.jsx)("h3",{id:"table-column-config-title",className:"text-sm font-semibold text-gray-900 dark:text-white",children:k}),(0,m.jsx)("button",{onClick:F,className:"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150",title:w("common.close"),children:(0,m.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,m.jsx)("ul",{className:"px-2 py-1 max-h-64 overflow-y-auto",children:A.map(((e,t)=>{const a=l.includes(e.id),r=(null===u||void 0===u?void 0:u.key)===e.id,n=r?u.direction:void 0,i=f&&p;return(0,m.jsx)(x,{id:e.id,label:e.label,index:t,isVisible:a,onToggleVisibility:s,sortDirection:n,onSortDirectionChange:i?p:void 0,showMainSort:f,isMainSort:r},e.id)}))})]})]})}}}]);
//# sourceMappingURL=535.e9e31f3d.chunk.js.map