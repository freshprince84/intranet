{"version":3,"file":"static/js/692.fb9f96b4.chunk.js","mappings":"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","sources":["components/FilterRow.tsx","components/FilterLogicalOperator.tsx","components/FilterPane.tsx","components/SavedFilterTags.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { TrashIcon, PlusCircleIcon, ArrowUpIcon, ArrowDownIcon, ChevronUpIcon, ChevronDownIcon } from '@heroicons/react/24/outline';\nimport axiosInstance from '../config/axios.ts';\nimport { API_ENDPOINTS } from '../config/api.ts';\n\nexport interface FilterCondition {\n  column: string;\n  operator: string;\n  value: string | number | Date | null;\n}\n\ninterface TableColumn {\n  id: string;\n  label: string;\n}\n\ninterface FilterRowProps {\n  condition: FilterCondition;\n  onChange: (condition: FilterCondition) => void;\n  onDelete: () => void;\n  onAdd: () => void;\n  columns: TableColumn[];\n  isFirst: boolean;\n  isLast: boolean;\n  sortDirection?: 'asc' | 'desc';\n  sortPriority?: number;\n  onSortDirectionChange?: (direction: 'asc' | 'desc') => void;\n  onPriorityChange?: (priority: number) => void;\n  canMoveUp?: boolean;\n  canMoveDown?: boolean;\n}\n\n// Neue Interfaces f√ºr Benutzer und Rollen\ninterface User {\n  id: number;\n  firstName: string;\n  lastName: string;\n}\n\ninterface Role {\n  id: number;\n  name: string;\n}\n\nconst getOperatorsByColumnType = (columnId: string, t: (key: string) => string): { value: string; label: string }[] => {\n  // Standard-Text-Operatoren\n  const textOperators = [\n    { value: 'equals', label: t('filter.operators.equals') },\n    { value: 'contains', label: t('filter.operators.contains') },\n    { value: 'startsWith', label: t('filter.operators.startsWith') },\n    { value: 'endsWith', label: t('filter.operators.endsWith') }\n  ];\n\n  // Datum-Operatoren (benutzerfreundliche Labels)\n  const dateOperators = [\n    { value: 'equals', label: t('filter.operators.isExactly') },\n    { value: 'after', label: t('filter.operators.after') },\n    { value: 'before', label: t('filter.operators.before') },\n    { value: 'between', label: t('filter.operators.between') }\n  ];\n\n  // Dauer-Operatoren (f√ºr Zeitspannen)\n  const durationOperators = [\n    { value: 'equals', label: t('filter.operators.isEqual') },\n    { value: 'greater_than', label: t('filter.operators.greaterThan') },\n    { value: 'less_than', label: t('filter.operators.lessThan') }\n  ];\n\n  // Status-Operatoren (f√ºr Enum-Werte)\n  const statusOperators = [\n    { value: 'equals', label: t('filter.operators.equals') },\n    { value: 'notEquals', label: t('filter.operators.notEquals') }\n  ];\n\n  // Je nach Spaltentyp entsprechende Operatoren zur√ºckgeben\n  if (columnId === 'dueDate' || columnId === 'startTime') {\n    return dateOperators;\n  } else if (columnId === 'duration') {\n    return durationOperators;\n  } else if (columnId === 'status') {\n    return statusOperators;\n  } else if (columnId === 'responsible' || columnId === 'qualityControl' || columnId === 'responsibleAndQualityControl') {\n    return statusOperators;\n  } else {\n    return textOperators;\n  }\n};\n\nconst FilterRow: React.FC<FilterRowProps> = ({ \n  condition, \n  onChange, \n  onDelete, \n  onAdd,\n  columns, \n  isFirst,\n  isLast,\n  sortDirection,\n  sortPriority,\n  onSortDirectionChange,\n  onPriorityChange,\n  canMoveUp = false,\n  canMoveDown = false\n}) => {\n  const { t } = useTranslation();\n  const [operators, setOperators] = useState<{ value: string; label: string }[]>([]);\n  // States f√ºr Benutzer und Rollen\n  const [users, setUsers] = useState<User[]>([]);\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [loadingRoles, setLoadingRoles] = useState(false);\n  \n  // Operatoren aktualisieren, wenn sich die Spalte √§ndert\n  useEffect(() => {\n    setOperators(getOperatorsByColumnType(condition.column, t));\n  }, [condition.column, t]);\n  \n  // Laden der Benutzer und Rollen, wenn ben√∂tigt\n  useEffect(() => {\n    const loadUsersAndRoles = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      \n      if (condition.column === 'responsible' || condition.column === 'qualityControl' || condition.column === 'responsibleAndQualityControl') {\n        // Benutzer laden (nur aktive Benutzer)\n        setLoadingUsers(true);\n        try {\n          const response = await axiosInstance.get('/users/dropdown');\n          setUsers(response.data);\n        } catch (error) {\n          console.error('Fehler beim Laden der Benutzer:', error);\n        } finally {\n          setLoadingUsers(false);\n        }\n        \n        // Rollen laden, aber nur wenn es sich um den Verantwortlichen handelt\n        if (condition.column === 'responsible' || condition.column === 'responsibleAndQualityControl') {\n          setLoadingRoles(true);\n          try {\n            const response = await axiosInstance.get('/roles');\n            setRoles(response.data);\n          } catch (error) {\n            console.error('Fehler beim Laden der Rollen:', error);\n          } finally {\n            setLoadingRoles(false);\n          }\n        }\n      }\n    };\n    \n    loadUsersAndRoles();\n  }, [condition.column]);\n  \n  // Rendert das Eingabefeld basierend auf Spalte und Operator\n  const renderValueInput = (\n    columnId: string, \n    operator: string, \n    value: string | number | Date | null, \n    onChange: (value: string | number | Date | null) => void\n  ) => {\n    // F√ºr Status ein Dropdown rendern\n    if (columnId === 'status') {\n      // √úberpr√ºfen welche Tabelle wir filtern (√ºber Columns-Array)\n      const isRequestTable = columns.some(col => col.id === 'requestedBy' || col.id === 'createTodo');\n      const isTaskTable = columns.some(col => col.id === 'responsible' || col.id === 'qualityControl');\n      const isInvoiceTable = columns.some(col => col.id === 'client') && !columns.some(col => col.id === 'responsible');\n      \n      if (isRequestTable) {\n        // Request-Status-Optionen\n        return (\n          <select\n            className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n            value={value as string || ''}\n            onChange={(e) => onChange(e.target.value)}\n          >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n            <option value=\"approval\">{t('filter.row.status.approval')}</option>\n            <option value=\"approved\">{t('filter.row.status.approved')}</option>\n            <option value=\"to_improve\">{t('filter.row.status.to_improve')}</option>\n            <option value=\"denied\">{t('filter.row.status.denied')}</option>\n          </select>\n        );\n      } else if (isTaskTable) {\n        // Task-Status-Optionen\n        return (\n          <select\n            className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n            value={value as string || ''}\n            onChange={(e) => onChange(e.target.value)}\n          >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n            <option value=\"open\">{t('filter.row.status.open')}</option>\n            <option value=\"in_progress\">{t('filter.row.status.in_progress')}</option>\n            <option value=\"improval\">{t('filter.row.status.improval')}</option>\n            <option value=\"quality_control\">{t('filter.row.status.quality_control')}</option>\n            <option value=\"done\">{t('filter.row.status.done')}</option>\n          </select>\n        );\n      } else if (isInvoiceTable) {\n        // Invoice-Status-Optionen\n        return (\n          <select\n            className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n            value={value as string || ''}\n            onChange={(e) => onChange(e.target.value)}\n          >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n            <option value=\"DRAFT\">{t('filter.row.status.draft')}</option>\n            <option value=\"SENT\">{t('filter.row.status.sent')}</option>\n            <option value=\"PAID\">{t('filter.row.status.paid')}</option>\n            <option value=\"OVERDUE\">{t('filter.row.status.overdue')}</option>\n            <option value=\"CANCELLED\">{t('filter.row.status.cancelled')}</option>\n          </select>\n        );\n      } else {\n        // Fallback f√ºr andere Tabellen mit Status\n        return (\n          <select\n            className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n            value={value as string || ''}\n            onChange={(e) => onChange(e.target.value)}\n          >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n            <option value=\"open\">{t('filter.row.status.open')}</option>\n            <option value=\"in_progress\">{t('filter.row.status.in_progress')}</option>\n            <option value=\"done\">{t('filter.row.status.done')}</option>\n          </select>\n        );\n      }\n    }\n    \n    // F√ºr Verantwortlicher ein Dropdown mit Benutzern und Rollen rendern\n    if (columnId === 'responsible' || columnId === 'responsibleAndQualityControl') {\n      return (\n        <select\n          className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n          value={value as string || ''}\n          onChange={(e) => onChange(e.target.value)}\n          disabled={loadingUsers || loadingRoles}\n        >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n          \n          {users.length > 0 && (\n            <optgroup label={t('filter.row.groups.users')}>\n              {users.map(user => (\n                <option key={`user-${user.id}`} value={`user-${user.id}`}>\n                  {user.firstName} {user.lastName}\n                </option>\n              ))}\n            </optgroup>\n          )}\n          \n          {roles.length > 0 && (\n            <optgroup label={t('filter.row.groups.roles')}>\n              {roles.map(role => (\n                <option key={`role-${role.id}`} value={`role-${role.id}`}>\n                  {role.name}\n                </option>\n              ))}\n            </optgroup>\n          )}\n          \n          {(loadingUsers || loadingRoles) && (\n            <option value=\"\" disabled>{t('filter.row.loadingData')}</option>\n          )}\n        </select>\n      );\n    }\n    \n    // F√ºr Qualit√§tskontrolle ein Dropdown nur mit Benutzern rendern\n    if (columnId === 'qualityControl') {\n      return (\n        <select\n          className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n          value={value as string || ''}\n          onChange={(e) => onChange(e.target.value)}\n          disabled={loadingUsers}\n        >\n            <option value=\"\">{t('filter.row.pleaseSelect')}</option>\n          \n          {users.length > 0 && (\n            <optgroup label={t('filter.row.groups.users')}>\n              {users.map(user => (\n                <option key={`user-${user.id}`} value={`user-${user.id}`}>\n                  {user.firstName} {user.lastName}\n                </option>\n              ))}\n            </optgroup>\n          )}\n          \n          {loadingUsers && (\n            <option value=\"\" disabled>{t('filter.row.loadingUsers')}</option>\n          )}\n        </select>\n      );\n    }\n    \n    // F√ºr Datumsfelder ein Datumseingabefeld rendern\n    if (columnId === 'dueDate' || columnId === 'startTime') {\n      // Pr√ºfe ob der Wert eine Variable ist\n      const isVariable = value === '__TODAY__';\n      const isCustomDate = !isVariable && value;\n      \n      return (\n        <div className=\"space-y-2\">\n          {/* Auswahl zwischen Datum und Variable */}\n          <select\n            className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-full\"\n            value={isVariable ? 'variable' : 'date'}\n            onChange={(e) => {\n              if (e.target.value === 'variable') {\n                onChange('__TODAY__');\n              } else {\n                onChange('');\n              }\n            }}\n          >\n            <option value=\"date\">{t('filter.row.selectDate')}</option>\n            <option value=\"variable\">{t('filter.row.currentDay')}</option>\n          </select>\n          \n          {/* Datum-Input nur anzeigen wenn nicht Variable */}\n          {!isVariable && (\n            <input\n              type=\"date\"\n              className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              value={value as string || ''}\n              onChange={(e) => onChange(e.target.value)}\n            />\n          )}\n          \n          {/* Variable-Anzeige */}\n          {isVariable && (\n            <div className=\"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md text-blue-700 dark:text-blue-300 text-xs\">\n              üìÖ {t('filter.row.dynamicDay')}\n            </div>\n          )}\n        </div>\n      );\n    }\n    \n    // Standard-Texteingabe f√ºr alle anderen Felder\n    return (\n      <input\n        type=\"text\"\n        className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-full\"\n        value={value as string || ''}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={t('filter.row.enterValue')}\n      />\n    );\n  };\n  \n  return (\n    <div className=\"flex items-center space-x-2 mb-0\">\n      {/* Spalten-Auswahl */}\n      <div className=\"w-1/3\">\n        <select\n          className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-full\"\n          value={condition.column}\n          onChange={(e) => onChange({ \n            ...condition, \n            column: e.target.value, \n            operator: operators[0]?.value || 'equals',\n            value: null  // ‚úÖ VALUE ZUR√úCKSETZEN beim Spaltenwechsel\n          })}\n        >\n          <option value=\"\">{t('filter.row.selectColumn')}</option>\n          {columns.map((column) => (\n            <option key={column.id} value={column.id}>\n              {column.label}\n            </option>\n          ))}\n        </select>\n      </div>\n      \n      {/* Operator-Auswahl */}\n      <div className=\"w-1/4\">\n        <select\n          className=\"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-full\"\n          value={condition.operator}\n          onChange={(e) => onChange({ ...condition, operator: e.target.value })}\n        >\n          {operators.map((op) => (\n            <option key={op.value} value={op.value}>\n              {op.label}\n            </option>\n          ))}\n        </select>\n      </div>\n      \n      {/* Wert-Eingabe */}\n      <div className=\"w-1/3\">\n        {renderValueInput(\n          condition.column, \n          condition.operator, \n          condition.value, \n          (value) => onChange({ ...condition, value })\n        )}\n      </div>\n      \n      {/* Sortierrichtung und Priorit√§t (nur wenn Spalte ausgew√§hlt ist) */}\n      {condition.column !== '' && onSortDirectionChange && (\n        <div className=\"flex-shrink-0 flex items-center gap-1\">\n          {/* Priorit√§ts-Anzeige und -Steuerung */}\n          {sortPriority !== undefined && sortPriority > 0 && (\n            <div className=\"flex flex-col items-center gap-0.5\">\n              {canMoveUp && onPriorityChange && (\n                <button\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onPriorityChange(sortPriority - 1);\n                  }}\n                  className=\"p-0.5 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-500 rounded transition-colors\"\n                  title={t('filter.row.moveUp')}\n                >\n                  <ChevronUpIcon className=\"h-3 w-3\" />\n                </button>\n              )}\n              <span className=\"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded min-w-[1.5rem] text-center\">\n                {sortPriority}\n              </span>\n              {canMoveDown && onPriorityChange && (\n                <button\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onPriorityChange(sortPriority + 1);\n                  }}\n                  className=\"p-0.5 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-500 rounded transition-colors\"\n                  title={t('filter.row.moveDown')}\n                >\n                  <ChevronDownIcon className=\"h-3 w-3\" />\n                </button>\n              )}\n            </div>\n          )}\n          \n          {/* Sortierrichtung-Button */}\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              e.stopPropagation();\n              const currentDirection = sortDirection || 'asc';\n              const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';\n              onSortDirectionChange(newDirection);\n            }}\n            className=\"p-1.5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-500 rounded-md transition-colors border border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400\"\n            title={(sortDirection || 'asc') === 'asc' ? t('filter.row.sortAscending') : t('filter.row.sortDescending')}\n          >\n            {(sortDirection || 'asc') === 'asc' ? (\n              <ArrowUpIcon className=\"h-4 w-4\" />\n            ) : (\n              <ArrowDownIcon className=\"h-4 w-4\" />\n            )}\n          </button>\n        </div>\n      )}\n      \n      {/* Aktions-Buttons */}\n      <div className=\"flex gap-1\">\n        {/* L√∂schen-Button (nicht f√ºr die erste Zeile, wenn sie die einzige ist) */}\n        <button\n          type=\"button\"\n          onClick={onDelete}\n          className=\"p-1 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-500 rounded-md transition-colors\"\n          disabled={isFirst && !isLast}\n          title={t('filter.row.removeCondition')}\n        >\n          <TrashIcon className=\"h-4 w-4\" />\n        </button>\n        \n        {/* Hinzuf√ºgen-Button (nur in der letzten Zeile) */}\n        {isLast && (\n          <button\n            type=\"button\"\n            onClick={onAdd}\n            className=\"p-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-500 rounded-md transition-colors\"\n            title={t('filter.row.addCondition')}\n          >\n            <PlusCircleIcon className=\"h-4 w-4\" />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterRow; ","import React from 'react';\r\n\r\ninterface FilterLogicalOperatorProps {\r\n  operator: 'AND' | 'OR';\r\n  onChange: (operator: 'AND' | 'OR') => void;\r\n}\r\n\r\nconst FilterLogicalOperator: React.FC<FilterLogicalOperatorProps> = ({ operator, onChange }) => {\r\n  return (\r\n    <div className=\"flex items-center justify-center -my-1\">\r\n      <select\r\n        className=\"px-1.5 py-0.5 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-[60px]\"\r\n        value={operator}\r\n        onChange={(e) => onChange(e.target.value as 'AND' | 'OR')}\r\n      >\r\n        <option value=\"AND\">UND</option>\r\n        <option value=\"OR\">ODER</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterLogicalOperator; ","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CheckIcon, XMarkIcon, ArrowPathIcon, BookmarkIcon } from '@heroicons/react/24/outline';\nimport FilterRow, { FilterCondition } from './FilterRow.tsx';\nimport FilterLogicalOperator from './FilterLogicalOperator.tsx';\nimport axiosInstance from '../config/axios.ts';\nimport { API_ENDPOINTS } from '../config/api.ts';\nimport { toast } from 'react-toastify';\n\ninterface TableColumn {\n  id: string;\n  label: string;\n}\n\ninterface SortDirection {\n  column: string;\n  direction: 'asc' | 'desc';\n  priority: number;\n  conditionIndex: number; // Index der Filterzeile, zu der diese Sortierrichtung geh√∂rt\n}\n\ninterface FilterPaneProps {\n  columns: TableColumn[];\n  onApply: (conditions: FilterCondition[], logicalOperators: ('AND' | 'OR')[]) => void;\n  onReset: () => void;\n  savedConditions?: FilterCondition[];\n  savedOperators?: ('AND' | 'OR')[];\n  savedSortDirections?: SortDirection[];\n  onSortDirectionsChange?: (sortDirections: SortDirection[]) => void;\n  tableId: string; // Tabellen-ID f√ºr die gespeicherten Filter\n}\n\nconst FilterPane: React.FC<FilterPaneProps> = ({ \n  columns,\n  onApply,\n  onReset,\n  savedConditions,\n  savedOperators,\n  savedSortDirections,\n  onSortDirectionsChange,\n  tableId\n}) => {\n  const { t } = useTranslation();\n  // Initialisiere mit einem leeren Filter, wenn keine gespeicherten Filter vorhanden sind\n  const [conditions, setConditions] = useState<FilterCondition[]>(\n    savedConditions && savedConditions.length > 0 \n      ? savedConditions \n      : [{ column: '', operator: 'equals', value: null }]\n  );\n  \n  // Initialisiere mit AND als Standard-Operator\n  const [logicalOperators, setLogicalOperators] = useState<('AND' | 'OR')[]>(\n    savedOperators && savedOperators.length > 0\n      ? savedOperators\n      : []\n  );\n  \n  // Initialisiere Sortierrichtungen (Array-basiert mit Priorit√§t)\n  const [sortDirections, setSortDirections] = useState<SortDirection[]>(\n    savedSortDirections || []\n  );\n\n  // Zustand f√ºr das Speichern von Filtern\n  const [showSaveInput, setShowSaveInput] = useState(false);\n  const [filterName, setFilterName] = useState('');\n  \n  // Lade bestehende Filter, um Konflikte mit Standardfiltern zu vermeiden\n  const [existingFilters, setExistingFilters] = useState<{ id: number, name: string }[]>([]);\n  \n  useEffect(() => {\n    const fetchExistingFilters = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          return;\n        }\n        \n        const response = await axiosInstance.get(\n          API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(tableId)\n        );\n        \n        setExistingFilters(response.data.map((filter: any) => ({ id: filter.id, name: filter.name })));\n      } catch (err) {\n        console.error(t('filter.loadError'), err);\n      }\n    };\n    \n    fetchExistingFilters();\n  }, [tableId]);\n  \n  // Initialisiere Bedingungen und Operatoren nur wenn sich die Props von au√üen √§ndern\n  // Verwende useRef, um die vorherigen Werte zu speichern und nur bei echten √Ñnderungen zu aktualisieren\n  const prevSavedConditionsRef = useRef<FilterCondition[] | undefined>(savedConditions);\n  const prevSavedOperatorsRef = useRef<('AND' | 'OR')[] | undefined>(savedOperators);\n  const prevSavedSortDirectionsRef = useRef<SortDirection[] | undefined>(savedSortDirections);\n  \n  useEffect(() => {\n    // Pr√ºfe, ob sich die Props wirklich ge√§ndert haben (nicht durch lokale State-√Ñnderungen)\n    const conditionsChanged = JSON.stringify(prevSavedConditionsRef.current) !== JSON.stringify(savedConditions);\n    const operatorsChanged = JSON.stringify(prevSavedOperatorsRef.current) !== JSON.stringify(savedOperators);\n    const sortDirectionsChanged = JSON.stringify(prevSavedSortDirectionsRef.current) !== JSON.stringify(savedSortDirections);\n    \n    if (conditionsChanged && savedConditions) {\n      if (savedConditions.length > 0) {\n        setConditions(savedConditions);\n      } else if (savedConditions.length === 0) {\n        // Reset: Setze auf Standard\n        setConditions([{ column: '', operator: 'equals', value: null }]);\n      }\n      prevSavedConditionsRef.current = savedConditions;\n    }\n    \n    if (operatorsChanged && savedOperators !== undefined) {\n      setLogicalOperators(savedOperators);\n      prevSavedOperatorsRef.current = savedOperators;\n    }\n    \n    if (sortDirectionsChanged && savedSortDirections !== undefined) {\n      setSortDirections(savedSortDirections);\n      prevSavedSortDirectionsRef.current = savedSortDirections;\n    }\n  }, [savedConditions, savedOperators, savedSortDirections]);\n  \n  // Hilfsfunktion: Priorit√§ten neu nummerieren (1, 2, 3, ...)\n  const renumberPriorities = (sortDirs: SortDirection[]): SortDirection[] => {\n    return sortDirs\n      .sort((a, b) => a.priority - b.priority)\n      .map((sd, index) => ({ ...sd, priority: index + 1 }));\n  };\n  \n  // Hilfsfunktion: Sortierrichtung f√ºr eine Zeile finden\n  const getSortDirectionForIndex = (index: number): SortDirection | undefined => {\n    return sortDirections.find(sd => sd.conditionIndex === index);\n  };\n  \n  const handleConditionChange = (index: number, newCondition: FilterCondition) => {\n    const newConditions = [...conditions];\n    const oldCondition = newConditions[index];\n    newConditions[index] = newCondition;\n    setConditions(newConditions);\n    \n    // Wenn sich die Spalte ge√§ndert hat, aktualisiere Sortierrichtungen\n    if (oldCondition.column !== newCondition.column) {\n      let newSortDirections = [...sortDirections];\n      \n      // Entferne Sortierrichtung f√ºr diese Zeile (wenn vorhanden)\n      if (oldCondition.column) {\n        const oldSortDirIndex = newSortDirections.findIndex(sd => sd.conditionIndex === index);\n        if (oldSortDirIndex >= 0) {\n          newSortDirections.splice(oldSortDirIndex, 1);\n        }\n      }\n      \n      // Setze Standard-Sortierrichtung f√ºr neue Spalte (nur wenn Spalte ausgew√§hlt)\n      if (newCondition.column && newCondition.column !== '') {\n        // Pr√ºfe, ob bereits eine Sortierrichtung f√ºr diese Zeile existiert\n        const existingSortDir = newSortDirections.find(sd => sd.conditionIndex === index);\n        if (!existingSortDir) {\n          // Finde die h√∂chste Priorit√§t\n          const maxPriority = newSortDirections.length > 0 \n            ? Math.max(...newSortDirections.map(sd => sd.priority))\n            : 0;\n          \n          // F√ºge neue Sortierrichtung hinzu (mit conditionIndex)\n          newSortDirections.push({\n            column: newCondition.column,\n            direction: 'asc',\n            priority: maxPriority + 1,\n            conditionIndex: index\n          });\n        }\n      }\n      \n      // Priorit√§ten neu nummerieren\n      newSortDirections = renumberPriorities(newSortDirections);\n      \n      setSortDirections(newSortDirections);\n      if (onSortDirectionsChange) {\n        onSortDirectionsChange(newSortDirections);\n      }\n    }\n  };\n  \n  const handleOperatorChange = (index: number, newOperator: 'AND' | 'OR') => {\n    const newOperators = [...logicalOperators];\n    newOperators[index] = newOperator;\n    setLogicalOperators(newOperators);\n  };\n  \n  const handleAddCondition = () => {\n    setConditions([...conditions, { column: '', operator: 'equals', value: null }]);\n    \n    // F√ºge standardm√§√üig einen AND-Operator hinzu\n    if (conditions.length > 0) {\n      setLogicalOperators([...logicalOperators, 'AND']);\n    }\n  };\n  \n  const handleDeleteCondition = (index: number) => {\n    // Entferne die Bedingung\n    const newConditions = [...conditions];\n    newConditions.splice(index, 1);\n    setConditions(newConditions);\n    \n    // Entferne auch den entsprechenden Operator, falls vorhanden\n    if (index > 0) {\n      const newOperators = [...logicalOperators];\n      newOperators.splice(index - 1, 1);\n      setLogicalOperators(newOperators);\n    }\n    \n    // Entferne Sortierrichtung f√ºr diese Zeile und aktualisiere Indizes\n    let newSortDirections = sortDirections\n      .filter(sd => sd.conditionIndex !== index) // Entferne Sortierrichtung f√ºr gel√∂schte Zeile\n      .map(sd => {\n        // Aktualisiere conditionIndex f√ºr alle Zeilen nach der gel√∂schten\n        if (sd.conditionIndex > index) {\n          return { ...sd, conditionIndex: sd.conditionIndex - 1 };\n        }\n        return sd;\n      });\n    \n    // Priorit√§ten neu nummerieren\n    newSortDirections = renumberPriorities(newSortDirections);\n    \n    setSortDirections(newSortDirections);\n    if (onSortDirectionsChange) {\n      onSortDirectionsChange(newSortDirections);\n    }\n  };\n  \n  const handleSortDirectionChange = (index: number, direction: 'asc' | 'desc') => {\n    const condition = conditions[index];\n    if (condition && condition.column) {\n      let newSortDirections = [...sortDirections];\n      const existingIndex = newSortDirections.findIndex(sd => sd.conditionIndex === index);\n      \n      if (existingIndex >= 0) {\n        // Aktualisiere bestehende Sortierrichtung\n        newSortDirections[existingIndex] = {\n          ...newSortDirections[existingIndex],\n          direction\n        };\n      } else {\n        // Erstelle neue Sortierrichtung\n        const maxPriority = newSortDirections.length > 0 \n          ? Math.max(...newSortDirections.map(sd => sd.priority))\n          : 0;\n        newSortDirections.push({\n          column: condition.column,\n          direction,\n          priority: maxPriority + 1,\n          conditionIndex: index\n        });\n        // Priorit√§ten neu nummerieren\n        newSortDirections = renumberPriorities(newSortDirections);\n      }\n      \n      setSortDirections(newSortDirections);\n      if (onSortDirectionsChange) {\n        onSortDirectionsChange(newSortDirections);\n      }\n    }\n  };\n  \n  const handlePriorityChange = (index: number, newPriority: number) => {\n    const condition = conditions[index];\n    if (condition && condition.column) {\n      let newSortDirections = [...sortDirections];\n      const existingIndex = newSortDirections.findIndex(sd => sd.conditionIndex === index);\n      \n      if (existingIndex >= 0) {\n        const currentPriority = newSortDirections[existingIndex].priority;\n        \n        // Tausche Priorit√§ten mit der anderen Zeile\n        const otherIndex = newSortDirections.findIndex(sd => sd.priority === newPriority);\n        if (otherIndex >= 0) {\n          newSortDirections[otherIndex].priority = currentPriority;\n        }\n        \n        newSortDirections[existingIndex].priority = newPriority;\n        \n        // Priorit√§ten neu nummerieren\n        newSortDirections = renumberPriorities(newSortDirections);\n        \n        setSortDirections(newSortDirections);\n        if (onSortDirectionsChange) {\n          onSortDirectionsChange(newSortDirections);\n        }\n      }\n    }\n  };\n  \n  const handleApplyFilters = () => {\n    // Nur g√ºltige Bedingungen senden (bei denen mindestens eine Spalte ausgew√§hlt ist)\n    const validConditions = conditions.filter(c => c.column !== '');\n    onApply(validConditions, logicalOperators);\n  };\n  \n  const handleResetFilters = () => {\n    setConditions([{ column: '', operator: 'equals', value: null }]);\n    setLogicalOperators([]);\n    setSortDirections([]);\n    if (onSortDirectionsChange) {\n      onSortDirectionsChange([]);\n    }\n    onReset();\n  };\n\n  // Funktion zum Speichern des aktuellen Filters\n  const handleSaveFilter = async () => {\n    if (!filterName.trim()) {\n      toast.error(t('filter.noName'));\n      return;\n    }\n\n    // Pr√ºfe, ob der Name ein reservierter Standardfilter-Name ist\n    if (filterName === 'Archiv' || filterName === 'Aktuell') {\n      toast.error(t('filter.reservedNames'));\n      return;\n    }\n\n    // Pr√ºfe, ob ein Standardfilter mit diesem Namen bereits existiert\n    const standardFilterExists = existingFilters.some(filter => \n      (filter.name === 'Archiv' || filter.name === 'Aktuell') && filter.name === filterName\n    );\n    \n    if (standardFilterExists) {\n      toast.error(t('filter.cannotOverwriteStandard'));\n      return;\n    }\n\n    // Nur g√ºltige Bedingungen senden\n    const validConditions = conditions.filter(c => c.column !== '');\n    \n    if (validConditions.length === 0) {\n      toast.error(t('filter.noConditions'));\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        toast.error(t('filter.notAuthenticated'));\n        return;\n      }\n      \n      const response = await axiosInstance.post(\n        API_ENDPOINTS.SAVED_FILTERS.BASE,\n        {\n          tableId,\n          name: filterName,\n          conditions: validConditions,\n          operators: logicalOperators,\n          sortDirections: sortDirections\n        }\n      );\n      \n      toast.success(t('filter.saveSuccess'));\n      setShowSaveInput(false);\n      setFilterName('');\n    } catch (err) {\n      console.error('Fehler beim Speichern des Filters:', err);\n      toast.error(t('filter.saveError'));\n    }\n  };\n  \n  return (\n    <div className=\"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg\">\n      <h3 className=\"text-base font-medium text-gray-700 dark:text-gray-200 mb-3\">{t('filter.title')}</h3>\n      \n      <div className=\"space-y-0\">\n        {conditions.map((condition, index) => (\n          <React.Fragment key={index}>\n            <FilterRow\n              condition={condition}\n              onChange={(newCondition) => handleConditionChange(index, newCondition)}\n              onDelete={() => handleDeleteCondition(index)}\n              onAdd={handleAddCondition}\n              columns={columns}\n              isFirst={index === 0}\n              isLast={index === conditions.length - 1}\n              sortDirection={(() => {\n                const sortDir = getSortDirectionForIndex(index);\n                return sortDir ? sortDir.direction : undefined;\n              })()}\n              sortPriority={(() => {\n                const sortDir = getSortDirectionForIndex(index);\n                return sortDir ? sortDir.priority : undefined;\n              })()}\n              onSortDirectionChange={condition.column && condition.column !== '' ? (direction) => {\n                handleSortDirectionChange(index, direction);\n              } : undefined}\n              onPriorityChange={(() => {\n                const sortDir = getSortDirectionForIndex(index);\n                if (sortDir) {\n                  return (newPriority: number) => handlePriorityChange(index, newPriority);\n                }\n                return undefined;\n              })()}\n              canMoveUp={(() => {\n                const sortDir = getSortDirectionForIndex(index);\n                if (sortDir && sortDir.priority > 1) {\n                  return true;\n                }\n                return false;\n              })()}\n              canMoveDown={(() => {\n                const sortDir = getSortDirectionForIndex(index);\n                if (sortDir) {\n                  const maxPriority = sortDirections.length > 0 \n                    ? Math.max(...sortDirections.map(sd => sd.priority))\n                    : 0;\n                  return sortDir.priority < maxPriority;\n                }\n                return false;\n              })()}\n            />\n            \n            {/* Operator zwischen Bedingungen einf√ºgen (aber nicht nach der letzten) */}\n            {index < conditions.length - 1 && (\n              <FilterLogicalOperator\n                operator={logicalOperators[index] || 'AND'}\n                onChange={(newOperator) => handleOperatorChange(index, newOperator)}\n              />\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n      \n      {/* Speicher-Interface */}\n      {showSaveInput ? (\n        <div className=\"mt-4 flex gap-2 items-center\">\n          <input\n            type=\"text\"\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white flex-grow\"\n            placeholder={t('filter.filterName')}\n            value={filterName}\n            onChange={(e) => setFilterName(e.target.value)}\n          />\n          <button\n            onClick={handleSaveFilter}\n            className=\"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors\"\n            title={t('filter.saveFilter')}\n          >\n            <BookmarkIcon className=\"h-5 w-5\" />\n          </button>\n          <button\n            onClick={() => setShowSaveInput(false)}\n            className=\"p-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-colors\"\n            title={t('filter.cancel')}\n          >\n            <XMarkIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      ) : (\n        <div className=\"flex justify-end gap-2 mt-4\">\n          <button\n            onClick={handleResetFilters}\n            className=\"p-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-colors\"\n            title={t('filter.reset')}\n          >\n            <ArrowPathIcon className=\"h-5 w-5\" />\n          </button>\n          <button\n            onClick={() => setShowSaveInput(true)}\n            className=\"p-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-colors\"\n            title={t('filter.save')}\n          >\n            <BookmarkIcon className=\"h-5 w-5\" />\n          </button>\n          <button\n            onClick={handleApplyFilters}\n            className=\"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors\"\n            title={t('filter.apply')}\n          >\n            <CheckIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FilterPane; ","import React, { useState, useEffect, useMemo, useRef, useLayoutEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { XMarkIcon, ChevronDownIcon, PencilIcon, CheckIcon, TrashIcon } from '@heroicons/react/24/outline';\nimport { FilterCondition } from './FilterRow.tsx';\nimport axiosInstance from '../config/axios.ts';\nimport { API_ENDPOINTS } from '../config/api.ts';\nimport useMessage from '../hooks/useMessage.ts';\n\ninterface SortDirection {\n  column: string;\n  direction: 'asc' | 'desc';\n  priority: number;\n  conditionIndex: number;\n}\n\ninterface SavedFilter {\n  id: number;\n  name: string;\n  tableId: string;\n  conditions: FilterCondition[];\n  operators: ('AND' | 'OR')[];\n  sortDirections?: SortDirection[];\n  groupId?: number | null;\n  order?: number;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface FilterGroup {\n  id: number;\n  name: string;\n  tableId: string;\n  order: number;\n  filters: SavedFilter[];\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface SavedFilterTagsProps {\n  tableId: string;\n  onSelectFilter: (conditions: FilterCondition[], operators: ('AND' | 'OR')[], sortDirections?: SortDirection[]) => void;\n  onReset: () => void;\n  activeFilterName?: string;\n  selectedFilterId?: number | null;\n  onFilterChange?: (name: string, id: number | null, conditions: FilterCondition[], operators: ('AND' | 'OR')[], sortDirections?: SortDirection[]) => void;\n  defaultFilterName?: string;\n}\n\nconst SavedFilterTags: React.FC<SavedFilterTagsProps> = ({ \n  tableId, \n  onSelectFilter, \n  onReset,\n  activeFilterName,\n  selectedFilterId,\n  onFilterChange,\n  defaultFilterName = 'Heute'\n}) => {\n  const { t } = useTranslation();\n  const { showMessage } = useMessage();\n  \n  // √úbersetze Filter-Namen beim Anzeigen\n  const translateFilterName = (name: string): string => {\n    // Standard-Filter √ºbersetzen (auch wenn als √úbersetzungsschl√ºssel gespeichert)\n    if (name === 'Archiv' || name === 'tasks.filters.archive' || name === 'requests.filters.archiv') {\n      return tableId === 'worktracker-todos' ? t('tasks.filters.archive') : t('requests.filters.archiv');\n    }\n    if (name === 'Aktuell' || name === 'tasks.filters.current' || name === 'requests.filters.aktuell') {\n      return tableId === 'worktracker-todos' ? t('tasks.filters.current') : t('requests.filters.aktuell');\n    }\n    if (name === 'Heute') return t('common.today', 'Heute');\n    if (name === 'Woche') return t('common.week', 'Woche');\n    if (name === 'Aktive') return t('common.active', 'Aktive');\n    if (name === 'Alle') return t('common.all', 'Alle');\n    // F√ºr alle anderen Namen, gib sie unver√§ndert zur√ºck (z.B. Client-Namen)\n    return name;\n  };\n  \n  const [savedFilters, setSavedFilters] = useState<SavedFilter[]>([]);\n  const [filterGroups, setFilterGroups] = useState<FilterGroup[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [recentClientNames, setRecentClientNames] = useState<string[]>([]);\n  \n  // Responsive Tag-Display States (optimiert)\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [visibleTagCount, setVisibleTagCount] = useState(4); // Fallback f√ºr SSR\n  const [containerWidth, setContainerWidth] = useState(0);\n  const resizeTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  \n  // Dropdown State f√ºr √ºberlaufende Tags\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  \n  // Drag & Drop States\n  const [draggedFilterId, setDraggedFilterId] = useState<number | null>(null);\n  const [dragOverFilterId, setDragOverFilterId] = useState<number | null>(null);\n  const [dragOverGroupId, setDragOverGroupId] = useState<number | 'new-group' | null>(null);\n  \n  // Gruppen-Dropdown States (pro Gruppe)\n  const [openGroupDropdowns, setOpenGroupDropdowns] = useState<Set<number>>(new Set());\n  \n  // Gruppen-Umbenennung States\n  const [editingGroupId, setEditingGroupId] = useState<number | null>(null);\n  const [editingGroupName, setEditingGroupName] = useState<string>('');\n\n  // Refresh Filter-Liste und Gruppen (f√ºr external updates) - MUSS vor cleanupExcessiveClientFilters sein!\n  const refreshFilters = useCallback(async () => {\n    try {\n      const [filtersResponse, groupsResponse] = await Promise.all([\n        axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(tableId)),\n        axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.GROUPS.BY_TABLE(tableId))\n      ]);\n      \n      const filters = Array.isArray(filtersResponse.data) ? filtersResponse.data.filter(f => f != null) : [];\n      const groups = Array.isArray(groupsResponse.data) ? groupsResponse.data.filter(g => g != null) : [];\n      \n      setSavedFilters(filters);\n      setFilterGroups(groups);\n    } catch (error) {\n      console.error('Fehler beim Neuladen der Filter:', error);\n    }\n  }, [tableId]);\n\n  // Bereinigungsfunktion f√ºr √ºbersch√ºssige Client-Filter\n  const cleanupExcessiveClientFilters = useCallback(async (currentClientNames: string[]) => {\n    try {\n      const response = await axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(tableId));\n      const existingFilters = response.data;\n      \n      // Finde alle Client-Filter (Filter deren Name in recentClientNames ist)\n      const clientFilters = existingFilters.filter((filter: SavedFilter) => \n        currentClientNames.includes(filter.name)\n      );\n      \n      // Wenn mehr als 5 Client-Filter vorhanden sind, l√∂sche die √§ltesten\n      if (clientFilters.length > 5) {\n        const filtersToDelete = clientFilters\n          .sort((a: any, b: any) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime())\n          .slice(0, clientFilters.length - 5);\n        \n        for (const filterToDelete of filtersToDelete) {\n          await axiosInstance.delete(API_ENDPOINTS.SAVED_FILTERS.BY_ID(filterToDelete.id));\n        }\n        \n        // Refresh die Filter-Liste\n        await refreshFilters();\n      }\n    } catch (error) {\n      console.error('Fehler beim Bereinigen der Client-Filter:', error);\n    }\n  }, [tableId, refreshFilters]);\n\n  // Recent Clients laden (mit useCallback f√ºr stabilen Event-Listener)\n  const loadRecentClients = useCallback(async () => {\n    if (tableId === 'consultations-table') {\n      try {\n        console.log('üîÑ SavedFilterTags: Loading recent clients...');\n        const response = await axiosInstance.get(API_ENDPOINTS.CLIENTS.RECENT);\n        // Verwende die Reihenfolge der API-Antwort direkt (Backend sortiert bereits richtig)\n        const clientNames = response.data.map((client: any) => client.name);\n        console.log('üìã SavedFilterTags: Recent client names:', clientNames);\n        setRecentClientNames(clientNames);\n        \n        // Auto-Bereinigung: L√∂sche √ºbersch√ºssige Recent Client Filter (LRU-basiert)\n        await cleanupExcessiveClientFilters(clientNames);\n      } catch (error) {\n        console.error('‚ùå SavedFilterTags: Error loading recent clients:', error);\n        // Stille Behandlung - normale Situation wenn noch keine Clients beraten wurden\n      }\n    }\n  }, [tableId, cleanupExcessiveClientFilters]);\n\n  // Event-Listener f√ºr Consultation-√Ñnderungen (z.B. neue Beratung gestartet)\n  useEffect(() => {\n    const handleConsultationChanged = () => {\n      console.log('üîî SavedFilterTags: Received consultationChanged event');\n      loadRecentClients();\n    };\n\n    window.addEventListener('consultationChanged', handleConsultationChanged);\n    \n    return () => {\n      window.removeEventListener('consultationChanged', handleConsultationChanged);\n    };\n  }, [loadRecentClients]);\n\n  // Lade Recent Clients f√ºr Consultation-Tabelle beim ersten Render\n  useEffect(() => {\n    loadRecentClients();\n  }, [loadRecentClients]);\n\n  // Lade gespeicherte Filter und Gruppen beim ersten Render\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          setError('Nicht authentifiziert');\n          return;\n        }\n        \n        // Lade Filter und Gruppen parallel\n        const [filtersResponse, groupsResponse] = await Promise.all([\n          axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.BY_TABLE(tableId)),\n          axiosInstance.get(API_ENDPOINTS.SAVED_FILTERS.GROUPS.BY_TABLE(tableId))\n        ]);\n        \n        // Sicherstellen, dass response.data ein Array ist\n        const filters = Array.isArray(filtersResponse.data) ? filtersResponse.data.filter(f => f != null) : [];\n        const groups = Array.isArray(groupsResponse.data) ? groupsResponse.data.filter(g => g != null) : [];\n        \n        setSavedFilters(filters);\n        setFilterGroups(groups);\n\n        // Nur Default-Filter anwenden wenn es eine uncontrolled component ist (legacy)\n        if (!onFilterChange && defaultFilterName && !activeFilterName) {\n          const defaultFilter = filters.find((filter: SavedFilter) => filter != null && filter.name === defaultFilterName);\n          if (defaultFilter) {\n            onSelectFilter(defaultFilter.conditions, defaultFilter.operators, defaultFilter.sortDirections);\n          }\n        }\n      } catch (err) {\n        console.error('Fehler beim Laden der gespeicherten Filter:', err);\n        setError('Fehler beim Laden der gespeicherten Filter');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [tableId]);\n\n  // Expose refresh function f√ºr Parent-Komponenten\n  useEffect(() => {\n    // Erstelle eine globale Referenz f√ºr externe Updates\n    (window as any).refreshSavedFilters = refreshFilters;\n    return () => {\n      delete (window as any).refreshSavedFilters;\n    };\n  }, []);\n\n  // Dropdown schlie√üen bei Klick au√üerhalb\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (isDropdownOpen && !(event.target as Element).closest('.relative')) {\n        setIsDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isDropdownOpen]);\n  \n  // W√§hle einen gespeicherten Filter aus\n  const handleSelectFilter = (filter: SavedFilter) => {\n    if (onFilterChange) {\n      // Controlled component\n      onFilterChange(filter.name, filter.id, filter.conditions, filter.operators, filter.sortDirections);\n    } else {\n      // Backward compatibility - uncontrolled component\n      onSelectFilter(filter.conditions, filter.operators, filter.sortDirections);\n    }\n  };\n  \n  // L√∂sche einen gespeicherten Filter\n  const handleDeleteFilter = async (e: React.MouseEvent, filterId: number) => {\n    e.stopPropagation();\n    \n    const filterToDelete = savedFilters.find(filter => filter.id === filterId);\n    if (filterToDelete && isStandardFilter(filterToDelete.name)) {\n      showMessage(t('filter.cannotDeleteStandard', { defaultValue: 'Standard-Filter k√∂nnen nicht gel√∂scht werden' }), 'error');\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        setError('Nicht authentifiziert');\n        return;\n      }\n      \n      await axiosInstance.delete(API_ENDPOINTS.SAVED_FILTERS.BY_ID(filterId));\n      \n      setSavedFilters(savedFilters.filter(filter => filter.id !== filterId));\n      \n      // Wenn der aktuell ausgew√§hlte Filter gel√∂scht wurde\n      if (selectedFilterId === filterId || (!onFilterChange && filterId)) {\n        if (onFilterChange) {\n          // Controlled: Parent entscheidet was passiert\n          onFilterChange('', null, [], [], []);\n        } else {\n          // Uncontrolled: Reset\n          onReset();\n        }\n      }\n      \n      showMessage(t('filter.deleteSuccess', { defaultValue: 'Filter erfolgreich gel√∂scht' }), 'success');\n    } catch (err) {\n      console.error('Fehler beim L√∂schen des Filters:', err);\n      showMessage(t('filter.deleteError', { defaultValue: 'Fehler beim L√∂schen des Filters' }), 'error');\n    }\n  };\n  \n  // Pr√ºfen, ob ein Filter ein Standard-Filter ist\n  const isStandardFilter = (filterName: string) => {\n    // Erkenne auch √úbersetzungsschl√ºssel\n    const standardFilterNames = [\n      'Archiv', 'Aktuell', 'Aktive', 'Alle', 'Heute', 'Woche',\n      'tasks.filters.archive', 'tasks.filters.current',\n      'requests.filters.archiv', 'requests.filters.aktuell'\n    ];\n    \n    if (standardFilterNames.includes(filterName)) {\n      return true;\n    }\n    \n    if (tableId === 'consultations-table') {\n      if (filterName === 'Archiv' || filterName === 'Heute' || filterName === 'Woche') {\n        return true;\n      }\n      if (recentClientNames.includes(filterName)) {\n        return true;\n      }\n    }\n    \n    return false;\n  };\n\n  // Sortiere Filter nach gew√ºnschter Reihenfolge (nur nicht-gruppierte Filter)\n  const sortedFilters = useMemo(() => {\n    // Filtere nur nicht-gruppierte Filter heraus\n    const ungroupedFilters = savedFilters.filter(f => f != null && !f.groupId);\n    \n    // Sortierung f√ºr Consultations\n    if (tableId === 'consultations-table') {\n      console.log('üîß SavedFilterTags: Sorting filters...');\n      console.log('üìã SavedFilterTags: recentClientNames:', recentClientNames);\n      console.log('üóÇÔ∏è SavedFilterTags: savedFilters:', ungroupedFilters.map(f => f.name));\n\n      const heute = ungroupedFilters.find(f => f != null && f.name === 'Heute');\n      const woche = ungroupedFilters.find(f => f != null && f.name === 'Woche');\n      const archiv = ungroupedFilters.find(f => f != null && f.name === 'Archiv');\n      \n      // Recent Client Filter in der exakten Reihenfolge der Recent Clients API sortieren\n      const sortedRecentClientFilters = recentClientNames\n        .map(clientName => ungroupedFilters.find(f => f != null && f.name === clientName))\n        .filter(filter => filter != null) as SavedFilter[];\n      \n      console.log('‚úÖ SavedFilterTags: sortedRecentClientFilters:', sortedRecentClientFilters.map(f => f.name));\n      \n      const customFilters = ungroupedFilters.filter(f => \n        f != null && \n        !['Heute', 'Woche', 'Archiv'].includes(f.name) && \n        !recentClientNames.includes(f.name)\n      );\n      \n      console.log('üîß SavedFilterTags: customFilters:', customFilters.map(f => f.name));\n\n      const orderedFilters: SavedFilter[] = [];\n      \n      if (heute) orderedFilters.push(heute);\n      if (woche) orderedFilters.push(woche);\n      orderedFilters.push(...sortedRecentClientFilters);\n      orderedFilters.push(...customFilters);\n      if (archiv) orderedFilters.push(archiv);\n      \n      console.log('üéØ SavedFilterTags: Final filter order:', orderedFilters.map(f => f.name));\n      \n      return orderedFilters;\n    }\n\n    // Sortierung f√ºr Requests/Tasks - Aktuell zuerst, dann Archiv\n    if (tableId === 'requests-table' || tableId === 'worktracker-todos') {\n      const aktuell = ungroupedFilters.find(f => f != null && f.name === 'Aktuell');\n      const archiv = ungroupedFilters.find(f => f != null && f.name === 'Archiv');\n      \n      // Rest der Filter (au√üer Aktuell und Archiv)\n      const customFilters = ungroupedFilters.filter(f => \n        f != null && f.name !== 'Aktuell' && f.name !== 'Archiv'\n      );\n      \n      const orderedFilters: SavedFilter[] = [];\n      \n      // Aktuell immer zuerst\n      if (aktuell) orderedFilters.push(aktuell);\n      // Dann custom Filters\n      orderedFilters.push(...customFilters);\n      // Archiv immer zuletzt\n      if (archiv) orderedFilters.push(archiv);\n      \n      return orderedFilters;\n    }\n\n    // F√ºr alle anderen Tabellen: Keine Sortierung\n    return ungroupedFilters;\n  }, [savedFilters, recentClientNames, tableId]);\n\n  // Optimistische Filter-Anzeige f√ºr bessere UX (MOVED BEFORE EARLY RETURNS)\n  const showOptimisticFilters = savedFilters.length === 0 && loading;\n  \n  const optimisticFilters = useMemo(() => {\n    if (!showOptimisticFilters) return [];\n    return Array(3).fill(null).map((_, i) => ({\n      id: `placeholder-${i}`,\n      name: i === 0 ? 'Heute' : i === 1 ? 'Woche' : '‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà',\n      isPlaceholder: true,\n      tableId,\n      conditions: [],\n      operators: []\n    }));\n  }, [showOptimisticFilters, tableId]);\n\n  const displayFilters = showOptimisticFilters ? optimisticFilters : sortedFilters.filter(f => f != null);\n  const currentVisibleCount = showOptimisticFilters ? optimisticFilters.length : visibleTagCount;\n\n  // Optimierte Tag-Breiten-Berechnung mit useMemo\n  const averageTagWidth = useMemo(() => {\n    if (sortedFilters.length === 0) return 75; // Mittelwert zwischen 70 und 80\n    \n    return sortedFilters\n      .filter(filter => filter != null)\n      .reduce((sum, filter) => {\n        // Ausgewogene Sch√§tzung: ~6.5px pro Zeichen + 28px Padding + optional Delete-Button\n        const deleteButtonWidth = !isStandardFilter(filter.name) ? 18 : 0;\n        return sum + (filter.name.length * 6.5 + 28 + deleteButtonWidth);\n      }, 0) / sortedFilters.filter(filter => filter != null).length;\n  }, [sortedFilters]);\n\n  // Optimierte Sichtbarkeits-Berechnung mit useCallback\n  const calculateVisibleTags = useCallback(() => {\n    if (!containerRef.current || sortedFilters.length === 0) return;\n\n    const container = containerRef.current;\n    const currentWidth = container.clientWidth;\n    \n    // Nur neu berechnen wenn sich die Breite signifikant ge√§ndert hat (>= 45px)\n    if (Math.abs(currentWidth - containerWidth) < 45) return;\n    \n    setContainerWidth(currentWidth);\n    \n    // Ausgewogene UI-Element-Breiten f√ºr sichere aber effiziente Tag-Anzeige\n    const DROPDOWN_BUTTON_WIDTH = 70; // Mittelwert zwischen 60 und 80\n    const GAPS_AND_MARGINS = 14; // Mittelwert zwischen 12 und 16\n    const BUFFER = 15; // Mittelwert zwischen 10 und 20\n    \n    const availableWidth = currentWidth - GAPS_AND_MARGINS - BUFFER;\n    \n    // Berechne maximal m√∂gliche Tags ohne Dropdown\n    const maxPossibleTags = Math.max(1, Math.floor(availableWidth / averageTagWidth));\n    \n    if (maxPossibleTags >= sortedFilters.length) {\n      // Alle Tags passen rein - zeige alle\n      setVisibleTagCount(sortedFilters.length);\n    } else {\n      // Reserviere angemessenen Platz f√ºr Dropdown, moderate Tag-Anzeige\n      const availableWithDropdown = availableWidth - DROPDOWN_BUTTON_WIDTH;\n      const tagsWithDropdown = Math.max(1, Math.floor(availableWithDropdown / averageTagWidth));\n      \n      // Moderate Strategie: Zeige berechnete Anzahl ohne zus√§tzliche Risiken\n      setVisibleTagCount(Math.min(tagsWithDropdown, sortedFilters.length - 1));\n    }\n  }, [sortedFilters, averageTagWidth, containerWidth, isStandardFilter]);\n\n  // Debounced ResizeObserver f√ºr bessere Performance\n  const handleResize = useCallback(() => {\n    if (resizeTimeoutRef.current) {\n      clearTimeout(resizeTimeoutRef.current);\n    }\n    \n    resizeTimeoutRef.current = setTimeout(() => {\n      calculateVisibleTags();\n    }, 100); // 100ms Debounce f√ºr Filter-Tags (schneller als Client-Tags)\n  }, [calculateVisibleTags]);\n\n  // Optimierter ResizeObserver\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    const resizeObserver = new ResizeObserver(handleResize);\n    resizeObserver.observe(containerRef.current);\n    \n    // Auch Window-Resize √ºberwachen f√ºr bessere Abdeckung\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      resizeObserver.disconnect();\n      window.removeEventListener('resize', handleResize);\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n    };\n  }, [handleResize]);\n\n  // Initial calculation nach Filter-√Ñnderungen\n  useLayoutEffect(() => {\n    calculateVisibleTags();\n  }, [calculateVisibleTags]);\n\n  // Sortiere Gruppen nach order (MUSS vor fr√ºhen Returns sein!)\n  const sortedGroups = useMemo(() => {\n    return [...filterGroups].sort((a, b) => a.order - b.order);\n  }, [filterGroups]);\n\n  // Drag & Drop Handler\n  const handleDragStart = (e: React.DragEvent, filterId: number) => {\n    e.dataTransfer.effectAllowed = 'move';\n    setDraggedFilterId(filterId);\n  };\n\n  const handleDragOver = (e: React.DragEvent, targetId: number | 'new-group', type: 'filter' | 'group') => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    \n    if (type === 'filter') {\n      setDragOverFilterId(targetId as number);\n    } else {\n      setDragOverGroupId(targetId);\n    }\n  };\n\n  const handleDragEnd = () => {\n    setDraggedFilterId(null);\n    setDragOverFilterId(null);\n    setDragOverGroupId(null);\n  };\n\n  const handleDrop = async (e: React.DragEvent, targetId: number | 'new-group', type: 'filter' | 'group') => {\n    e.preventDefault();\n    \n    if (!draggedFilterId) return;\n    \n    // Verhindere, dass ein Filter auf sich selbst gezogen wird\n    if (type === 'filter' && draggedFilterId === targetId) {\n      handleDragEnd();\n      return;\n    }\n    \n    try {\n      if (type === 'group') {\n        // Filter auf Gruppe gezogen -> Zu Gruppe hinzuf√ºgen\n        await axiosInstance.post(API_ENDPOINTS.SAVED_FILTERS.GROUPS.ADD_FILTER(draggedFilterId, targetId as number));\n        showMessage(t('filter.addToGroupSuccess', { defaultValue: 'Filter zur Gruppe hinzugef√ºgt' }), 'success');\n      } else {\n        // Filter auf Filter gezogen -> Zu bestehender Gruppe hinzuf√ºgen oder neue erstellen\n        const targetFilter = savedFilters.find(f => f.id === targetId as number);\n        if (!targetFilter) {\n          handleDragEnd();\n          return;\n        }\n        \n        if (targetFilter.groupId) {\n          // F√ºge zu bestehender Gruppe hinzu\n          await axiosInstance.post(API_ENDPOINTS.SAVED_FILTERS.GROUPS.ADD_FILTER(draggedFilterId, targetFilter.groupId));\n          showMessage(t('filter.addToGroupSuccess', { defaultValue: 'Filter zur Gruppe hinzugef√ºgt' }), 'success');\n        } else {\n          // Erstelle neue Gruppe mit beiden Filtern\n          const groupName = `Gruppe ${filterGroups.length + 1}`;\n          const groupResponse = await axiosInstance.post(API_ENDPOINTS.SAVED_FILTERS.GROUPS.CREATE, {\n            tableId,\n            name: groupName\n          });\n          \n          const newGroup = groupResponse.data;\n          \n          await Promise.all([\n            axiosInstance.post(API_ENDPOINTS.SAVED_FILTERS.GROUPS.ADD_FILTER(draggedFilterId, newGroup.id)),\n            axiosInstance.post(API_ENDPOINTS.SAVED_FILTERS.GROUPS.ADD_FILTER(targetFilter.id, newGroup.id))\n          ]);\n          \n          showMessage(t('filter.createGroupSuccess', { defaultValue: 'Gruppe erstellt' }), 'success');\n        }\n      }\n      \n      // Refresh Filter-Liste\n      await refreshFilters();\n    } catch (err) {\n      console.error('Fehler beim Gruppieren der Filter:', err);\n      showMessage(t('filter.groupError', { defaultValue: 'Fehler beim Gruppieren der Filter' }), 'error');\n    } finally {\n      handleDragEnd();\n    }\n  };\n\n  // Gruppen-Management\n  const toggleGroupDropdown = (groupId: number) => {\n    setOpenGroupDropdowns(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(groupId)) {\n        newSet.delete(groupId);\n      } else {\n        newSet.add(groupId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleUngroupFilters = async (groupId: number) => {\n    try {\n      await axiosInstance.delete(API_ENDPOINTS.SAVED_FILTERS.GROUPS.DELETE(groupId));\n      showMessage(t('filter.ungroupSuccess', { defaultValue: 'Gruppe aufgel√∂st' }), 'success');\n      await refreshFilters();\n      setOpenGroupDropdowns(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(groupId);\n        return newSet;\n      });\n    } catch (err) {\n      console.error('Fehler beim Aufl√∂sen der Gruppe:', err);\n      showMessage(t('filter.ungroupError', { defaultValue: 'Fehler beim Aufl√∂sen der Gruppe' }), 'error');\n    }\n  };\n\n  const handleStartEditGroup = (group: FilterGroup) => {\n    setEditingGroupId(group.id);\n    setEditingGroupName(group.name);\n  };\n\n  const handleCancelEditGroup = () => {\n    setEditingGroupId(null);\n    setEditingGroupName('');\n  };\n\n  const handleSaveGroupName = async (groupId: number) => {\n    if (!editingGroupName.trim()) {\n      showMessage(t('filter.groupNameRequired', { defaultValue: 'Gruppenname darf nicht leer sein' }), 'error');\n      return;\n    }\n\n    try {\n      await axiosInstance.put(API_ENDPOINTS.SAVED_FILTERS.GROUPS.UPDATE(groupId), {\n        name: editingGroupName.trim()\n      });\n      showMessage(t('filter.renameGroupSuccess', { defaultValue: 'Gruppe umbenannt' }), 'success');\n      await refreshFilters();\n      setEditingGroupId(null);\n      setEditingGroupName('');\n    } catch (err: any) {\n      console.error('Fehler beim Umbenennen der Gruppe:', err);\n      const errorMessage = err.response?.data?.message || 'Fehler beim Umbenennen der Gruppe';\n      toast.error(errorMessage);\n    }\n  };\n\n  // Bestimme welcher Filter aktiv ist\n  const getActiveFilterId = () => {\n    if (onFilterChange) {\n      // Controlled component - verwende selectedFilterId prop\n      return selectedFilterId;\n    } else {\n      // Uncontrolled - fallback auf internen State (legacy)\n      return null; // In legacy mode nicht visuell hervorheben\n    }\n  };\n  \n  if (loading) {\n    return <div className=\"flex justify-center items-center py-2\">{t('common.loadingFilters')}</div>;\n  }\n  \n  if (error) {\n    return <div className=\"text-red-500 py-2\">{error}</div>;\n  }\n  \n  if (savedFilters.length === 0 && filterGroups.length === 0) {\n    return null;\n  }\n\n  return (\n    <div ref={containerRef} className=\"flex items-center gap-2 mb-3 mt-1\">\n      {/* Dynamische Anzahl Filter inline anzeigen mit optimistischer Anzeige */}\n      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n        {/* Gruppen-Dropdowns */}\n        {sortedGroups.map(group => {\n          // Pr√ºfe, ob ein Filter aus dieser Gruppe aktiv ist\n          const activeFilterInGroup = group.filters.find(f => getActiveFilterId() === f.id);\n          const displayName = activeFilterInGroup \n            ? translateFilterName(activeFilterInGroup.name)\n            : `${group.name} (${group.filters.length})`;\n          \n          return (\n          <div key={group.id} className=\"relative flex-shrink-0\">\n            <button\n              onClick={() => toggleGroupDropdown(group.id)}\n              onDragOver={(e) => handleDragOver(e, group.id, 'group')}\n              onDrop={(e) => handleDrop(e, group.id, 'group')}\n              className={`flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border border-purple-300 dark:border-purple-700 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors ${\n                dragOverGroupId === group.id ? 'ring-2 ring-purple-500' : ''\n              } ${activeFilterInGroup ? 'ring-2 ring-purple-500' : ''}`}\n              title={activeFilterInGroup ? displayName : `${group.name} (${group.filters.length})`}\n            >\n              <span className=\"truncate max-w-[100px]\">\n                {displayName}\n              </span>\n              <ChevronDownIcon className={`h-4 w-4 ml-1 transition-transform ${openGroupDropdowns.has(group.id) ? 'rotate-180' : ''}`} />\n            </button>\n            \n            {/* Gruppen-Dropdown */}\n            {openGroupDropdowns.has(group.id) && (\n              <div className=\"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50 min-w-[200px]\">\n                {group.filters.map(filter => (\n                  <div\n                    key={filter.id}\n                    onClick={() => {\n                      handleSelectFilter(filter);\n                      toggleGroupDropdown(group.id);\n                    }}\n                    className={`flex items-center justify-between px-3 py-2 text-sm cursor-pointer transition-colors ${\n                      getActiveFilterId() === filter.id\n                        ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                    } ${isStandardFilter(filter.name) ? 'font-bold' : ''}`}\n                    title={translateFilterName(filter.name)}\n                  >\n                    <span className=\"truncate flex-1\">{translateFilterName(filter.name)}</span>\n                  </div>\n                ))}\n                <div className=\"border-t border-gray-200 dark:border-gray-700 mt-1 pt-1\">\n                  {editingGroupId === group.id ? (\n                    <div className=\"px-3 py-2\">\n                      <input\n                        type=\"text\"\n                        value={editingGroupName}\n                        onChange={(e) => setEditingGroupName(e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') {\n                            handleSaveGroupName(group.id);\n                          } else if (e.key === 'Escape') {\n                            handleCancelEditGroup();\n                          }\n                        }}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        autoFocus\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                      <div className=\"flex gap-2 mt-2 justify-end\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleSaveGroupName(group.id);\n                          }}\n                          className=\"p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                          title=\"Speichern\"\n                        >\n                          <CheckIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleCancelEditGroup();\n                          }}\n                          className=\"p-2 rounded-md bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors\"\n                          title=\"Abbrechen\"\n                        >\n                          <XMarkIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleStartEditGroup(group);\n                        }}\n                        className=\"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left transition-colors\"\n                        title=\"Gruppe umbenennen\"\n                      >\n                        <PencilIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleUngroupFilters(group.id);\n                        }}\n                        className=\"flex items-center gap-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 w-full text-left transition-colors\"\n                        title={t('filter.ungroup')}\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          );\n        })}\n        \n        {/* Einzelne Filter-Tags */}\n        {displayFilters.slice(0, currentVisibleCount).map(filter => (\n          <div\n            key={filter.id}\n            draggable={true}\n            onDragStart={(e) => handleDragStart(e, filter.id)}\n            onDragOver={(e) => handleDragOver(e, filter.id, 'filter')}\n            onDrop={(e) => handleDrop(e, filter.id, 'filter')}\n            onDragEnd={handleDragEnd}\n            onClick={() => !filter.isPlaceholder && handleSelectFilter(filter)}\n            className={`flex items-center px-3 py-1 rounded-full text-sm font-medium cursor-pointer transition-colors flex-shrink-0 ${\n              filter.isPlaceholder\n                ? 'bg-gray-200 dark:bg-gray-600 text-gray-400 dark:text-gray-500 animate-pulse cursor-default'\n                : draggedFilterId === filter.id\n                  ? 'opacity-50'\n                  : dragOverFilterId === filter.id\n                    ? 'ring-2 ring-blue-500'\n                    : getActiveFilterId() === filter.id\n                      ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border border-blue-300 dark:border-blue-700'\n                      : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600'\n            } ${!filter.isPlaceholder && isStandardFilter(filter.name) ? 'font-bold' : ''}`}\n            title={filter.isPlaceholder ? t('common.loading') : translateFilterName(filter.name)}\n          >\n            <span className=\"truncate max-w-[100px]\">\n              {filter.isPlaceholder && filter.name === '‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà' ? (\n                <span className=\"inline-block w-16 h-4 bg-gray-300 dark:bg-gray-500 rounded animate-pulse\"></span>\n              ) : (\n                translateFilterName(filter.name)\n              )}\n            </span>\n            {!filter.isPlaceholder && !isStandardFilter(filter.name) && (\n              <button\n                onClick={(e) => handleDeleteFilter(e, filter.id)}\n                className=\"ml-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none\"\n                title={t('filter.delete')}\n              >\n                <XMarkIcon className=\"h-4 w-4\" />\n              </button>\n            )}\n          </div>\n        ))}\n        \n        {/* Dropdown nur bei echten Filtern und Platzmangel */}\n        {!showOptimisticFilters && sortedFilters.length > visibleTagCount && (\n          <div className=\"relative flex-shrink-0\">\n            <button\n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n              className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors border border-gray-300 dark:border-gray-600\"\n              title=\"Weitere Filter anzeigen\"\n            >\n              <span>+{sortedFilters.length - visibleTagCount}</span>\n              <ChevronDownIcon className={`h-4 w-4 ml-1 transition-transform ${isDropdownOpen ? 'rotate-180' : ''}`} />\n            </button>\n            \n            {/* Dropdown-Menu */}\n            {isDropdownOpen && (\n              <div className=\"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50 min-w-[200px] max-w-[300px]\">\n                {sortedFilters.slice(visibleTagCount).map(filter => (\n                  <div\n                    key={filter.id}\n                    onClick={() => {\n                      handleSelectFilter(filter);\n                      setIsDropdownOpen(false);\n                    }}\n                    className={`flex items-center justify-between px-3 py-2 text-sm cursor-pointer transition-colors ${\n                      getActiveFilterId() === filter.id\n                        ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                    } ${isStandardFilter(filter.name) ? 'font-bold' : ''}`}\n                    title={translateFilterName(filter.name)}\n                  >\n                    <span className=\"truncate flex-1\">{translateFilterName(filter.name)}</span>\n                    {!isStandardFilter(filter.name) && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDeleteFilter(e, filter.id);\n                          setIsDropdownOpen(false);\n                        }}\n                        className=\"ml-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none flex-shrink-0\"\n                        title={t('filter.delete')}\n                      >\n                        <XMarkIcon className=\"h-4 w-4\" />\n                      </button>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SavedFilterTags; "],"names":["_ref","condition","onChange","onDelete","onAdd","columns","isFirst","isLast","sortDirection","sortPriority","onSortDirectionChange","onPriorityChange","canMoveUp","canMoveDown","t","useTranslation","operators","setOperators","useState","users","setUsers","roles","setRoles","loadingUsers","setLoadingUsers","loadingRoles","setLoadingRoles","useEffect","getOperatorsByColumnType","columnId","textOperators","value","label","dateOperators","durationOperators","statusOperators","column","async","localStorage","getItem","response","axiosInstance","get","data","error","console","loadUsersAndRoles","_jsxs","className","children","_jsx","e","_operators$","_objectSpread","target","operator","map","id","op","renderValueInput","isRequestTable","some","col","isTaskTable","isInvoiceTable","disabled","length","user","concat","firstName","lastName","role","name","isVariable","type","placeholder","undefined","onClick","stopPropagation","title","ChevronUpIcon","ChevronDownIcon","ArrowUpIcon","ArrowDownIcon","TrashIcon","PlusCircleIcon","onApply","onReset","savedConditions","savedOperators","savedSortDirections","onSortDirectionsChange","tableId","conditions","setConditions","logicalOperators","setLogicalOperators","sortDirections","setSortDirections","showSaveInput","setShowSaveInput","filterName","setFilterName","existingFilters","setExistingFilters","API_ENDPOINTS","SAVED_FILTERS","BY_TABLE","filter","err","fetchExistingFilters","prevSavedConditionsRef","useRef","prevSavedOperatorsRef","prevSavedSortDirectionsRef","conditionsChanged","JSON","stringify","current","operatorsChanged","sortDirectionsChanged","renumberPriorities","sortDirs","sort","a","b","priority","sd","index","getSortDirectionForIndex","find","conditionIndex","handleAddCondition","React","FilterRow","newCondition","handleConditionChange","newConditions","oldCondition","newSortDirections","oldSortDirIndex","findIndex","splice","maxPriority","Math","max","push","direction","newOperators","handleDeleteCondition","sortDir","handleSortDirectionChange","existingIndex","newPriority","handlePriorityChange","currentPriority","otherIndex","FilterLogicalOperator","newOperator","handleOperatorChange","trim","toast","validConditions","c","post","BASE","success","BookmarkIcon","XMarkIcon","handleResetFilters","ArrowPathIcon","handleApplyFilters","CheckIcon","onSelectFilter","activeFilterName","selectedFilterId","onFilterChange","defaultFilterName","showMessage","useMessage","translateFilterName","savedFilters","setSavedFilters","filterGroups","setFilterGroups","loading","setLoading","setError","recentClientNames","setRecentClientNames","containerRef","visibleTagCount","setVisibleTagCount","containerWidth","setContainerWidth","resizeTimeoutRef","isDropdownOpen","setIsDropdownOpen","draggedFilterId","setDraggedFilterId","dragOverFilterId","setDragOverFilterId","dragOverGroupId","setDragOverGroupId","openGroupDropdowns","setOpenGroupDropdowns","Set","editingGroupId","setEditingGroupId","editingGroupName","setEditingGroupName","refreshFilters","useCallback","filtersResponse","groupsResponse","Promise","all","GROUPS","filters","Array","isArray","f","groups","g","cleanupExcessiveClientFilters","clientFilters","currentClientNames","includes","filtersToDelete","Date","createdAt","getTime","slice","filterToDelete","delete","BY_ID","loadRecentClients","log","clientNames","CLIENTS","RECENT","client","handleConsultationChanged","window","addEventListener","removeEventListener","defaultFilter","fetchData","refreshSavedFilters","handleClickOutside","event","closest","document","handleSelectFilter","handleDeleteFilter","filterId","isStandardFilter","defaultValue","sortedFilters","useMemo","ungroupedFilters","groupId","heute","woche","archiv","sortedRecentClientFilters","clientName","customFilters","orderedFilters","aktuell","showOptimisticFilters","optimisticFilters","fill","_","i","isPlaceholder","displayFilters","currentVisibleCount","averageTagWidth","reduce","sum","deleteButtonWidth","calculateVisibleTags","currentWidth","clientWidth","abs","availableWidth","floor","availableWithDropdown","tagsWithDropdown","min","handleResize","clearTimeout","setTimeout","resizeObserver","ResizeObserver","observe","disconnect","useLayoutEffect","sortedGroups","order","handleDragOver","targetId","preventDefault","dataTransfer","dropEffect","handleDragEnd","handleDrop","ADD_FILTER","targetFilter","groupName","newGroup","CREATE","toggleGroupDropdown","prev","newSet","has","add","handleCancelEditGroup","handleSaveGroupName","put","UPDATE","_err$response","_err$response$data","errorMessage","message","getActiveFilterId","ref","group","activeFilterInGroup","displayName","onDragOver","onDrop","onKeyDown","key","autoFocus","_Fragment","handleStartEditGroup","PencilIcon","DELETE","handleUngroupFilters","draggable","onDragStart","handleDragStart","effectAllowed","onDragEnd"],"sourceRoot":""}