{"version":3,"file":"static/js/220.1bc796af.chunk.js","mappings":"wMAIA,MA4GA,EA5GwBA,KACtB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,MAAEC,EAAK,KAAEC,IAASC,EAAAA,EAAAA,OACjBC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,SAAU,GACVC,SAAU,MAELC,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,KAC5BK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAQvCO,EAAAA,EAAAA,YAAU,KACJX,IACFY,QAAQC,IAAI,kEAPab,KACnBA,EAAKc,WAAad,EAAKe,cAAgBf,EAAKgB,WAAahB,EAAKiB,SAAWjB,EAAKkB,mBAOhFC,CAAoBnB,GACtBH,EAAS,YAETA,EAAS,cAEb,GACC,CAACG,EAAMH,IAEV,MAAMuB,EAAgBC,IACpBlB,EAAY,IACPD,EACH,CAACmB,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,OAC1B,EAoBJ,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iEAAgEC,UAC7EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6EAA4EC,SAAA,EACzFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,+DAA8DC,SAAC,UAC5EpB,IAASkB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6CAA4CC,SAAEpB,KACrEqB,EAAAA,EAAAA,MAAA,QAAMC,SAtBSC,UACnBT,EAAEU,iBACFvB,EAAS,IACTE,GAAW,GACX,UACQX,EAAMG,EAASG,SAAUH,EAASI,SAE1C,CAAE,MAAO0B,GAAW,IAADC,EAAAC,EACjBtB,QAAQL,MAAM,gBAAiByB,GAG/B,MAAMG,GAA2B,QAAZF,EAAAD,EAAII,gBAAQ,IAAAH,GAAM,QAANC,EAAZD,EAAcI,YAAI,IAAAH,OAAN,EAAZA,EAAoBI,UAAWN,EAAIM,SAAW,sEACnE9B,EAAS2B,GACTzB,GAAW,EACb,GAQkCgB,UAAU,iBAAgBC,SAAA,EACtDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOc,QAAQ,WAAWb,UAAU,6DAA4DC,SAAC,kBAGjGF,EAAAA,EAAAA,KAAA,SACEe,KAAK,OACLjB,KAAK,WACLkB,GAAG,WACHjB,MAAOtB,EAASG,SAChBqC,SAAUtB,EACVuB,UAAQ,EACRjB,UAAU,+GACVkB,SAAUnC,QAGdmB,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOc,QAAQ,WAAWb,UAAU,6DAA4DC,SAAC,cAGjGF,EAAAA,EAAAA,KAAA,SACEe,KAAK,WACLjB,KAAK,WACLkB,GAAG,WACHjB,MAAOtB,EAASI,SAChBoC,SAAUtB,EACVuB,UAAQ,EACRjB,UAAU,+GACVkB,SAAUnC,QAGdgB,EAAAA,EAAAA,KAAA,UACEe,KAAK,SACLd,UAAW,2CACTjB,EAAU,kDAAoD,yEAEhEmC,SAAUnC,EAAQkB,SAEjBlB,EAAU,wBAAuB,iBAGtCmB,EAAAA,EAAAA,MAAA,KAAGF,UAAU,oDAAmDC,SAAA,CAAC,mBAC9C,KACjBF,EAAAA,EAAAA,KAACoB,EAAAA,GAAI,CAACC,GAAG,YAAYpB,UAAU,gFAA+EC,SAAC,wBAK/G,C","sources":["pages/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth.tsx';\n\nconst Login: React.FC = () => {\n  const navigate = useNavigate();\n  const { login, user } = useAuth();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Prüfe ob Profil unvollständig ist\n  const isProfileIncomplete = (user: any) => {\n    return !user.birthday || !user.bankDetails || !user.contract || !user.salary || !user.normalWorkingHours;\n  };\n\n  // Überprüfe, ob der Benutzer bereits eingeloggt ist\n  useEffect(() => {\n    if (user) {\n      console.log('Benutzer bereits eingeloggt, prüfe Profilvollständigkeit');\n      if (isProfileIncomplete(user)) {\n        navigate('/profile');\n      } else {\n        navigate('/dashboard');\n      }\n    }\n  }, [user, navigate]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      await login(formData.username, formData.password);\n      // Navigation wird im useEffect behandelt, sobald user state aktualisiert ist\n    } catch (err: any) {\n      console.error('Login-Fehler:', err);\n      \n      // Detaillierte Fehlermeldung anzeigen\n      const errorMessage = err.response?.data?.message || err.message || 'Login fehlgeschlagen. Bitte überprüfen Sie Ihre Anmeldedaten.';\n      setError(errorMessage);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center dark:bg-gray-900\">\n      <div className=\"max-w-lg w-full space-y-8 p-10 bg-white dark:bg-gray-800 rounded-lg shadow\">\n        <h2 className=\"text-3xl font-bold text-center text-gray-900 dark:text-white\">Login</h2>\n        {error && <p className=\"text-red-500 dark:text-red-400 text-center\">{error}</p>}\n        <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n          <div>\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              Benutzername\n            </label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              value={formData.username}\n              onChange={handleChange}\n              required\n              className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white\"\n              disabled={loading}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              Passwort\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white\"\n              disabled={loading}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className={`w-full py-2 px-4 text-white rounded-md ${\n              loading ? 'bg-blue-400 dark:bg-blue-500 cursor-not-allowed' : 'bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800'\n            }`}\n            disabled={loading}\n          >\n            {loading ? 'Anmeldung läuft...' : 'Anmelden'}\n          </button>\n        </form>\n        <p className=\"text-center mt-4 text-gray-700 dark:text-gray-300\">\n          Noch kein Konto?{' '}\n          <Link to=\"/register\" className=\"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300\">\n            Registrieren\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Login; "],"names":["Login","navigate","useNavigate","login","user","useAuth","formData","setFormData","useState","username","password","error","setError","loading","setLoading","useEffect","console","log","birthday","bankDetails","contract","salary","normalWorkingHours","isProfileIncomplete","handleChange","e","target","name","value","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","err","_err$response","_err$response$data","errorMessage","response","data","message","htmlFor","type","id","onChange","required","disabled","Link","to"],"sourceRoot":""}