{"version":3,"file":"static/js/535.e9e31f3d.chunk.js","mappings":"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","sources":["components/shared/CardGrid.tsx","components/shared/DataCard.tsx","api/tableSettingsApi.ts","hooks/useTableSettings.ts","components/TableColumnConfig.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface CardGridProps {\n  children: React.ReactNode;\n  columns?: {\n    mobile?: number;\n    tablet?: number;\n    desktop?: number;\n    largeDesktop?: number;\n  };\n  gap?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nconst CardGrid: React.FC<CardGridProps> = ({\n  children,\n  columns = {\n    mobile: 1,\n    tablet: 1,\n    desktop: 1,\n    largeDesktop: 1\n  },\n  gap = 'md',\n  className = ''\n}) => {\n  const gapClass = {\n    sm: 'gap-0.5',\n    md: 'gap-0.5',\n    lg: 'gap-1'\n  }[gap];\n\n  // Immer 1 Spalte für bessere Übersichtlichkeit - Cards nehmen volle Breite ein\n  return (\n    <div \n      className={`flex flex-col ${gapClass} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default CardGrid;\n\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ChevronLeftIcon, ChevronRightIcon, ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/outline';\nimport MarkdownPreview from '../MarkdownPreview.tsx';\n\nexport interface MetadataItem {\n  icon?: React.ReactNode;\n  label: string;\n  value: string | React.ReactNode;\n  className?: string;\n  descriptionContent?: string; // Für expandierbare Beschreibung\n  attachmentMetadata?: Array<{\n    id: number;\n    fileName: string;\n    fileType: string;\n    url: string;\n  }>; // Attachment-Metadaten für Vorschau\n  section?: 'left' | 'main' | 'main-second' | 'main-third' | 'right' | 'right-inline' | 'center' | 'full'; // Position im Layout\n}\n\nexport interface DataCardProps {\n  title: string | React.ReactNode;\n  subtitle?: string;\n  status?: {\n    label: string;\n    color: string;\n    className?: string;\n    onPreviousClick?: () => void;\n    onNextClick?: () => void;\n  };\n  metadata: MetadataItem[];\n  actions?: React.ReactNode;\n  expandable?: {\n    isExpanded: boolean;\n    content: React.ReactNode;\n    onToggle: () => void;\n  };\n  onClick?: () => void;\n  className?: string;\n  headerClassName?: string;\n  highlightBorder?: boolean;\n  highlightColor?: string;\n  children?: React.ReactNode;\n}\n\n// Komponente für expandierbare Beschreibung\nconst DescriptionMetadataItem: React.FC<{ item: MetadataItem }> = ({ item }) => {\n  const { t } = useTranslation();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [needsExpansion, setNeedsExpansion] = useState(false);\n  const firstLineRef = useRef<HTMLParagraphElement>(null);\n  \n  // Beschreibung als Plain Text (ohne Markdown) für die Vorschau extrahieren\n  const getPlainTextPreview = (markdown: string | React.ReactNode): string => {\n    // Wenn es kein String ist, versuche es zu konvertieren oder gib leeren String zurück\n    if (typeof markdown !== 'string') {\n      if (markdown === null || markdown === undefined) {\n        return '';\n      }\n      // Wenn es ein React-Element ist, können wir den Text nicht extrahieren\n      // In diesem Fall geben wir einen leeren String zurück oder versuchen toString()\n      return String(markdown);\n    }\n    \n    // Entferne Markdown-Syntax für Vorschau\n    let plain = markdown\n      .replace(/^#+\\s+/gm, '') // Headers\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1') // Bold\n      .replace(/\\*([^*]+)\\*/g, '$1') // Italic\n      .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '') // Bilder komplett entfernen\n      .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '') // Links komplett entfernen (nicht nur alt-Text)\n      .replace(/```[\\s\\S]*?```/g, '') // Code blocks\n      .replace(/`([^`]+)`/g, '$1') // Inline code\n      .replace(/^\\s*[-*+]\\s+/gm, '') // List items\n      .replace(/^\\s*\\d+\\.\\s+/gm, '') // Numbered list\n      // Entferne verbleibende Dateinamen, die wie Attachment-Dateinamen aussehen\n      .replace(/\\b\\d{4}-\\d{2}-\\d{2}_\\d{2}h\\d{2}_\\d{2}\\.\\w+\\b/g, '')\n      .replace(/\\s+/g, ' ') // Mehrfache Leerzeichen zu einem\n      .trim();\n    \n    return plain;\n  };\n  \n  const fullText = getPlainTextPreview(item.descriptionContent || '');\n  \n  // Erste Zeile extrahieren (ungefähr die ersten 150 Zeichen oder bis zum ersten Zeilenumbruch)\n  // Versucht nach einem Wortende zu schneiden, nicht mitten im Wort\n  const getFirstLine = (text: string): string => {\n    const firstNewline = text.indexOf('\\n');\n    if (firstNewline > 0 && firstNewline < 150) {\n      return text.substring(0, firstNewline);\n    }\n    if (text.length > 150) {\n      // Suche nach einem guten Schnittpunkt (nach einem Leerzeichen oder Satzzeichen)\n      let cutPoint = 150;\n      for (let i = 150; i > 100; i--) {\n        if (text[i] === ' ' || text[i] === '.' || text[i] === ',' || text[i] === '!' || text[i] === '?') {\n          cutPoint = i + 1;\n          break;\n        }\n      }\n      return text.substring(0, cutPoint);\n    }\n    return text;\n  };\n  \n  const firstLine = getFirstLine(fullText);\n  // Prüfe ob mehr Content vorhanden ist (Text länger als erste Zeile ODER Zeilenumbruch vorhanden)\n  const hasMoreContent = fullText.length > firstLine.length || fullText.includes('\\n');\n  \n  // Rest-Text extrahieren (alles nach der ersten Zeile)\n  const getRemainingText = (text: string, firstLineText: string): string => {\n    if (!text || !firstLineText) return '';\n    \n    const firstLineIndex = text.indexOf(firstLineText);\n    if (firstLineIndex === -1) {\n      // Fallback: Versuche Zeilenumbruch zu finden\n      const firstNewline = text.indexOf('\\n');\n      if (firstNewline > 0) {\n        return text.substring(firstNewline + 1).trim();\n      }\n      // Wenn kein Zeilenumbruch, nimm Rest nach der ersten Zeile\n      return text.length > firstLineText.length ? text.substring(firstLineText.length).trim() : '';\n    }\n    \n    // Wenn Zeilenumbruch vorhanden, nimm alles danach\n    const firstNewline = text.indexOf('\\n', firstLineIndex);\n    if (firstNewline > 0) {\n      return text.substring(firstNewline + 1).trim();\n    }\n    \n    // Wenn keine Zeilenumbruch, nimm Rest nach der ersten Zeile\n    const remainingStart = firstLineIndex + firstLineText.length;\n    return text.length > remainingStart \n      ? text.substring(remainingStart).trim() \n      : '';\n  };\n  \n  const remainingPlainText = hasMoreContent ? getRemainingText(fullText, firstLine) : '';\n  \n  // Debug: Aktivieren für Troubleshooting (NACH remainingPlainText Initialisierung)\n  // console.log('DescriptionMetadataItem:', {\n  //   firstLine,\n  //   fullText,\n  //   hasMoreContent,\n  //   fullTextLength: fullText.length,\n  //   firstLineLength: firstLine.length,\n  //   hasNewline: fullText.includes('\\n'),\n  //   remainingPlainText,\n  //   remainingMarkdown,\n  //   descriptionContent: item.descriptionContent\n  // });\n  \n  // Prüfe ob Text mehr als eine Zeile benötigt (nach dem ersten Render)\n  useEffect(() => {\n    if (firstLineRef.current && fullText) {\n      // Erstelle temporäres Element zum Messen der Textbreite\n      const tempDiv = document.createElement('div');\n      tempDiv.style.position = 'absolute';\n      tempDiv.style.visibility = 'hidden';\n      tempDiv.style.width = firstLineRef.current.offsetWidth + 'px';\n      tempDiv.style.whiteSpace = 'nowrap';\n      tempDiv.style.fontSize = window.getComputedStyle(firstLineRef.current).fontSize;\n      tempDiv.style.fontFamily = window.getComputedStyle(firstLineRef.current).fontFamily;\n      tempDiv.textContent = fullText;\n      document.body.appendChild(tempDiv);\n      \n      const fullTextWidth = tempDiv.scrollWidth;\n      const firstLineWidth = firstLineRef.current.scrollWidth;\n      const isOverflowing = fullTextWidth > firstLineWidth || hasMoreContent;\n      \n      setNeedsExpansion(isOverflowing && hasMoreContent);\n      document.body.removeChild(tempDiv);\n    }\n  }, [fullText, hasMoreContent]);\n  \n  // Rest-Markdown extrahieren (für die Anzeige beim Aufklappen)\n  const getRemainingMarkdown = (markdown: string, firstLinePlain: string): string => {\n    if (!markdown) return '';\n    \n    // Versuche zuerst nach Zeilenumbruch zu schneiden\n    const firstNewline = markdown.indexOf('\\n');\n    if (firstNewline > 0) {\n      return markdown.substring(firstNewline + 1).trim();\n    }\n    \n    // Wenn kein Zeilenumbruch, finde die Position der ersten Zeile im Plain Text\n    const plainText = getPlainTextPreview(markdown);\n    const firstLineIndex = plainText.indexOf(firstLinePlain);\n    \n    if (firstLineIndex >= 0 && plainText.length > firstLineIndex + firstLinePlain.length) {\n      // Berechne wie viele Zeichen im Markdown der ersten Zeile entsprechen\n      // Vereinfachter Ansatz: Wenn Plain Text länger ist, schneide Markdown entsprechend\n      const remainingPlainLength = plainText.length - (firstLineIndex + firstLinePlain.length);\n      if (remainingPlainLength > 0 && markdown.length > firstLinePlain.length) {\n        // Suche nach einem guten Schnittpunkt im Markdown (nach der ersten Zeile)\n        // Versuche nach ~150 Zeichen oder nach der ersten Zeile zu schneiden\n        let cutPoint = Math.min(150, markdown.length);\n        \n        // Suche rückwärts nach einem Wortende\n        for (let i = cutPoint; i > 100 && i < markdown.length; i--) {\n          if (markdown[i] === ' ' || markdown[i] === '.' || markdown[i] === ',' || markdown[i] === '\\n') {\n            cutPoint = i + 1;\n            break;\n          }\n        }\n        \n        // Wenn die erste Zeile länger ist als der Schnittpunkt, verwende die Länge der ersten Zeile\n        if (firstLinePlain.length > cutPoint) {\n          cutPoint = firstLinePlain.length;\n          // Suche nach einem Wortende nach der ersten Zeile\n          for (let i = cutPoint; i < markdown.length && i < cutPoint + 50; i++) {\n            if (markdown[i] === ' ' || markdown[i] === '.' || markdown[i] === ',' || markdown[i] === '\\n') {\n              cutPoint = i + 1;\n              break;\n            }\n          }\n        }\n        \n        if (markdown.length > cutPoint) {\n          return markdown.substring(cutPoint).trim();\n        }\n      }\n    }\n    \n    return '';\n  };\n  \n  // Berechne remainingMarkdown immer (nicht nur wenn expanded), damit wir es für die Bedingung verwenden können\n  const remainingMarkdown = hasMoreContent ? getRemainingMarkdown(item.descriptionContent || '', firstLine) : '';\n  \n  // Extrahiere Anhänge aus dem gesamten descriptionContent (nicht nur aus remainingMarkdown)\n  const fullDescriptionContent = item.descriptionContent || '';\n  \n  // Debug: Aktivieren für Troubleshooting (NACH allen Initialisierungen)\n  // console.log('DescriptionMetadataItem:', {\n  //   firstLine,\n  //   fullText,\n  //   hasMoreContent,\n  //   fullTextLength: fullText.length,\n  //   firstLineLength: firstLine.length,\n  //   hasNewline: fullText.includes('\\n'),\n  //   remainingPlainText,\n  //   remainingMarkdown,\n  //   descriptionContent: item.descriptionContent\n  // });\n  \n  // Prüfe, ob Bilder im gesamten Text vorhanden sind (unabhängig von remainingMarkdown)\n  const hasImages = /!\\[([^\\]]*)\\]\\([^)]+\\)/.test(fullDescriptionContent);\n  \n  // Pfeil soll NUR erscheinen, wenn mehr Text vorhanden ist (nicht nur wegen Bilder)\n  const shouldShowExpandButton = hasMoreContent && needsExpansion;\n  \n  return (\n    <div className={`text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 ${item.className || ''}`}>\n      {/* Hauptzeile: Text, Pfeil rechts (ohne Label) */}\n      <div className=\"flex items-center gap-1 sm:gap-1.5\">\n        {/* Text - kann umbrechen, keine line-clamp mehr */}\n        <span \n          ref={firstLineRef}\n          className=\"text-gray-900 dark:text-white flex-1 min-w-0 break-words whitespace-pre-wrap\"\n        >\n          {firstLine}\n        </span>\n        {/* Pfeil rechts, nach dem Text - erscheint wenn mehr Text ODER Bilder vorhanden */}\n        {shouldShowExpandButton && !isExpanded && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsExpanded(true);\n            }}\n            className=\"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3\"\n            title={t('dataCard.expandDescription')}\n          >\n            <ChevronLeftIcon className=\"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8\" />\n          </button>\n        )}\n        {isExpanded && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsExpanded(false);\n            }}\n            className=\"flex-shrink-0 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors ml-0.5 sm:ml-1 mr-2 sm:mr-3\"\n            title={t('dataCard.collapseDescription')}\n          >\n            <ChevronDownIcon className=\"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8\" />\n          </button>\n        )}\n      </div>\n      {/* Bilder IMMER anzeigen (auch wenn nicht expanded) */}\n      {hasImages && (\n        <div className={firstLine.trim() === '' ? 'mt-0' : 'mt-2'}>\n          <MarkdownPreview \n            content={fullDescriptionContent} \n            showImagePreview={true}\n            attachmentMetadata={item.attachmentMetadata || []}\n          />\n        </div>\n      )}\n      {/* REST-TEXT NUR wenn expanded UND es gibt mehr Text (Bilder werden bereits oben angezeigt) */}\n      {isExpanded && hasMoreContent && (() => {\n        // Vereinfachte Logik: Zeige einfach den REST-Text nach der ersten Zeile\n        let restContent = '';\n        \n        // Versuche zuerst remainingPlainText (einfachste Methode)\n        if (remainingPlainText && remainingPlainText.trim() !== '') {\n          restContent = remainingPlainText;\n        }\n        // Fallback: Schneide einfach nach firstLine.length im Plain Text\n        else if (fullText.length > firstLine.length) {\n          restContent = fullText.substring(firstLine.length).trim();\n        }\n        \n        // Zeige REST-Text wenn vorhanden\n        if (restContent && restContent.trim() !== '') {\n          return (\n            <div className=\"mt-1\">\n              <div className=\"dark:text-gray-200 break-words text-gray-900 dark:text-white whitespace-pre-wrap\">\n                {restContent.trim()}\n              </div>\n            </div>\n          );\n        }\n        \n        return null;\n      })()}\n    </div>\n  );\n};\n\n// ✅ REFACTORING: Helper-Funktion für Metadaten-Rendering (eliminiert Duplikation)\nconst renderMetadataItem = (item: MetadataItem, index: number, variant: 'mobile' | 'desktop' = 'desktop'): React.ReactNode => {\n  if (item.descriptionContent) return null;\n  \n  const baseClasses = variant === 'mobile' \n    ? 'flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0'\n    : 'flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400';\n  \n  const valueClasses = variant === 'mobile'\n    ? 'whitespace-nowrap'\n    : 'whitespace-nowrap flex-shrink-0';\n  \n  return (\n    <div key={index} className={baseClasses}>\n      {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n      {item.label && (\n        <span className={`font-medium ${variant === 'mobile' ? 'whitespace-nowrap' : 'whitespace-nowrap flex-shrink-0'}`}>\n          {item.label.endsWith(':') ? item.label : `${item.label}:`}\n        </span>\n      )}\n      <span className={`${item.className || 'text-gray-900 dark:text-white'} ${valueClasses}`}>\n        {typeof item.value === 'string' ? item.value : item.value}\n      </span>\n    </div>\n  );\n};\n\n// ✅ REFACTORING: Helper-Funktion für Status-Rendering (eliminiert Duplikation)\nconst renderStatus = (status: DataCardProps['status'], variant: 'mobile' | 'desktop' = 'desktop', t: (key: string) => string): React.ReactNode => {\n  if (!status) return null;\n  \n  const buttonSize = variant === 'mobile' ? 'h-4 w-4' : 'h-6 w-6';\n  const buttonPadding = variant === 'mobile' ? 'p-1' : 'p-2';\n  const statusPadding = variant === 'mobile' \n    ? 'px-1.5 py-0.5 text-xs'\n    : 'px-1.5 sm:px-2 md:px-2.5 py-0.5 sm:py-0.5 md:py-1 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl';\n  \n  return (\n    <div className={`flex items-center ${variant === 'mobile' ? 'gap-0.5' : 'gap-0.5 sm:gap-1'} flex-shrink-0 ${variant === 'desktop' ? 'min-w-0' : ''}`}>\n      {status.onPreviousClick && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            status.onPreviousClick?.();\n          }}\n          className={`${buttonPadding} text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0`}\n          title={t('dataCard.previousStatus')}\n        >\n          <ChevronLeftIcon className={buttonSize} />\n        </button>\n      )}\n      <span className={`${statusPadding} font-medium rounded-full ${status.color} ${status.className || ''} whitespace-nowrap flex-shrink-0`}>\n        {status.label}\n      </span>\n      {status.onNextClick && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            status.onNextClick?.();\n          }}\n          className={`${buttonPadding} text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors flex-shrink-0`}\n          title={t('dataCard.nextStatus')}\n        >\n          <ChevronRightIcon className={buttonSize} />\n        </button>\n      )}\n    </div>\n  );\n};\n\n// ✅ REFACTORING: Helper-Funktion für Titel-Rendering (eliminiert Duplikation)\nconst renderTitle = (title: string | React.ReactNode, subtitle?: string, variant: 'mobile' | 'desktop' = 'desktop'): React.ReactNode => {\n  const titleClasses = variant === 'mobile'\n    ? 'font-semibold text-gray-900 dark:text-white break-words text-sm'\n    : 'font-semibold text-gray-900 dark:text-white break-words';\n  \n  const titleStyle = variant === 'mobile'\n    ? { wordBreak: 'break-word' as const, overflowWrap: 'break-word' as const }\n    : { fontSize: 'clamp(0.9375rem, 1.2vw + 0.5rem, 1.25rem)', wordBreak: 'break-word' as const, overflowWrap: 'break-word' as const };\n  \n  const subtitleClasses = variant === 'mobile'\n    ? 'text-xs text-gray-500 dark:text-gray-400 mt-1 break-words'\n    : 'text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-500 dark:text-gray-400 mt-1 break-words';\n  \n  return (\n    <>\n      {typeof title === 'string' ? (\n        <h3 className={titleClasses} style={titleStyle}>\n          {title}\n        </h3>\n      ) : (\n        title\n      )}\n      {subtitle && (\n        <p className={subtitleClasses}>\n          {subtitle}\n        </p>\n      )}\n    </>\n  );\n};\n\nconst DataCard: React.FC<DataCardProps> = ({\n  title,\n  subtitle,\n  status,\n  metadata,\n  actions,\n  expandable,\n  onClick,\n  className = '',\n  headerClassName = '',\n  highlightBorder = false,\n  highlightColor = 'green',\n  children\n}) => {\n  const { t } = useTranslation();\n  const borderClass = highlightBorder\n    ? `border-2 border-${highlightColor}-500 dark:border-${highlightColor}-600`\n    : 'border border-gray-300 dark:border-gray-700';\n\n  return (\n    <div\n      className={`bg-white dark:bg-gray-800 rounded-lg ${borderClass} p-3 sm:p-4 md:p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow ${onClick ? 'cursor-pointer' : ''} w-full overflow-hidden ${className}`}\n      onClick={onClick}\n    >\n      {/* Mobile Layout (sm und kleiner) */}\n      <div className=\"block sm:hidden\">\n        {/* Zeile 1: Resp/QC links, Datum rechts (50:50) */}\n        <div className=\"flex items-center justify-between gap-2 mb-2\">\n          {/* Links: Resp und QC nebeneinander */}\n          <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n            {/* ✅ REFACTORING: Metadaten-Rendering mit Helper-Funktion */}\n            {metadata.filter(item => item.section === 'main' || (!item.section && (item.label === 'Angefragt von' || item.label === 'Verantwortlicher'))).map((item, index) => \n              renderMetadataItem(item, index, 'mobile')\n            )}\n            {metadata.filter(item => item.section === 'main-second' || (!item.section && item.label === 'Qualitätskontrolle')).map((item, index) => \n              renderMetadataItem(item, index, 'mobile')\n            )}\n            {metadata.filter(item => item.section === 'main-third' || (!item.section && item.label === 'Verantwortlicher')).map((item, index) => \n              renderMetadataItem(item, index, 'mobile')\n            )}\n          </div>\n          {/* Rechts: Datum (50%) */}\n          <div className=\"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 flex-shrink-0\" style={{ width: '50%', justifyContent: 'flex-end' }}>\n            {metadata.filter(item => item.section === 'right-inline').map((item, index) => (\n              <React.Fragment key={index}>\n                {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                  {typeof item.value === 'string' ? item.value : item.value}\n                </span>\n              </React.Fragment>\n            ))}\n          </div>\n        </div>\n        \n        {/* Zeile 2: Titel (60-70%) | Status (30-40%) */}\n        <div className=\"flex items-start justify-between gap-2 mb-2\">\n          {/* ✅ REFACTORING: Titel-Rendering mit Helper-Funktion */}\n          <div className=\"flex-1 min-w-0\" style={{ flex: '0 0 65%' }}>\n            {renderTitle(title, subtitle, 'mobile')}\n          </div>\n          {/* ✅ REFACTORING: Status-Rendering mit Helper-Funktion */}\n          <div className=\"flex-shrink-0\" style={{ flex: '0 0 35%', justifyContent: 'flex-end' }}>\n            {renderStatus(status, 'mobile', t)}\n            </div>\n        </div>\n        \n        {/* Right-Metadaten für Mobile - unter Status, NUR wenn KEIN 3-Spalten-Layout aktiv ist */}\n        {metadata.filter(item => item.section === 'right').length > 0 && metadata.filter(item => item.section === 'center').length === 0 && (\n          <div className=\"flex flex-col items-end gap-1 mb-2\">\n            {metadata.filter(item => item.section === 'right').map((item, index) => {\n              return (\n                <div\n                  key={index}\n                  className=\"flex items-center gap-1 justify-end text-xs text-gray-600 dark:text-gray-400\"\n                >\n                  {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                  {item.label && <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                  <span className={`${item.className || 'text-gray-900 dark:text-white'} break-words`}>\n                    {typeof item.value === 'string' ? item.value : item.value}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      \n      {/* Desktop Layout (sm und größer) */}\n      <div className=\"hidden sm:block\">\n        {/* Container für Titel links und alle Metadaten rechts - Grid-Layout mit 2 Spalten */}\n        <div className=\"grid items-center gap-4 mb-2\" style={{ gridTemplateColumns: '1fr auto' }}>\n          {/* ✅ REFACTORING: Titel-Rendering mit Helper-Funktion */}\n          <div className=\"min-w-0 pr-2\">\n            {renderTitle(title, subtitle, 'desktop')}\n          </div>\n          \n          {/* Rechts: Alle Metadaten zusammen (Typ, Solicitado por, Responsable, Datum, Status) - rechtsbündig ausgerichtet, flexibel für Responsive */}\n          <div className=\"flex items-center justify-end gap-1 sm:gap-2 md:gap-3 flex-nowrap overflow-visible\">\n            {/* Typ (erste Zeile, auf gleicher Höhe wie Titel) - main mit und ohne Label */}\n            {metadata.filter(item => item.section === 'main').length > 0 && (\n              <div className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 whitespace-nowrap\">\n                {(() => {\n                  const mainItems = metadata.filter(item => item.section === 'main' && !item.descriptionContent);\n                  return mainItems.map((item, index) => {\n                    const prevItem = index > 0 ? mainItems[index - 1] : null;\n                    const isCheckInOut = item.label?.includes('Check-in') || item.label?.includes('Check-out') || item.label?.includes('checkInOut');\n                    const prevIsRoom = prevItem?.label === 'Zimmer' || prevItem?.label?.includes('Zimmer') || prevItem?.label?.includes('room');\n                    const needsExtraSpacing = isCheckInOut && prevIsRoom;\n                    \n                    return (\n                      <React.Fragment key={index}>\n                        {needsExtraSpacing && <span className=\"ml-2 sm:ml-3\" />}\n                        {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                        {item.label && <span className=\"font-medium whitespace-nowrap flex-shrink-0\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                        <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                          {typeof item.value === 'string' ? item.value : item.value}\n                        </span>\n                      </React.Fragment>\n                    );\n                  });\n                })()}\n              </div>\n            )}\n            \n            {/* Container für Solicitado por + Responsable (nebeneinander, immer zusammen) */}\n            <div className=\"flex items-center gap-0.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-nowrap whitespace-nowrap flex-shrink-0\">\n              {/* Solicitado por */}\n              {metadata.filter(item => (item.section === 'main-second' && item.label) || (!item.section && item.label === 'Angefragt von')).map((item, index) => {\n                if (item.descriptionContent) return null;\n                \n                return (\n                  <React.Fragment key={index}>\n                    {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                    {item.label && <span className=\"font-medium whitespace-nowrap flex-shrink-0\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                    <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap flex-shrink-0`}>\n                      {typeof item.value === 'string' ? item.value : item.value}\n                    </span>\n                  </React.Fragment>\n                );\n              })}\n              \n              {/* Responsable (direkt daneben) */}\n              {metadata.filter(item => item.section === 'main-third' || (!item.section && item.label === 'Verantwortlicher')).map((item, index) => {\n                if (item.descriptionContent) return null;\n                \n                return (\n                  <React.Fragment key={index}>\n                    {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                    {item.label && <span className=\"font-medium whitespace-nowrap flex-shrink-0\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                    <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap flex-shrink-0`}>\n                      {typeof item.value === 'string' ? item.value : item.value}\n                    </span>\n                  </React.Fragment>\n                );\n              })}\n            </div>\n            \n            {/* Datum (right-inline) */}\n            {metadata.filter(item => item.section === 'right-inline').map((item, index) => (\n              <div\n                key={index}\n                className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 flex-shrink-0 whitespace-nowrap\"\n              >\n                {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                <span className={`${item.className || 'text-gray-900 dark:text-white'} whitespace-nowrap`}>\n                  {typeof item.value === 'string' ? item.value : item.value}\n                </span>\n              </div>\n            ))}\n            \n            {/* ✅ REFACTORING: Status-Rendering mit Helper-Funktion */}\n            {renderStatus(status, 'desktop', t)}\n          </div>\n        </div>\n      </div>\n      \n      {/* Right-Metadaten (nicht inline) - unter Status, bündig ausgerichtet (für andere Komponenten) - nur Desktop, NUR wenn KEIN 3-Spalten-Layout aktiv ist */}\n      {metadata.filter(item => item.section === 'right').length > 0 && metadata.filter(item => item.section === 'center').length === 0 && (\n        <div className=\"hidden sm:flex flex-shrink-0 ml-4 flex-col items-end gap-1 sm:gap-2 mb-3 sm:mb-4 md:mb-5\">\n          {metadata.filter(item => item.section === 'right').map((item, index) => {\n            return (\n              <div\n                key={index}\n                className=\"flex items-center gap-1 sm:gap-1.5 justify-end text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n              >\n                {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                {item.label && <span className=\"font-medium mr-1 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                <span className={`${item.className || 'text-gray-900 dark:text-white'} break-words`}>\n                  {typeof item.value === 'string' ? item.value : item.value}\n                </span>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n\n      {/* Metadaten - strukturiertes Layout (für andere Komponenten) */}\n      {(() => {\n        const hasCenterSection = metadata.filter(item => item.section === 'center').length > 0;\n        const relevantMetadata = metadata.filter(item => \n          item.section !== 'full' && \n          item.section !== 'main' && \n          item.section !== 'main-second' && \n          item.section !== 'right-inline'\n        );\n        \n        // Wenn center-Section vorhanden ist, müssen left, center oder right vorhanden sein\n        // Wenn keine center-Section vorhanden ist, müssen left oder right vorhanden sein (aber nicht center)\n        const shouldRender = hasCenterSection \n          ? (relevantMetadata.filter(item => item.section === 'left' || item.section === 'center' || item.section === 'right').length > 0)\n          : (relevantMetadata.filter(item => item.section === 'left' || item.section === 'right' || (!item.section && item.label !== 'Angefragt von' && item.label !== 'Verantwortlicher')).length > 0);\n        \n        return shouldRender ? (\n        <div className=\"flex flex-col gap-3 sm:gap-4 mb-3 sm:mb-4\">\n          {/* 3-Spalten-Layout für Reservations (wenn center-Section vorhanden) */}\n          {hasCenterSection ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 items-start justify-items-start\">\n              {/* Links: Titel-Bereich (Telefon/Email unter Titel) */}\n              <div className=\"flex flex-col gap-2 items-start w-full\">\n                {metadata.filter(item => item.section === 'left').map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400 w-full\"\n                  >\n                    {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                    {item.label && <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                    <span className={item.className || 'text-gray-900 dark:text-white'}>\n                      {typeof item.value === 'string' ? item.value : item.value}\n                    </span>\n                  </div>\n                ))}\n              </div>\n              \n              {/* Mitte: Links (Zahlungslink, Check-in Link) */}\n              <div className=\"flex flex-col gap-2 items-center\">\n                {metadata.filter(item => item.section === 'center').map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                  >\n                    {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                    {item.label && <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                    <span className={`${item.className || 'text-gray-900 dark:text-white'} break-words`}>\n                      {typeof item.value === 'string' ? item.value : item.value}\n                    </span>\n                  </div>\n                ))}\n              </div>\n              \n              {/* Rechts: Status-Badges und Rest */}\n              <div className=\"flex flex-col gap-2 items-end\">\n                {metadata.filter(item => item.section === 'right').map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"flex items-center gap-1 sm:gap-1.5 justify-end text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                  >\n                    {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                    {item.label && <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                    <span className={`${item.className || 'text-gray-900 dark:text-white'} break-words`}>\n                      {typeof item.value === 'string' ? item.value : item.value}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ) : (\n            <>\n              {/* Links: Niederlassung (meist ausgeblendet) - nur wenn keine center-Section */}\n              {metadata.filter(item => item.section === 'left').length > 0 && (\n                <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n                  {metadata.filter(item => item.section === 'left').map((item, index) => (\n                    <div\n                      key={index}\n                      className=\"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                    >\n                      {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                      {item.label && <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>}\n                      <span className={item.className || 'text-gray-900 dark:text-white'}>\n                        {typeof item.value === 'string' ? item.value : item.value}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Haupt-Metadaten: Alle außer \"Angefragt von\" und \"Verantwortlicher\" (die sind jetzt im Header) */}\n              {metadata.filter(item => {\n                const section = item.section;\n                if (section === 'main' || section === 'main-second' || section === 'right-inline' || section === 'center') return false;\n                return !section && item.label !== 'Angefragt von' && item.label !== 'Verantwortlicher';\n              }).length > 0 && (\n                <div className=\"flex flex-col gap-2 sm:gap-2.5\">\n                  {metadata\n                    .filter(item => {\n                      const section = item.section;\n                      if (section === 'main' || section === 'main-second' || section === 'right-inline' || section === 'center') return false;\n                      return !section && item.label !== 'Angefragt von' && item.label !== 'Verantwortlicher';\n                    })\n                    .map((item, index) => {\n                      // Spezielle Behandlung für Beschreibung mit expandierbarem Inhalt\n                      if (item.descriptionContent) {\n                        return <DescriptionMetadataItem key={index} item={item} />;\n                      }\n                      \n                      return (\n                        <div\n                          key={index}\n                          className=\"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-600 dark:text-gray-400\"\n                        >\n                          {item.icon && <span className=\"flex-shrink-0\">{item.icon}</span>}\n                          <span className=\"font-medium mr-1 sm:mr-2 whitespace-nowrap\">{item.label.endsWith(':') ? item.label : `${item.label}:`}</span>\n                          <span className={`flex-1 min-w-0 break-words ${item.className || 'text-gray-900 dark:text-white'}`}>\n                            {typeof item.value === 'string' ? item.value : item.value}\n                          </span>\n                        </div>\n                      );\n                    })}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n        ) : null;\n      })()}\n\n      {/* Beschreibung/Mitteilung (section: 'full') - ganz unten in der Card */}\n      {metadata.filter(item => item.section === 'full' && item.descriptionContent).length > 0 && (\n        <div className=\"mt-4\">\n          {metadata.filter(item => item.section === 'full' && item.descriptionContent).map((item, index) => (\n            <DescriptionMetadataItem key={index} item={item} />\n          ))}\n        </div>\n      )}\n\n      {/* Actions/Buttons - nach der Beschreibung, IMMER (sowohl Mobile als auch Desktop) */}\n      {actions && (\n        <div\n          className=\"flex items-center space-x-2 flex-wrap justify-end mt-4\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {actions}\n        </div>\n      )}\n\n      {/* Children Content (z.B. für zusätzliche Details) */}\n      {children && (\n        <div className=\"mb-4\">\n          {children}\n        </div>\n      )}\n\n      {/* Expandable Content */}\n      {expandable && (\n        <div className=\"mb-4\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              expandable.onToggle();\n            }}\n            className=\"flex items-center justify-between w-full text-left text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\"\n          >\n            <span>Details</span>\n            {expandable.isExpanded ? (\n              <ChevronDownIcon className=\"h-4 w-4\" />\n            ) : (\n              <span className=\"text-base lg:text-lg xl:text-xl\">&lt;</span>\n            )}\n          </button>\n          {expandable.isExpanded && (\n            <div className=\"mt-2 pt-3\">\n              {expandable.content}\n            </div>\n          )}\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default DataCard;\n\n","// import axios from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { logger } from '../utils/logger.ts';\nimport { API_URL } from '../config/api.ts';\n\nexport interface TableSettings {\n  tableId: string;\n  columnOrder: string[];\n  hiddenColumns: string[];\n  viewMode?: 'table' | 'cards';\n  sortConfig?: { key: string; direction: 'asc' | 'desc' };\n}\n\n// Helfer-Funktion, um den localStorage-Schlüssel für eine Tabelle zu generieren\nconst getLocalStorageKey = (tableId: string) => `table_settings_${tableId}`;\n\n// API zum Verwalten der Tabelleneinstellungen\nexport const tableSettingsApi = {\n  // Benutzerspezifische Tabelleneinstellungen abrufen\n  getTableSettings: async (tableId: string): Promise<TableSettings> => {\n    try {\n      // Zuerst versuchen, Einstellungen vom API-Server zu laden\n      const response = await axiosInstance.get(`/table-settings/${tableId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Fehler beim Abrufen der Tabelleneinstellungen vom Server:', error);\n      \n      // Fallback: Versuchen, aus dem localStorage zu laden\n      try {\n        const localStorageKey = getLocalStorageKey(tableId);\n        const storedSettings = localStorage.getItem(localStorageKey);\n        \n        if (storedSettings) {\n          return JSON.parse(storedSettings);\n        }\n      } catch (localError) {\n        console.error('Fehler beim Laden aus localStorage:', localError);\n      }\n      \n      // Default-Einstellungen zurückgeben, wenn keine gespeicherten verfügbar sind\n      return {\n        tableId,\n        columnOrder: [],\n        hiddenColumns: []\n      };\n    }\n  },\n  \n  // Tabelleneinstellungen speichern (server-side und localStorage)\n  saveTableSettings: async (settings: TableSettings): Promise<void> => {\n    try {\n      // Zum API-Server senden\n      await axiosInstance.post(`/table-settings`, settings);\n      \n      // Auch im localStorage speichern\n      const localStorageKey = getLocalStorageKey(settings.tableId);\n      localStorage.setItem(localStorageKey, JSON.stringify(settings));\n    } catch (error) {\n      console.error('Fehler beim Speichern der Tabelleneinstellungen auf dem Server:', error);\n      \n      // Trotzdem im localStorage speichern\n      try {\n        const localStorageKey = getLocalStorageKey(settings.tableId);\n        localStorage.setItem(localStorageKey, JSON.stringify(settings));\n      } catch (localError) {\n        console.error('Fehler beim Speichern im localStorage:', localError);\n      }\n    }\n  },\n  \n  // Tabelleneinstellungen zurücksetzen\n  resetTableSettings: (tableId: string): void => {\n    try {\n      const localStorageKey = getLocalStorageKey(tableId);\n      localStorage.removeItem(localStorageKey);\n      logger.log(`Tabelleneinstellungen für ${tableId} zurückgesetzt`);\n    } catch (error) {\n      console.error('Fehler beim Zurücksetzen der Tabelleneinstellungen:', error);\n    }\n  }\n}; ","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { tableSettingsApi, TableSettings } from '../api/tableSettingsApi.ts';\nimport { logger } from '../utils/logger.ts';\n\ninterface UseTableSettingsOptions {\n  defaultColumnOrder?: string[];\n  defaultHiddenColumns?: string[];\n  defaultViewMode?: 'table' | 'cards';\n  defaultVisibleCardMetadata?: string[];\n  defaultCardColumnOrder?: string[];\n  defaultCardSortDirections?: Record<string, 'asc' | 'desc'>;\n  defaultSortConfig?: { key: string; direction: 'asc' | 'desc' };\n}\n\n/**\n * Hook zum Verwalten von benutzerdefinierten Tabelleneinstellungen\n * @param tableId Eindeutige ID der Tabelle\n * @param options Optionale Standardwerte\n */\nexport const useTableSettings = (tableId: string, options?: UseTableSettingsOptions) => {\n  const [settings, setSettings] = useState<TableSettings>({\n    tableId,\n    columnOrder: options?.defaultColumnOrder || [],\n    hiddenColumns: options?.defaultHiddenColumns || []\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Tabelleneinstellungen laden - beim Mount oder wenn tableId sich ändert\n  useEffect(() => {\n    let isMounted = true;\n    \n    const loadSettings = async () => {\n      try {\n        setIsLoading(true);\n        const loadedSettings = await tableSettingsApi.getTableSettings(tableId);\n        \n        if (!isMounted) return; // Component wurde bereits unmounted\n        \n        logger.log('Geladene Tabelleneinstellungen vom Server:', loadedSettings);\n        \n        // Wenn leere Einstellungen zurückgegeben werden, verwende die Standardwerte\n        if (loadedSettings.columnOrder.length === 0 && options?.defaultColumnOrder) {\n          loadedSettings.columnOrder = options.defaultColumnOrder;\n        }\n        \n        // View-Mode initialisieren, falls nicht vorhanden\n        if (!loadedSettings.viewMode && options?.defaultViewMode) {\n          loadedSettings.viewMode = options.defaultViewMode;\n        }\n        \n        // sortConfig initialisieren, falls nicht vorhanden\n        let needsSave = false;\n        if (!loadedSettings.sortConfig && options?.defaultSortConfig) {\n          loadedSettings.sortConfig = options.defaultSortConfig;\n          needsSave = true;\n        }\n        \n        logger.log('Finale Tabelleneinstellungen nach Initialisierung:', loadedSettings);\n        setSettings(loadedSettings);\n        setError(null);\n        \n        // ✅ FIX: Speichere defaultSortConfig auch auf dem Server (nach setState, um Initialisierungsprobleme zu vermeiden)\n        if (needsSave) {\n          tableSettingsApi.saveTableSettings(loadedSettings).catch(err => {\n            setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Standard-Sortierung'));\n            console.error('Fehler beim Speichern der Standard-Sortierung:', err);\n          });\n        }\n      } catch (err) {\n        if (!isMounted) return;\n        setError(err instanceof Error ? err : new Error('Fehler beim Laden der Einstellungen'));\n        console.error('Fehler beim Laden der Tabelleneinstellungen:', err);\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    loadSettings();\n    \n    return () => {\n      isMounted = false;\n    };\n  }, [tableId]); // NUR tableId als Dependency!\n\n  // Spaltenreihenfolge aktualisieren\n  const updateColumnOrder = useCallback(async (newColumnOrder: string[]) => {\n    try {\n      const updatedSettings = { ...settings, columnOrder: newColumnOrder };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Spaltenreihenfolge'));\n      console.error('Fehler beim Speichern der Spaltenreihenfolge:', err);\n    }\n  }, [settings]);\n\n  // Versteckte Spalten aktualisieren\n  const updateHiddenColumns = useCallback(async (newHiddenColumns: string[]) => {\n    try {\n      // ✅ FIX: Verwende funktionales Update, um stale closure zu vermeiden\n      setSettings(prevSettings => {\n        const updatedSettings = { ...prevSettings, hiddenColumns: newHiddenColumns };\n        tableSettingsApi.saveTableSettings(updatedSettings).catch(err => {\n          setError(err instanceof Error ? err : new Error('Fehler beim Speichern der versteckten Spalten'));\n          console.error('Fehler beim Speichern der versteckten Spalten:', err);\n        });\n        return updatedSettings;\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der versteckten Spalten'));\n      console.error('Fehler beim Speichern der versteckten Spalten:', err);\n    }\n  }, []);\n\n  // Eine einzelne Spalte ein- oder ausblenden\n  const toggleColumnVisibility = useCallback(async (columnId: string) => {\n    try {\n      let newHiddenColumns: string[];\n      \n      if (settings.hiddenColumns.includes(columnId)) {\n        // Spalte einblenden (aus hiddenColumns entfernen)\n        newHiddenColumns = settings.hiddenColumns.filter(id => id !== columnId);\n      } else {\n        // Spalte ausblenden (zu hiddenColumns hinzufügen)\n        newHiddenColumns = [...settings.hiddenColumns, columnId];\n      }\n      \n      const updatedSettings = { ...settings, hiddenColumns: newHiddenColumns };\n      setSettings(updatedSettings);\n      await tableSettingsApi.saveTableSettings(updatedSettings);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Ändern der Spaltenansicht'));\n      console.error('Fehler beim Ändern der Spaltenansicht:', err);\n    }\n  }, [settings]);\n\n  // View-Mode aktualisieren\n  const updateViewMode = useCallback(async (newViewMode: 'table' | 'cards') => {\n    try {\n      // ✅ FIX: Verwende funktionales Update, um stale closure zu vermeiden\n      setSettings(prevSettings => {\n        const updatedSettings = { ...prevSettings, viewMode: newViewMode };\n        tableSettingsApi.saveTableSettings(updatedSettings).catch(err => {\n          setError(err instanceof Error ? err : new Error('Fehler beim Speichern des View-Modes'));\n          console.error('Fehler beim Speichern des View-Modes:', err);\n        });\n        return updatedSettings;\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern des View-Modes'));\n      console.error('Fehler beim Speichern des View-Modes:', err);\n    }\n  }, []);\n\n  // Sortierung aktualisieren\n  const updateSortConfig = useCallback(async (newSortConfig: { key: string; direction: 'asc' | 'desc' }) => {\n    try {\n      // ✅ FIX: Verwende funktionales Update, um stale closure zu vermeiden\n      setSettings(prevSettings => {\n        const updatedSettings = { ...prevSettings, sortConfig: newSortConfig };\n        // Speichere asynchron (nicht await, da setState synchron sein muss)\n        tableSettingsApi.saveTableSettings(updatedSettings).catch(err => {\n          setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Sortierung'));\n          console.error('Fehler beim Speichern der Sortierung:', err);\n        });\n        return updatedSettings;\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Fehler beim Speichern der Sortierung'));\n      console.error('Fehler beim Speichern der Sortierung:', err);\n    }\n  }, []); // ✅ FIX: Keine Dependencies mehr - verwendet funktionales Update\n\n  return {\n    settings,\n    isLoading,\n    error,\n    updateColumnOrder,\n    updateHiddenColumns,\n    toggleColumnVisibility,\n    isColumnVisible: (columnId: string) => !settings.hiddenColumns.includes(columnId),\n    updateViewMode,\n    updateSortConfig\n  };\n}; ","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { EyeIcon, EyeSlashIcon, ArrowsUpDownIcon, ArrowUpIcon, ArrowDownIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\ninterface Column {\n  id: string;\n  label: string;\n}\n\ninterface TableColumnConfigProps {\n  columns: Column[];\n  visibleColumns: string[];\n  columnOrder: string[];\n  onToggleColumnVisibility: (columnId: string) => void;\n  onMoveColumn?: (dragIndex: number, hoverIndex: number) => void; // Optional: Drag & Drop für Spalten-Reihenfolge\n  onClose?: () => void; // Optional: Callback wenn Modal geschlossen wird\n  buttonTitle?: string; // Optional: Custom Button-Titel\n  modalTitle?: string; // Optional: Custom Modal-Titel\n  mainSortConfig?: { key: string; direction: 'asc' | 'desc' }; // Optional: Hauptsortierung (für Table & Cards synchron)\n  onMainSortChange?: (key: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Hauptsortierung\n  showMainSort?: boolean; // Optional: Hauptsortierung anzeigen\n  isOpen?: boolean; // Optional: Externe Steuerung des Modal-Status (wenn nicht übergeben, wird interner State verwendet)\n  onOpenChange?: (open: boolean) => void; // Optional: Callback wenn Modal geöffnet/geschlossen wird (für externe Steuerung)\n}\n\ninterface DraggableItemProps {\n  id: string;\n  label: string;\n  index: number;\n  isVisible: boolean;\n  onToggleVisibility: (id: string) => void;\n  sortDirection?: 'asc' | 'desc'; // Optional: Sortierrichtung für diese Spalte (wenn diese Spalte die Hauptsortierung ist)\n  onSortDirectionChange?: (id: string, direction: 'asc' | 'desc') => void; // Optional: Callback für Hauptsortierung\n  showMainSort?: boolean; // Optional: Hauptsortierung anzeigen\n  isMainSort?: boolean; // Optional: Ist diese Spalte die Hauptsortierung?\n}\n\n// Komponente für eine einzelne Spalte\nconst DraggableColumnItem: React.FC<DraggableItemProps> = ({ \n  id, \n  label, \n  index, \n  isVisible,\n  onToggleVisibility,\n  sortDirection,\n  onSortDirectionChange,\n  showMainSort = false,\n  isMainSort = false\n}) => {\n  const { t } = useTranslation();\n  \n  return (\n    <li \n      className=\"flex items-center justify-between px-2.5 py-2 rounded-md transition-colors duration-150 hover:bg-gray-50 dark:hover:bg-gray-700\"\n    >\n      <div className=\"flex items-center flex-1 min-w-0\">\n        <span className=\"text-sm dark:text-gray-300\">\n          {label}\n        </span>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        {/* Hauptsortierung-Toggle: Nur anzeigen wenn onSortDirectionChange vorhanden ist */}\n        {onSortDirectionChange && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              // Wenn diese Spalte bereits die Hauptsortierung ist, toggle die Richtung\n              // Sonst setze diese Spalte als neue Hauptsortierung (Standard: 'asc')\n              const newDirection = isMainSort && sortDirection !== undefined \n                ? (sortDirection === 'asc' ? 'desc' : 'asc')\n                : 'asc';\n              onSortDirectionChange(id, newDirection);\n            }}\n            className={`inline-flex items-center justify-center p-1.5 rounded-md transition-colors duration-150 ${\n              isMainSort\n                ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50'\n                : 'bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300'\n            }`}\n            title={\n              isMainSort && sortDirection !== undefined\n                ? `${t('tableColumn.mainSort')}: ${sortDirection === 'asc' ? t('tableColumn.ascending') : t('tableColumn.descending')} (${t('tableColumn.clickToToggle')})`\n                : `${t('tableColumn.setMainSort')} (${t('tableColumn.clickToSet')})`\n            }\n          >\n            {isMainSort && sortDirection === 'asc' ? (\n              <ArrowUpIcon className=\"h-4 w-4\" />\n            ) : isMainSort && sortDirection === 'desc' ? (\n              <ArrowDownIcon className=\"h-4 w-4\" />\n            ) : (\n              <ArrowsUpDownIcon className=\"h-4 w-4\" />\n            )}\n          </button>\n        )}\n        <button\n          onClick={() => onToggleVisibility(id)}\n          className=\"inline-flex items-center justify-center p-1.5 rounded-full bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n          title={isVisible ? t('tableColumn.hideColumn') : t('tableColumn.showColumn')}\n        >\n          {isVisible ? (\n            <EyeIcon className=\"w-4 h-4 dark:text-gray-300\" />\n          ) : (\n            <EyeSlashIcon className=\"w-4 h-4 text-gray-400 dark:text-gray-500\" />\n          )}\n        </button>\n      </div>\n    </li>\n  );\n};\n\nconst TableColumnConfig: React.FC<TableColumnConfigProps> = ({\n  columns,\n  visibleColumns,\n  columnOrder,\n  onToggleColumnVisibility,\n  onMoveColumn,\n  onClose,\n  buttonTitle,\n  modalTitle,\n  mainSortConfig,\n  onMainSortChange,\n  showMainSort = false,\n  isOpen: externalIsOpen,\n  onOpenChange\n}) => {\n  const { t } = useTranslation();\n  const defaultButtonTitle = buttonTitle || t('tableColumn.configure');\n  const defaultModalTitle = modalTitle || t('tableColumn.configure');\n  // Interner State nur verwenden, wenn keine externe Steuerung übergeben wurde\n  const [internalIsOpen, setInternalIsOpen] = useState(false);\n  const isOpen = externalIsOpen !== undefined ? externalIsOpen : internalIsOpen;\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // Sortiere die Spalten gemäß der benutzerdefinierten Reihenfolge\n  const sortedColumns = [...columns].sort((a, b) => {\n    const indexA = columnOrder.indexOf(a.id);\n    const indexB = columnOrder.indexOf(b.id);\n    // Wenn eine Spalte nicht in columnOrder ist, platziere sie am Ende\n    if (indexA === -1) return 1;\n    if (indexB === -1) return -1;\n    return indexA - indexB;\n  });\n\n  // Handler zum Schließen des Menüs\n  const handleClose = useCallback(() => {\n    if (externalIsOpen !== undefined) {\n      // Externe Steuerung: onOpenChange aufrufen\n      onOpenChange?.(false);\n    } else {\n      // Interne Steuerung: internen State aktualisieren\n      setInternalIsOpen(false);\n    }\n    onClose?.();\n  }, [externalIsOpen, onOpenChange, onClose]);\n\n  // Handler zum Öffnen des Menüs\n  const handleOpen = useCallback(() => {\n    if (externalIsOpen !== undefined) {\n      // Externe Steuerung: onOpenChange aufrufen\n      onOpenChange?.(true);\n    } else {\n      // Interne Steuerung: internen State aktualisieren\n      setInternalIsOpen(true);\n    }\n  }, [externalIsOpen, onOpenChange]);\n\n  // Click outside handler\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen, handleClose]);\n\n  // Keyboard navigation: ESC zum Schließen\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        handleClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isOpen, handleClose]);\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      {/* Button nur anzeigen, wenn keine externe Steuerung vorhanden ist */}\n      {externalIsOpen === undefined && (\n        <button\n          className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n          onClick={isOpen ? handleClose : handleOpen}\n          title={defaultButtonTitle}\n        >\n        {showMainSort ? (\n          <ArrowsUpDownIcon className=\"w-5 h-5\" />\n        ) : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5\">\n            <path fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 012 10z\" clipRule=\"evenodd\" />\n          </svg>\n        )}\n        </button>\n      )}\n\n      {isOpen && (\n        <div \n          className=\"absolute right-0 mt-2 w-64 max-w-[calc(100vw-1rem)] bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-300 dark:border-gray-600\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"table-column-config-title\"\n        >\n          <div className=\"px-3 py-2.5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n            <h3 id=\"table-column-config-title\" className=\"text-sm font-semibold text-gray-900 dark:text-white\">{defaultModalTitle}</h3>\n            <button\n              onClick={handleClose}\n              className=\"inline-flex items-center justify-center p-2 rounded-md bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-300 transition-colors duration-150\"\n              title={t('common.close')}\n            >\n              <XMarkIcon className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <ul className=\"px-2 py-1 max-h-64 overflow-y-auto\">\n            {sortedColumns.map((column, index) => {\n                const isVisible = visibleColumns.includes(column.id);\n                // Prüfe ob diese Spalte die Hauptsortierung ist\n                const isMainSort = mainSortConfig?.key === column.id;\n                const sortDirection = isMainSort ? mainSortConfig.direction : undefined;\n                // Sort-Button für alle Spalten anzeigen (unabhängig von Sichtbarkeit)\n                const showSortButton = showMainSort && onMainSortChange;\n                \n                return (\n                  <DraggableColumnItem\n                    key={column.id}\n                    id={column.id}\n                    label={column.label}\n                    index={index}\n                    isVisible={isVisible}\n                    onToggleVisibility={onToggleColumnVisibility}\n                    sortDirection={sortDirection}\n                    onSortDirectionChange={showSortButton ? onMainSortChange : undefined}\n                    showMainSort={showMainSort}\n                    isMainSort={isMainSort}\n                  />\n                );\n              })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TableColumnConfig; "],"names":["_ref","children","columns","mobile","tablet","desktop","largeDesktop","gap","className","gapClass","sm","md","lg","_jsx","concat","DescriptionMetadataItem","item","t","useTranslation","isExpanded","setIsExpanded","useState","needsExpansion","setNeedsExpansion","firstLineRef","useRef","getPlainTextPreview","markdown","undefined","String","replace","trim","fullText","descriptionContent","firstLine","text","firstNewline","indexOf","substring","length","cutPoint","i","getFirstLine","hasMoreContent","includes","remainingPlainText","getRemainingText","firstLineText","firstLineIndex","remainingStart","useEffect","current","tempDiv","document","createElement","style","position","visibility","width","offsetWidth","whiteSpace","fontSize","window","getComputedStyle","fontFamily","textContent","body","appendChild","fullTextWidth","scrollWidth","firstLineWidth","removeChild","getRemainingMarkdown","firstLinePlain","plainText","Math","min","fullDescriptionContent","hasImages","test","shouldShowExpandButton","_jsxs","ref","onClick","e","stopPropagation","title","ChevronLeftIcon","ChevronDownIcon","MarkdownPreview","content","showImagePreview","attachmentMetadata","restContent","renderMetadataItem","index","variant","arguments","baseClasses","valueClasses","icon","label","endsWith","value","renderStatus","status","buttonSize","buttonPadding","statusPadding","onPreviousClick","_status$onPreviousCli","call","color","onNextClick","_status$onNextClick","ChevronRightIcon","renderTitle","subtitle","titleClasses","titleStyle","wordBreak","overflowWrap","subtitleClasses","_Fragment","_ref2","metadata","actions","expandable","headerClassName","highlightBorder","highlightColor","borderClass","filter","section","map","justifyContent","React","flex","gridTemplateColumns","mainItems","_item$label","_item$label2","_item$label3","_prevItem$label","_prevItem$label2","prevItem","isCheckInOut","prevIsRoom","needsExtraSpacing","hasCenterSection","relevantMetadata","onToggle","getLocalStorageKey","tableId","tableSettingsApi","async","axiosInstance","get","data","error","console","localStorageKey","storedSettings","localStorage","getItem","JSON","parse","localError","columnOrder","hiddenColumns","post","settings","setItem","stringify","useTableSettings","options","setSettings","defaultColumnOrder","defaultHiddenColumns","isLoading","setIsLoading","setError","isMounted","loadedSettings","logger","log","viewMode","defaultViewMode","needsSave","sortConfig","defaultSortConfig","catch","err","Error","loadSettings","updateColumnOrder","useCallback","updatedSettings","_objectSpread","newColumnOrder","updateHiddenColumns","prevSettings","newHiddenColumns","toggleColumnVisibility","columnId","id","updateViewMode","newViewMode","updateSortConfig","newSortConfig","isColumnVisible","DraggableColumnItem","isVisible","onToggleVisibility","sortDirection","onSortDirectionChange","showMainSort","isMainSort","ArrowUpIcon","ArrowDownIcon","ArrowsUpDownIcon","EyeIcon","EyeSlashIcon","visibleColumns","onToggleColumnVisibility","onMoveColumn","onClose","buttonTitle","modalTitle","mainSortConfig","onMainSortChange","isOpen","externalIsOpen","onOpenChange","defaultButtonTitle","defaultModalTitle","internalIsOpen","setInternalIsOpen","menuRef","sortedColumns","sort","a","b","indexA","indexB","handleClose","handleOpen","handleClickOutside","event","contains","target","addEventListener","removeEventListener","handleKeyDown","key","xmlns","viewBox","fill","fillRule","d","clipRule","role","XMarkIcon","column","direction","showSortButton"],"sourceRoot":""}