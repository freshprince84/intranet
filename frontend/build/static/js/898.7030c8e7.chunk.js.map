{"version":3,"file":"static/js/898.7030c8e7.chunk.js","mappings":"gLAKAA,QAAQC,IAAI,wCAAyCC,EAAAA,IAGrD,MAAMC,EAAYC,EAAAA,EAGlBD,EAAUE,aAAaC,QAAQC,KAC5BC,IAAY,IAADC,EAEV,MAAMC,EAAU,GAAGF,EAAOG,UAAUH,EAAOI,MAC3CZ,QAAQC,IAAI,wDAAsDS,GAClEV,QAAQC,IAAI,4CAA0D,QAAfQ,EAAED,EAAOK,cAAM,IAAAJ,OAAA,EAAbA,EAAeK,eACxEd,QAAQC,IAAI,4CAA6CO,EAAOO,SAChEf,QAAQC,IAAI,0CAA2CO,EAAOQ,MAE9D,MAAMC,EAAQC,aAAaC,QAAQ,SAGnC,OAFAnB,QAAQC,IAAI,8CAA+CgB,GAEpDT,CAAM,IAEdY,IACCpB,QAAQoB,MAAM,0DAA2DA,GAClEC,QAAQC,OAAOF,MAK1BjB,EAAUE,aAAakB,SAAShB,KAC7BgB,IACCvB,QAAQC,IAAI,8CAA+CsB,EAASC,OAAQD,EAASf,OAAOI,KACrFW,KAERH,IACCpB,QAAQoB,MAAM,2DAA4DA,EAAMK,SAE5EL,EAAMG,UACRvB,QAAQoB,MAAM,4CAA6CA,EAAMG,SAASC,QAC1ExB,QAAQoB,MAAM,2CAA4CA,EAAMG,SAASP,OAEzEhB,QAAQoB,MAAM,oDAGTC,QAAQC,OAAOF,MAKnB,MAAMM,EAAU,CACrBC,OAAQA,IAAMxB,EAAUyB,IAAI,UAC5BC,QAAUC,GAAe3B,EAAUyB,IAAI,UAAUE,KACjDC,OAASf,IACPhB,QAAQC,IAAI,qEAAsEe,GAClF,IACE,OAAOb,EAAU6B,KAAK,SAAUhB,GAC7BiB,MAAKV,IACJvB,QAAQC,IAAI,mDAAoDsB,GACzDA,KAERW,OAAMd,IAEL,MADApB,QAAQoB,MAAM,kDAAmDA,EAAMG,UAAYH,GAC7EA,CAAK,GAEjB,CAAE,MAAOe,GAEP,MADAnC,QAAQoB,MAAM,wEAAyEe,GACjFA,CACR,GAEFC,OAAQA,CAACN,EAAYd,IAAcb,EAAUkC,IAAI,UAAUP,IAAMd,GACjEsB,YAAaA,CAACR,EAAYS,IAAsBpC,EAAUkC,IAAI,UAAUP,UAAY,CAAES,aAI3EC,EAAU,CACrBb,OAAQA,KACN3B,QAAQC,IAAI,2DACLE,EAAUyB,IAAI,UAClBK,MAAKV,IACJvB,QAAQC,IAAI,uDAAwDsB,EAASP,KAAKyB,OAAQ,kBACnFlB,KAERW,OAAMd,IAEL,MADApB,QAAQoB,MAAM,kDAAmDA,EAAMK,SACjEL,CAAK,KAGjBS,QAAUC,IACR9B,QAAQC,IAAI,4CAA4C6B,sBACjD3B,EAAUyB,IAAI,UAAUE,MAEjCC,OAASf,IACPhB,QAAQC,IAAI,qEAAsEe,GAClF,IACE,OAAOb,EAAU6B,KAAK,SAAUhB,GAC7BiB,MAAKV,IACJvB,QAAQC,IAAI,mDAAoDsB,GACzDA,KAERW,OAAMd,IAEL,MADApB,QAAQoB,MAAM,kDAAmDA,EAAMG,UAAYH,GAC7EA,CAAK,GAEjB,CAAE,MAAOe,GAEP,MADAnC,QAAQoB,MAAM,wEAAyEe,GACjFA,CACR,GAEFC,OAAQA,CAACN,EAAYd,KACnBhB,QAAQC,IAAI,qDAAkD6B,+BAAiCd,GAC/F,IACE,OAAOb,EAAUkC,IAAI,UAAUP,IAAMd,GAClCiB,MAAKV,IACJvB,QAAQC,IAAI,mDAAoDsB,GACzDA,KAERW,OAAMd,IAEL,MADApB,QAAQoB,MAAM,kDAAmDA,EAAMG,UAAYH,GAC7EA,CAAK,GAEjB,CAAE,MAAOe,GAEP,MADAnC,QAAQoB,MAAM,wEAAyEe,GACjFA,CACR,GAEFO,OAASZ,IACP9B,QAAQC,IAAI,2CAA2C6B,sBAChD3B,EAAUuC,OAAO,UAAUZ,OAItC,G,gDCrIA,SAASa,EAAgBC,EAItBC,GAAQ,IAJe,MACxBC,EAAK,QACLC,KACGC,GACJJ,EACC,OAAoBK,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBG,EAAAA,cAAoB,QAAS,CAC3DnB,GAAIiB,GACHD,GAAS,KAAmBG,EAAAA,cAAoB,OAAQ,CACzDS,cAAe,QACfC,eAAgB,QAChBC,EAAG,+RAEP,CACA,MACA,EADiCX,EAAAA,WAAiBN,E,gDCvBlD,SAASkB,EAAUjB,EAIhBC,GAAQ,IAJS,MAClBC,EAAK,QACLC,KACGC,GACJJ,EACC,OAAoBK,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBG,EAAAA,cAAoB,QAAS,CAC3DnB,GAAIiB,GACHD,GAAS,KAAmBG,EAAAA,cAAoB,OAAQ,CACzDS,cAAe,QACfC,eAAgB,QAChBC,EAAG,wKAEP,CACA,MACA,EADiCX,EAAAA,WAAiBY,E,gDCvBlD,SAASC,EAAclB,EAIpBC,GAAQ,IAJa,MACtBC,EAAK,QACLC,KACGC,GACJJ,EACC,OAAoBK,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBG,EAAAA,cAAoB,QAAS,CAC3DnB,GAAIiB,GACHD,GAAS,KAAmBG,EAAAA,cAAoB,OAAQ,CACzDS,cAAe,QACfC,eAAgB,QAChBC,EAAG,4MAEP,CACA,MACA,EADiCX,EAAAA,WAAiBa,E,4ECnB3C,MAWMC,EAAsBC,MACjCC,EACAC,KAEA,IAUE,aATuB/D,EAAAA,GAAU6B,KAC/BmC,EAAAA,GAAcC,yBAAyBC,QAAQJ,GAC/CC,EACA,CACEnD,QAAS,CACP,eAAgB,0BAINC,IAClB,CAAE,MAAOI,GAEP,MADApB,QAAQoB,MAAM,2CAAyCA,GACjDA,CACR,GAgCWkD,EAAyBN,MACpCO,EACAL,KAEA,IAUE,aATuB/D,EAAAA,GAAUkC,IAC/B8B,EAAAA,GAAcC,yBAAyBI,MAAMD,GAC7CL,EACA,CACEnD,QAAS,CACP,eAAgB,0BAINC,IAClB,CAAE,MAAOI,GAEP,MADApB,QAAQoB,MAAM,2CAA4CA,GACpDA,CACR,G,cChFK,MAAMqD,EAAWA,IACf,iEAAiEC,KAAKC,UAAUC,YAAcC,OAAOC,WAAa,I,aCG3H,MAuKA,EAvKoDlC,IAA8B,IAA7B,UAAEmC,EAAS,SAAEC,GAAUpC,EAC1E,MAAOqC,EAAQC,IAAaC,EAAAA,EAAAA,UAA6B,OAClDC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAwB,OAC3D/D,EAAOkE,IAAYH,EAAAA,EAAAA,UAAwB,MAC5CI,GAAWC,EAAAA,EAAAA,QAAyB,MACpCC,GAAYD,EAAAA,EAAAA,QAA0B,MAGtCE,EAAc1B,UAClB,IAEEsB,EAAS,MAGT,MAAMK,QAAoBhB,UAAUiB,aAAaC,aAAa,CAC5DC,MAAO,CAAEC,WAAY,iBAEvBb,EAAUS,GAENJ,EAASS,UACXT,EAASS,QAAQC,UAAYN,EAEjC,CAAE,MAAOvE,GACPpB,QAAQoB,MAAM,sCAAuCA,GACrDkE,EAAS,oIACX,GAIIY,EAAaA,KACbjB,IACFA,EAAOkB,YAAYC,SAAQC,GAASA,EAAMC,SAC1CpB,EAAU,MACZ,EAgDF,OAZAqB,EAAAA,EAAAA,YAAU,KACJ9B,KACFiB,IAIK,KACLQ,GAAY,IAEb,IAGEzB,KAeH+B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAAA,UAAQlD,IAAKgC,EAAWgB,UAAU,WAEjCrF,IACCoF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sIAAqIC,SAAA,EAClJC,EAAAA,EAAAA,KAAA,KAAAD,SAAItF,KACJuF,EAAAA,EAAAA,KAAA,UACEF,UAAU,gGACVG,QAAS5B,EAAS0B,SACnB,iBAMHtF,GAAUgE,GA0BPhE,GAASgE,GACZoB,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAH,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6FAA4FC,UACzGC,EAAAA,EAAAA,KAAA,OACEG,IAAK1B,EACL2B,IAAI,yBACJN,UAAU,qBAIdD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEF,UAAU,2FACVG,QAvFQI,KAClB3B,EAAiB,MACjBK,GAAa,EAqFkBgB,SACtB,mBAGDC,EAAAA,EAAAA,KAAA,UACEF,UAAU,4GACVG,QApGSK,KACf7B,GACFL,EAAUK,EACZ,EAiGgCsB,SACvB,oBAKH,MAlDFF,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAH,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2FAA0FC,UACvGC,EAAAA,EAAAA,KAAA,SACElD,IAAK8B,EACL2B,UAAQ,EACRC,aAAW,EACXV,UAAU,qBAIdD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEF,UAAU,2FACVG,QAAS5B,EAAS0B,SACnB,eAGDC,EAAAA,EAAAA,KAAA,UACEF,UAAU,wGACVG,QA9FSQ,KACnB,GAAI7B,EAASS,SAAWP,EAAUO,QAAS,CACzC,MAAMqB,EAAS5B,EAAUO,QACnBF,EAAQP,EAASS,QAEvBqB,EAAOC,MAAQxB,EAAMyB,WACrBF,EAAOG,OAAS1B,EAAM2B,YAEtB,MAAMC,EAAML,EAAOM,WAAW,MAC9B,GAAID,EAAK,CACPA,EAAIE,UAAU9B,EAAO,EAAG,GACxB,MAAM+B,EAAYR,EAAOS,UAAU,aAAc,IACjDzC,EAAiBwC,GACjB3B,GACF,CACF,GA+EgCQ,SACvB,6BAjDPF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDC,SAAA,EAC/DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,OAAMC,SAAC,iEACpBC,EAAAA,EAAAA,KAAA,UACEF,UAAU,2FACVG,QAAS5B,EAAS0B,SACnB,gBA2EC,E,cC1KV,SAASqB,EAAUnF,EAIhBC,GAAQ,IAJS,MAClBC,EAAK,QACLC,KACGC,GACJJ,EACC,OAAoBK,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBG,EAAAA,cAAoB,QAAS,CAC3DnB,GAAIiB,GACHD,GAAS,KAAmBG,EAAAA,cAAoB,OAAQ,CACzDS,cAAe,QACfC,eAAgB,QAChBC,EAAG,iXACYX,EAAAA,cAAoB,OAAQ,CAC3CS,cAAe,QACfC,eAAgB,QAChBC,EAAG,sFAEP,CACA,MACA,EADiCX,EAAAA,WAAiB8E,G,kCCjBlD,MAAMC,EAAgB,CACpB,CAAEC,MAAO,WAAYC,MAAO,aAC5B,CAAED,MAAO,cAAeC,MAAO,mBAC/B,CAAED,MAAO,kBAAmBC,MAAO,mBACnC,CAAED,MAAO,mBAAoBC,MAAO,wBACpC,CAAED,MAAO,cAAeC,MAAO,oBAC/B,CAAED,MAAO,SAAUC,MAAO,aAC1B,CAAED,MAAO,kBAAmBC,MAAO,+BAwZrC,EA9Y8EtF,IAKvE,IALwE,OAC7EqB,EAAM,SACNkE,EAAQ,gBACRC,EAAe,SACfpD,GACDpC,EACC,MAAOyF,EAAcC,IAAmBnD,EAAAA,EAAAA,WAAiB,OAARgD,QAAQ,IAARA,OAAQ,EAARA,EAAUE,eAAgB,KACpEE,EAAgBC,IAAqBrD,EAAAA,EAAAA,WAAiB,OAARgD,QAAQ,IAARA,OAAQ,EAARA,EAAUI,iBAAkB,KAC1EE,EAAWC,IAAgBvD,EAAAA,EAAAA,UAAiB,OAARgD,QAAQ,IAARA,GAAAA,EAAUM,UAAYN,EAASM,UAAUE,UAAU,EAAG,IAAM,KAChGC,EAAYC,IAAiB1D,EAAAA,EAAAA,UAAiB,OAARgD,QAAQ,IAARA,GAAAA,EAAUS,WAAaT,EAASS,WAAWD,UAAU,EAAG,IAAM,KACpGG,EAAgBC,IAAqB5D,EAAAA,EAAAA,WAAiB,OAARgD,QAAQ,IAARA,OAAQ,EAARA,EAAUW,iBAAkB,KAC1EE,EAAkBC,IAAuB9D,EAAAA,EAAAA,WAAiB,OAARgD,QAAQ,IAARA,OAAQ,EAARA,EAAUa,mBAAoB,KAChFE,EAAMC,IAAWhE,EAAAA,EAAAA,UAAsB,OACvC0C,EAAWuB,IAAgBjE,EAAAA,EAAAA,UAAwB,OACnDkE,EAAYC,IAAiBnE,EAAAA,EAAAA,WAAS,IACtCoE,EAAWC,IAAgBrE,EAAAA,EAAAA,WAAS,IACpCsE,EAAeC,IAAoBvE,EAAAA,EAAAA,WAAkB,IACrDwE,EAAkBC,IAAuBzE,EAAAA,EAAAA,UAAwB,OAElE,YAAE0E,IAAgBC,EAAAA,EAAAA,KAWlBC,EAAuBC,IAC3BZ,EAAaY,GACbV,GAAc,GACdH,EAAQ,KAAK,EAITc,EAAqBA,KACzBX,GAAc,EAAM,EAmLtB,OAAID,GACK1C,EAAAA,EAAAA,KAACuD,EAAa,CAACnF,UAAWgF,EAAqB/E,SAAUiF,KAIhEzD,EAAAA,EAAAA,MAAA,QAAM2D,SA5GanG,UAGnB,GAFAoG,EAAEC,iBAEGhC,GAAiBE,GAAmBO,EAAzC,CAKAU,GAAa,GAEb,IACE,GAAIrB,EAAU,CAEZ,GAAIe,EAAM,CAER,MAAMhF,EAAW,IAAIoG,SACjB/B,GAAgBrE,EAASqG,OAAO,iBAAkBhC,GAClDE,GAAWvE,EAASqG,OAAO,YAAa9B,GACxCG,GAAY1E,EAASqG,OAAO,aAAc3B,GAC1CE,GAAgB5E,EAASqG,OAAO,iBAAkBzB,GAClDE,GAAkB9E,EAASqG,OAAO,mBAAoBvB,GAC1D9E,EAASqG,OAAO,eAAgBrB,SAE1BsB,EAAgCrC,EAASrG,GAAIoC,EACrD,MAAO,GAAI2D,OJ9E0B7D,OAC3CO,EACAsD,EACA4C,KAQA,IAQE,aAPuBtK,EAAAA,GAAUkC,IAC/B8B,EAAAA,GAAcC,yBAAyBI,MAAMD,GAC7C,IACKkG,EACH5C,eAGY7G,IAClB,CAAE,MAAOI,GAEP,MADApB,QAAQoB,MAAM,sDAAuDA,GAC/DA,CACR,GIyDcoJ,CACJrC,EAASrG,GACT+F,EACA,CACEU,iBACAO,iBACAL,YACAG,aACAI,yBAGC,CAEL,MAAM9E,EAAW,IAAIoG,SACjB/B,GAAgBrE,EAASqG,OAAO,iBAAkBhC,GAClDE,GAAWvE,EAASqG,OAAO,YAAa9B,GACxCG,GAAY1E,EAASqG,OAAO,aAAc3B,GAC1CE,GAAgB5E,EAASqG,OAAO,iBAAkBzB,GAClDE,GAAkB9E,EAASqG,OAAO,mBAAoBvB,SAEpDwB,EAAgCrC,EAASrG,GAAIoC,EACrD,CAEA2F,EAAY,oCAAqC,UACnD,KAAO,CAEL,GAAIX,EAAM,CAER,MAAMhF,EAAW,IAAIoG,SACrBpG,EAASqG,OAAO,eAAgBlC,GAChCnE,EAASqG,OAAO,iBAAkBhC,GAClCrE,EAASqG,OAAO,iBAAkBzB,GAC9BL,GAAWvE,EAASqG,OAAO,YAAa9B,GACxCG,GAAY1E,EAASqG,OAAO,aAAc3B,GAC1CI,GAAkB9E,EAASqG,OAAO,mBAAoBvB,GAC1D9E,EAASqG,OAAO,eAAgBrB,SAE1BsB,EAA6BvG,EAAQC,EAC7C,MAAO,GAAI2D,OJxKuB7D,OACxCC,EACA4D,EACA4C,KASA,IAQE,aAPuBtK,EAAAA,GAAU6B,KAC/BmC,EAAAA,GAAcC,yBAAyBC,QAAQJ,GAC/C,IACKwG,EACH5C,eAGY7G,IAClB,CAAE,MAAOI,GAEP,MADApB,QAAQoB,MAAM,sDAAoDA,GAC5DA,CACR,GIkJcoJ,CACJvG,EACA4D,EACA,CACEQ,eACAE,iBACAO,iBACAL,YACAG,aACAI,yBAGC,CAEL,MAAM9E,EAAW,IAAIoG,SACrBpG,EAASqG,OAAO,eAAgBlC,GAChCnE,EAASqG,OAAO,iBAAkBhC,GAClCrE,EAASqG,OAAO,iBAAkBzB,GAC9BL,GAAWvE,EAASqG,OAAO,YAAa9B,GACxCG,GAAY1E,EAASqG,OAAO,aAAc3B,GAC1CI,GAAkB9E,EAASqG,OAAO,mBAAoBvB,SAEpDwB,EAA6BvG,EAAQC,EAC7C,CAEA2F,EAAY,sCAAoC,UAClD,CAEAzB,GACF,CAAE,MAAOhH,GAAa,IAADsJ,EAAAC,EACnBd,EAAY,YAAyB,QAAda,EAAAtJ,EAAMG,gBAAQ,IAAAmJ,GAAM,QAANC,EAAdD,EAAgB1J,YAAI,IAAA2J,OAAN,EAAdA,EAAsBvJ,QAAS,uBAAwB,QAChF,CAAC,QACCoI,GAAa,EACf,CA7FA,MAFEK,EAAY,6CAA2C,QA+FzD,EAS8BpD,UAAU,YAAWC,SAAA,EACjDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,SAAOoE,QAAQ,eAAenE,UAAU,6DAA4DC,SAAA,CAAC,gBACvFC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,iCAAgCC,SAAC,UAE/DF,EAAAA,EAAAA,MAAA,UACE1E,GAAG,eACHmG,MAAOI,EACPwC,SAAWT,GAAM9B,EAAgB8B,EAAEU,OAAO7C,OAC1CxB,UAAU,iNACVsE,UAAQ,EAAArE,SAAA,EAERC,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,GAAEvB,SAAC,uBAChBsB,EAAcgD,KAAKC,IAClBtE,EAAAA,EAAAA,KAAA,UAAyBsB,MAAOgD,EAAKhD,MAAMvB,SAAEuE,EAAK/C,OAArC+C,EAAKhD,gBAKxBzB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,SAAOoE,QAAQ,iBAAiBnE,UAAU,6DAA4DC,SAAA,CAAC,mBACtFC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,iCAAgCC,SAAC,UAElEC,EAAAA,EAAAA,KAAA,SACEsE,KAAK,OACLnJ,GAAG,iBACHmG,MAAOM,EACPsC,SAAWT,GAAM5B,EAAkB4B,EAAEU,OAAO7C,OAC5CxB,UAAU,iNACVsE,UAAQ,QAIZvE,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,SAAOoE,QAAQ,iBAAiBnE,UAAU,6DAA4DC,SAAA,CAAC,qBACpFC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,iCAAgCC,SAAC,UAEpEC,EAAAA,EAAAA,KAAA,SACEsE,KAAK,OACLnJ,GAAG,iBACHmG,MAAOa,EACP+B,SAAWT,GAAMrB,EAAkBqB,EAAEU,OAAO7C,OAC5CxB,UAAU,iNACVsE,UAAQ,QAIZvE,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOiE,QAAQ,mBAAmBnE,UAAU,6DAA4DC,SAAC,6BAGzGC,EAAAA,EAAAA,KAAA,SACEsE,KAAK,OACLnJ,GAAG,mBACHmG,MAAOe,EACP6B,SAAWT,GAAMnB,EAAoBmB,EAAEU,OAAO7C,OAC9CxB,UAAU,uNAIdD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOiE,QAAQ,YAAYnE,UAAU,6DAA4DC,SAAC,uBAGlGC,EAAAA,EAAAA,KAAA,SACEsE,KAAK,OACLnJ,GAAG,YACHmG,MAAOQ,EACPoC,SAAWT,GAAM1B,EAAa0B,EAAEU,OAAO7C,OACvCxB,UAAU,uNAIdD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOiE,QAAQ,aAAanE,UAAU,6DAA4DC,SAAC,iBAGnGC,EAAAA,EAAAA,KAAA,SACEsE,KAAK,OACLnJ,GAAG,aACHmG,MAAOW,EACPiC,SAAWT,GAAMvB,EAAcuB,EAAEU,OAAO7C,OACxCxB,UAAU,uNAIdD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,6DAA4DC,SAAC,kBAG9EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,oPAAmPC,SAAA,EAClQC,EAAAA,EAAAA,KAAChE,EAAAA,EAAgB,CAAC8D,UAAU,kDAAkD,mBAE9EE,EAAAA,EAAAA,KAAA,SAAOsE,KAAK,OAAOxE,UAAU,UAAUoE,SAtSvBT,IACpBA,EAAEU,OAAOI,OAASd,EAAEU,OAAOI,MAAMzI,OAAS,IAC5C0G,EAAQiB,EAAEU,OAAOI,MAAM,IACvB9B,EAAa,MACf,EAkS2E+B,OAAO,eAG3E1G,MACC+B,EAAAA,EAAAA,MAAA,UACEyE,KAAK,SACLrE,QAASA,IAAM0C,GAAc,GAC7B7C,UAAU,6NAA4NC,SAAA,EAEtOC,EAAAA,EAAAA,KAACoB,EAAU,CAACtB,UAAU,kDAAkD,qBAK5EE,EAAAA,EAAAA,KAAA,UACEsE,KAAK,SACLrE,QAlSkB5C,UAC1B,IAKE,GAJA0F,GAAiB,GACjBE,EAAoB,OAGfV,IAASrB,EACZ,MAAM,IAAIuD,MAAM,8DAIlB,IAAIC,EAA+B,KAcnC,GAZInC,EAEFmC,QAAsB,IAAIhK,SAAgB,CAACiK,EAAShK,KAClD,MAAMiK,EAAS,IAAIC,WACnBD,EAAOE,OAAS,IAAMH,EAAQC,EAAOG,QACrCH,EAAOI,QAAUrK,EACjBiK,EAAOK,cAAc1C,EAAK,IAEnBrB,IACTwD,EAAgBxD,IAGbwD,EACH,MAAM,IAAID,MAAM,+BAIlB,MAAMS,OCzF2B7H,WACrC,IACEhE,QAAQC,IAAI,6CAGP4H,EAAUiE,WAAW,gBAGtBjE,EADEA,EAAUiE,WAAW,QACX,0BAA4BjE,EAC/BA,EAAUiE,WAAW,SAClB,yBAA2BjE,EAG3B,0BAA4BA,GAK5C,MAAM5G,EAAQC,aAAaC,QAAQ,SACnC,IAAKF,EACH,MAAM,IAAImK,MAAM,oDAIlB,MAAMW,EAAc,GAAG7L,EAAAA,0BACvBF,QAAQC,IAAI,yBAA0B8L,GAGtC,MAAMxK,QAAiByK,MAAMD,EAAa,CACxClL,OAAQ,OACRE,QAAS,CACP,eAAgB,mBAChB,cAAiB,UAAUE,KAE7BgL,YAAa,UACbC,KAAM,OACNC,KAAMC,KAAKC,UAAU,CACnBC,MAAOzE,EAEPQ,aAAc,cAIlB,IAAK9G,EAASgL,GAAI,CAChB,MAAMC,QAAkBjL,EAASkL,OACjC,MAAM,IAAIrB,MAAM,+BAA+B7J,EAASC,UAAUgL,IACpE,CAEA,MAAMd,QAAenK,EAASmL,OAG9B,OAFA1M,QAAQC,IAAI,eAAgByL,GAErBA,CACT,CAAE,MAAOtK,GAIP,OAHApB,QAAQoB,MAAM,mDAAoDA,GAG3D,CAAC,CACV,GDgCiCuL,CAAwBtB,GAErDrL,QAAQC,IAAI,kBAAmB4L,GAG3BA,EAAexD,cACjBC,EAAgBuD,EAAexD,cAG7BwD,EAAetD,gBACjBC,EAAkBqD,EAAetD,gBAG/BsD,EAAepD,WACjBC,EAAamD,EAAepD,WAG1BoD,EAAejD,YACjBC,EAAcgD,EAAejD,YAG3BiD,EAAe/C,gBACjBC,EAAkB8C,EAAe/C,gBAG/B+C,EAAe7C,kBACjBC,EAAoB4C,EAAe7C,kBAIrCa,EAAY,qCAAsC,UAEpD,CAAE,MAAOzI,GACPpB,QAAQoB,MAAM,0CAA2CA,GACzDwI,EAAqBxI,EAAgBK,SACrCoI,EAAY,uCAA0CzI,EAAgBK,QAAS,QACjF,CAAC,QACCiI,GAAiB,EACnB,GA+NQkD,SAAUnD,IAAmBP,IAASrB,EACtCpB,UAAW,uFACTgD,IAAmBP,IAASrB,EACxB,wHACA,oJACHnB,SAEF+C,GACCjD,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAH,SAAA,EACEC,EAAAA,EAAAA,KAACkG,EAAAA,EAAW,CAACpG,UAAU,8BAA8B,2BAIvD,4BAKLyC,IACC1C,EAAAA,EAAAA,MAAA,KAAGC,UAAU,gDAA+CC,SAAA,CAAC,yBACvCwC,EAAK4D,QAI5BjF,IACCrB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,gDAA+CC,SAAC,yBAC7DC,EAAAA,EAAAA,KAAA,OAAKG,IAAKe,EAAWd,IAAI,yBAAyBN,UAAU,oDAI/DkD,IACCnD,EAAAA,EAAAA,MAAA,KAAGC,UAAU,8CAA6CC,SAAA,CAAC,6BAC9BiD,SAKjCnD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,UACEsE,KAAK,SACLrE,QAAS5B,EACTyB,UAAU,qIACV3D,MAAM,YAAW4D,UAEjBC,EAAAA,EAAAA,KAACoG,EAAAA,EAAS,CAACtG,UAAU,eAGvBE,EAAAA,EAAAA,KAAA,UACEsE,KAAK,SACLxE,UAAU,0NACVmG,SAAUrD,EACVzG,MAAOyG,EAAY,sBAAwBpB,EAAW,gBAAkB,YAAYzB,SAEnF6C,GACC5C,EAAAA,EAAAA,KAACkG,EAAAA,EAAW,CAACpG,UAAU,0BAEvBE,EAAAA,EAAAA,KAACqG,EAAAA,EAAS,CAACvG,UAAU,mBAItB,E,cEzZX,MA4PA,EA5P8E7D,IAAkC,IAAjC,OAAEqB,EAAM,QAAEgJ,GAAU,GAAOrK,EACxG,MAAM,EAAEsK,IAAMC,EAAAA,EAAAA,OACPC,EAAWC,IAAgBlI,EAAAA,EAAAA,UAAmC,KAC9DmI,EAASC,IAAcpI,EAAAA,EAAAA,WAAS,IAChC/D,EAAOkE,IAAYH,EAAAA,EAAAA,UAAwB,OAC3CqI,EAAaC,IAAkBtI,EAAAA,EAAAA,WAAS,IACxCuI,EAAiBC,IAAsBxI,EAAAA,EAAAA,UAAwC,OAC/EyI,EAAeC,IAAoB1I,EAAAA,EAAAA,UAAwB,OAC5D,YAAE0E,IAAgBC,EAAAA,EAAAA,MAChBgE,KAAMC,IAAgBC,EAAAA,EAAAA,MAGxBC,EAAgBjK,UACpBuJ,GAAW,GACX,IACE,MAAMW,ONvBoBlK,WAC9B,IAEE,aADuB7D,EAAAA,GAAUyB,IAAIuC,EAAAA,GAAcC,yBAAyBC,QAAQJ,KACpEjD,IAClB,CAAE,MAAOI,GAEP,MADApB,QAAQoB,MAAM,oDAAqDA,GAC7DA,CACR,GMgBuBoJ,CAA0BvG,GAC7CoJ,EAAaa,GACb5I,EAAS,KACX,CAAE,MAAO6I,GACP7I,EAAS6I,EAAI1M,SAAWyL,EAAE,sCAC1BrD,EAAYqD,EAAE,qCAAsC,QACtD,CAAC,QACCK,GAAW,EACb,IAIFhH,EAAAA,EAAAA,YAAU,KACR0H,GAAe,GACd,CAAChK,IAGJ,MAAMmK,EAAuBpK,UAC3B,GAAIa,OAAOwJ,QAAQnB,EAAE,0CACnB,SNoEwBlJ,WAC5B,UACQ7D,EAAAA,GAAUuC,OAAOyB,EAAAA,GAAcC,yBAAyBI,MAAMD,GACtE,CAAE,MAAOnD,GAEP,MADApB,QAAQoB,MAAM,wCAAsCA,GAC9CA,CACR,GMzEYoJ,CAAwBjG,GAC9BsF,EAAYqD,EAAE,yCAA0C,WACxDe,GACF,CAAE,MAAOE,GACPtE,EAAY,GAAGqD,EAAE,2CAA2CiB,EAAI1M,SAAW,uBAAwB,QACrG,CACF,EAII6M,EAAuBtK,UAC3B,GAAK+J,EAKL,SN6D0B/J,OAAOO,EAAegK,KAClD,UACQpO,EAAAA,GAAU6B,KACdmC,EAAAA,GAAcC,yBAAyBoK,OAAOjK,GAC9C,CAAEgK,WAEN,CAAE,MAAOnN,GAEP,MADApB,QAAQoB,MAAM,8CAA+CA,GACvDA,CACR,GMrEUoJ,CAAwBjG,EAAOwJ,EAAYjM,IACjD+H,EAAYqD,EAAE,yCAA0C,WACxDe,GACF,CAAE,MAAOE,GACPtE,EAAY,GAAGqD,EAAE,2CAA2CiB,EAAI1M,SAAW,uBAAwB,QACrG,MAVEoI,EAAYqD,EAAE,4CAA6C,QAU7D,EAIIuB,EAAyBzK,UAC7B6J,EAAiBtJ,GACjB,IACE,MAAM3D,EN6D2B2D,IAE9B,GAAGM,OAAO6J,SAASC,aAAaxK,EAAAA,GAAcC,yBAAyBwK,SAASrK,KM/DvEiG,CAAgCjG,GAE5CM,OAAOgK,KAAKjO,EAAK,SACnB,CAAE,MAAOuN,GACPtE,EAAY,GAAGqD,EAAE,6CAA6CiB,EAAI1M,SAAW,uBAAwB,QACvG,CAAC,QACCoM,EAAiB,KACnB,GAmBIiB,EAAcC,IAClB,IAAKA,EAAY,MAAO,IACxB,IACE,OAAO,IAAIC,KAAKD,GAAYE,mBAAmB,QACjD,CAAE,MACA,OAAOF,CACT,GAGF,OAAIvB,GAEAhH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kDAAiDC,SAAA,EAC9DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2BAA0BC,SAAEwG,EAAE,0CAC5CvG,EAAAA,EAAAA,KAACuI,EAA0B,CACzBjL,OAAQA,EACRmE,gBAAiBA,KACfqF,GAAe,GACfQ,GAAe,EAEjBjJ,SAAUA,IAAMyI,GAAe,QAMnCC,GAEAlH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kDAAiDC,SAAA,EAC9DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2BAA0BC,SAAEwG,EAAE,2CAC5CvG,EAAAA,EAAAA,KAACuI,EAA0B,CACzBjL,OAAQA,EACRkE,SAAUuF,EACVtF,gBAAiBA,KACfuF,EAAmB,MACnBM,GAAe,EAEjBjJ,SAAUA,IAAM2I,EAAmB,YAOzCnH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kDAAiDC,SAAA,EAC9DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sBAAqBC,SAAEwG,EAAE,oCACvCvG,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAAM6G,GAAe,GAC9BhH,UAAU,wEAAuEC,SAEhFwG,EAAE,4CAINI,GACC3G,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uCAAsCC,UACnDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qFAEfrF,GACFuF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mBAAkBC,SAAEtF,IACZ,IAArBgM,EAAU3K,QACZkE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uCAAsCC,SAClDwG,EAAE,0CAGLvG,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,2DAA0DC,SAAA,EACzEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,8BAA6BC,UAC5CF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,2CAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,6CAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,8CAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,gDAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,8CAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,6CAELvG,EAAAA,EAAAA,KAAA,MAAIwI,MAAM,MAAM1I,UAAU,oGAAmGC,SAC1HwG,EAAE,mDAITvG,EAAAA,EAAAA,KAAA,SAAOF,UAAU,0EAAyEC,SACvF0G,EAAUpC,KAAKoE,IACd5I,SAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,UA9GxEuE,EA+GUmE,EAAI/G,aA9GA,CACtCgH,SAAUnC,EAAE,0CACZoC,YAAapC,EAAE,6CACfqC,gBAAiBrC,EAAE,iDACnBsC,iBAAkBtC,EAAE,kDACpBuC,YAAavC,EAAE,6CACfwC,OAAQxC,EAAE,wCACVyC,gBAAiBzC,EAAE,kDAGNjC,IAASA,MAsGVtE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SACjF0I,EAAI7G,kBAEP5B,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SACjF0I,EAAItG,kBAEPnC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SACjFoI,EAAWM,EAAI3G,cAElB9B,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SACjFoI,EAAWM,EAAIxG,eAElBjC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCAAqCC,SAChD0I,EAAIQ,YACHjJ,EAAAA,EAAAA,KAAA,QAAMF,UAAU,kIAAiIC,SAC9IwG,EAAE,8CAGLvG,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sIAAqIC,SAClJwG,EAAE,+CAITvG,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kDAAiDC,UAC7DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAAM6H,EAAuBW,EAAItN,IAC1C2E,UAAU,gFACVmG,SAAUgB,IAAkBwB,EAAItN,GAAG4E,SAElCkH,IAAkBwB,EAAItN,GAAKoL,EAAE,+CAAiDA,EAAE,2CAEnFvG,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAAM+G,EAAmByB,GAClC3I,UAAU,wFAAuFC,SAEhGwG,EAAE,2CAELvG,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAAMwH,EAAqBgB,EAAItN,IACxC2E,UAAU,4EAA2EC,SAEpFwG,EAAE,4CAEJD,IAAYmC,EAAIQ,aACfjJ,EAAAA,EAAAA,KAAA,UACEC,QAASA,IAAM0H,EAAqBc,EAAItN,IACxC2E,UAAU,oFAAmFC,SAE5FwG,EAAE,mDArDJkC,EAAItN,IA7GCmJ,KAwKf,aAKL,C","sources":["api/apiClient.ts","../node_modules/@heroicons/react/24/outline/esm/DocumentTextIcon.js","../node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../node_modules/@heroicons/react/24/outline/esm/UserCircleIcon.js","api/identificationDocumentApi.ts","utils/deviceDetection.ts","components/CameraCapture.tsx","../node_modules/@heroicons/react/24/outline/esm/CameraIcon.js","components/IdentificationDocumentForm.tsx","utils/aiDocumentRecognition.ts","components/IdentificationDocumentList.tsx"],"sourcesContent":["import axios, { AxiosRequestConfig, InternalAxiosRequestConfig } from 'axios';\nimport axiosInstance from '../config/axios.ts';\nimport { API_URL } from '../config/api.ts';\n\n// Debugausgaben für die API-Konfiguration\nconsole.log('DEBUGAUSGABE API-Client: API_URL ist:', API_URL);\n\n// Verwende die konfigurierte Instanz aus config/axios.ts\nconst apiClient = axiosInstance;\n\n// Request Interceptor für Debugging (zusätzlich zu dem in axios.ts)\napiClient.interceptors.request.use(\n  (config) => {\n    // Vollständige URL ausgeben\n    const fullUrl = `${config.baseURL}${config.url}`;\n    console.log('DEBUGAUSGABE API-Client: Vollständige Request URL:', fullUrl);\n    console.log('DEBUGAUSGABE API-Client: Request-Methode:', config.method?.toUpperCase());\n    console.log('DEBUGAUSGABE API-Client: Request-Headers:', config.headers);\n    console.log('DEBUGAUSGABE API-Client: Request-Daten:', config.data);\n    \n    const token = localStorage.getItem('token');\n    console.log('DEBUGAUSGABE API-Client: Token vorhanden:', !!token);\n    \n    return config;\n  },\n  (error) => {\n    console.error('DEBUGAUSGABE API-Client: Fehler im Request Interceptor:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response Interceptor für Debugging (zusätzlich zu dem in axios.ts)\napiClient.interceptors.response.use(\n  (response) => {\n    console.log('DEBUGAUSGABE API-Client: Response erhalten:', response.status, response.config.url);\n    return response;\n  },\n  (error) => {\n    console.error('DEBUGAUSGABE API-Client: Fehler im Response Interceptor:', error.message);\n    \n    if (error.response) {\n      console.error('DEBUGAUSGABE API-Client: Response Status:', error.response.status);\n      console.error('DEBUGAUSGABE API-Client: Response Daten:', error.response.data);\n    } else {\n      console.error('DEBUGAUSGABE API-Client: Keine Response erhalten');\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\n// User API\nexport const userApi = {\n  getAll: () => apiClient.get('/users'),\n  getById: (id: number) => apiClient.get(`/users/${id}`),\n  create: (data: any) => {\n    console.log('DEBUGAUSGABE API-Client: userApi.create wird aufgerufen mit Daten:', data);\n    try {\n      return apiClient.post('/users', data)\n        .then(response => {\n          console.log('DEBUGAUSGABE API-Client: userApi.create Antwort:', response);\n          return response;\n        })\n        .catch(error => {\n          console.error('DEBUGAUSGABE API-Client: userApi.create Fehler:', error.response || error);\n          throw error;\n        });\n    } catch (initError) {\n      console.error('DEBUGAUSGABE API-Client: Fehler vor dem API-Aufruf in userApi.create:', initError);\n      throw initError;\n    }\n  },\n  update: (id: number, data: any) => apiClient.put(`/users/${id}`, data),\n  updateRoles: (id: number, roleIds: number[]) => apiClient.put(`/users/${id}/roles`, { roleIds })\n};\n\n// Role API\nexport const roleApi = {\n  getAll: () => {\n    console.log('DEBUGAUSGABE API-Client: roleApi.getAll wird aufgerufen');\n    return apiClient.get('/roles')\n      .then(response => {\n        console.log('DEBUGAUSGABE API-Client: roleApi.getAll erfolgreich:', response.data.length, 'Rollen geladen');\n        return response;\n      })\n      .catch(error => {\n        console.error('DEBUGAUSGABE API-Client: roleApi.getAll Fehler:', error.message);\n        throw error;\n      });\n  },\n  getById: (id: number) => {\n    console.log(`DEBUGAUSGABE API-Client: roleApi.getById(${id}) wird aufgerufen`);\n    return apiClient.get(`/roles/${id}`);\n  },\n  create: (data: any) => {\n    console.log('DEBUGAUSGABE API-Client: roleApi.create wird aufgerufen mit Daten:', data);\n    try {\n      return apiClient.post('/roles', data)\n        .then(response => {\n          console.log('DEBUGAUSGABE API-Client: roleApi.create Antwort:', response);\n          return response;\n        })\n        .catch(error => {\n          console.error('DEBUGAUSGABE API-Client: roleApi.create Fehler:', error.response || error);\n          throw error;\n        });\n    } catch (initError) {\n      console.error('DEBUGAUSGABE API-Client: Fehler vor dem API-Aufruf in roleApi.create:', initError);\n      throw initError;\n    }\n  },\n  update: (id: number, data: any) => {\n    console.log(`DEBUGAUSGABE API-Client: roleApi.update für ID ${id} wird aufgerufen mit Daten:`, data);\n    try {\n      return apiClient.put(`/roles/${id}`, data)\n        .then(response => {\n          console.log('DEBUGAUSGABE API-Client: roleApi.update Antwort:', response);\n          return response;\n        })\n        .catch(error => {\n          console.error('DEBUGAUSGABE API-Client: roleApi.update Fehler:', error.response || error);\n          throw error;\n        });\n    } catch (initError) {\n      console.error('DEBUGAUSGABE API-Client: Fehler vor dem API-Aufruf in roleApi.update:', initError);\n      throw initError;\n    }\n  },\n  delete: (id: number) => {\n    console.log(`DEBUGAUSGABE API-Client: roleApi.delete(${id}) wird aufgerufen`);\n    return apiClient.delete(`/roles/${id}`);\n  }\n};\n\nexport default apiClient; ","import * as React from \"react\";\nfunction DocumentTextIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentTextIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserCircleIcon);\nexport default ForwardRef;","import apiClient from './apiClient.ts';\nimport { API_URL, API_ENDPOINTS } from '../config/api.ts';\nimport { IdentificationDocument } from '../types/interfaces.ts';\n\n// Alle Dokumente eines Benutzers abrufen\nexport const getUserDocuments = async (userId: number): Promise<IdentificationDocument[]> => {\n  try {\n    const response = await apiClient.get(API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_USER(userId));\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Abrufen der Identifikationsdokumente:', error);\n    throw error;\n  }\n};\n\n// Dokument hinzufügen mit Datei-Upload\nexport const addDocumentWithFile = async (\n  userId: number,\n  formData: FormData\n): Promise<IdentificationDocument> => {\n  try {\n    const response = await apiClient.post(\n      API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_USER(userId),\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n    );\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Hinzufügen des Dokuments:', error);\n    throw error;\n  }\n};\n\n// Dokument hinzufügen mit Kamerabild\nexport const addDocumentWithCameraImage = async (\n  userId: number,\n  imageData: string,\n  documentData: {\n    documentType: string;\n    documentNumber: string;\n    issuingCountry: string;\n    issueDate?: string;\n    expiryDate?: string;\n    issuingAuthority?: string;\n  }\n): Promise<IdentificationDocument> => {\n  try {\n    const response = await apiClient.post(\n      API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_USER(userId),\n      {\n        ...documentData,\n        imageData\n      }\n    );\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Hinzufügen des Dokuments mit Kamera:', error);\n    throw error;\n  }\n};\n\n// Dokument aktualisieren mit Datei-Upload\nexport const updateDocumentWithFile = async (\n  docId: number,\n  formData: FormData\n): Promise<IdentificationDocument> => {\n  try {\n    const response = await apiClient.put(\n      API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_ID(docId),\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n    );\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Aktualisieren des Dokuments:', error);\n    throw error;\n  }\n};\n\n// Dokument aktualisieren mit Kamerabild\nexport const updateDocumentWithCameraImage = async (\n  docId: number,\n  imageData: string,\n  documentData: {\n    documentNumber?: string;\n    issuingCountry?: string;\n    issueDate?: string;\n    expiryDate?: string;\n    issuingAuthority?: string;\n  }\n): Promise<IdentificationDocument> => {\n  try {\n    const response = await apiClient.put(\n      API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_ID(docId),\n      {\n        ...documentData,\n        imageData\n      }\n    );\n    return response.data;\n  } catch (error) {\n    console.error('Fehler beim Aktualisieren des Dokuments mit Kamera:', error);\n    throw error;\n  }\n};\n\n// Dokument löschen\nexport const deleteDocument = async (docId: number): Promise<void> => {\n  try {\n    await apiClient.delete(API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.BY_ID(docId));\n  } catch (error) {\n    console.error('Fehler beim Löschen des Dokuments:', error);\n    throw error;\n  }\n};\n\n// Dokument verifizieren\nexport const verifyDocument = async (docId: number, adminId: number): Promise<void> => {\n  try {\n    await apiClient.post(\n      API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.VERIFY(docId),\n      { adminId }\n    );\n  } catch (error) {\n    console.error('Fehler bei der Verifizierung des Dokuments:', error);\n    throw error;\n  }\n};\n\n// URL für das Herunterladen des Dokuments generieren\nexport const getDocumentDownloadUrl = (docId: number): string => {\n  // Verwende window.location.origin für eine robuste absolute URL\n  return `${window.location.origin}/api${API_ENDPOINTS.IDENTIFICATION_DOCUMENTS.DOWNLOAD(docId)}`;\n}; ","/**\r\n * Überprüft, ob das aktuelle Gerät ein mobiles Gerät ist\r\n * Basierend auf User-Agent und/oder Bildschirmgröße\r\n */\r\nexport const isMobile = (): boolean => {\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;\r\n};\r\n\r\n/**\r\n * Überprüft, ob das Gerät über eine Kamera verfügt\r\n * Versucht, auf die Kameraeinrichtungen zuzugreifen\r\n */\r\nexport const hasCamera = async (): Promise<boolean> => {\r\n  if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\r\n    return false;\r\n  }\r\n\r\n  try {\r\n    const devices = await navigator.mediaDevices.enumerateDevices();\r\n    return devices.some(device => device.kind === 'videoinput');\r\n  } catch (error) {\r\n    console.error('Fehler beim Überprüfen der Kameraverfügbarkeit:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Überprüft, ob der User-Agent auf ein Android-Gerät hinweist\r\n */\r\nexport const isAndroid = (): boolean => {\r\n  return /Android/i.test(navigator.userAgent);\r\n};\r\n\r\n/**\r\n * Überprüft, ob der User-Agent auf ein iOS-Gerät hinweist\r\n */\r\nexport const isIOS = (): boolean => {\r\n  return /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n}; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { isMobile } from '../utils/deviceDetection.ts';\r\n\r\ninterface CameraCaptureProps {\r\n  onCapture: (imageData: string) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst CameraCapture: React.FC<CameraCaptureProps> = ({ onCapture, onCancel }) => {\r\n  const [stream, setStream] = useState<MediaStream | null>(null);\r\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  // Starte die Kamera\r\n  const startCamera = async () => {\r\n    try {\r\n      // Rücksetzen des Fehlers\r\n      setError(null);\r\n      \r\n      // Versuche, die Kamera zu verwenden (Rückkamera bevorzugt)\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ \r\n        video: { facingMode: 'environment' } \r\n      });\r\n      setStream(mediaStream);\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n    } catch (error) {\r\n      console.error('Fehler beim Zugriff auf die Kamera:', error);\r\n      setError('Kamerazugriff nicht möglich. Bitte prüfen Sie die Berechtigungen und stellen Sie sicher, dass Ihr Gerät eine Kamera hat.');\r\n    }\r\n  };\r\n\r\n  // Stoppe die Kamera\r\n  const stopCamera = () => {\r\n    if (stream) {\r\n      stream.getTracks().forEach(track => track.stop());\r\n      setStream(null);\r\n    }\r\n  };\r\n\r\n  // Nehme ein Bild auf\r\n  const captureImage = () => {\r\n    if (videoRef.current && canvasRef.current) {\r\n      const canvas = canvasRef.current;\r\n      const video = videoRef.current;\r\n      \r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      \r\n      const ctx = canvas.getContext('2d');\r\n      if (ctx) {\r\n        ctx.drawImage(video, 0, 0);\r\n        const imageData = canvas.toDataURL('image/jpeg', 0.9); // 90% Qualität für bessere Kompression\r\n        setCapturedImage(imageData);\r\n        stopCamera();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Bild bestätigen\r\n  const confirmImage = () => {\r\n    if (capturedImage) {\r\n      onCapture(capturedImage);\r\n    }\r\n  };\r\n\r\n  // Neues Bild aufnehmen\r\n  const retakeImage = () => {\r\n    setCapturedImage(null);\r\n    startCamera();\r\n  };\r\n\r\n  // Kamera beim Laden der Komponente starten\r\n  useEffect(() => {\r\n    if (isMobile()) {\r\n      startCamera();\r\n    }\r\n    \r\n    // Aufräumen beim Entfernen der Komponente\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, []);\r\n\r\n  // Falls kein mobiles Gerät, zeige eine Meldung\r\n  if (!isMobile()) {\r\n    return (\r\n      <div className=\"p-4 text-center dark:bg-gray-800 dark:text-white\">\r\n        <p className=\"mb-4\">Kamerafunktion ist nur auf mobilen Geräten verfügbar.</p>\r\n        <button \r\n          className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 rounded-md\"\r\n          onClick={onCancel}\r\n        >\r\n          Zurück\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"camera-capture p-2 dark:bg-gray-800\">\r\n      <canvas ref={canvasRef} className=\"hidden\" />\r\n      \r\n      {error && (\r\n        <div className=\"error bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-4\">\r\n          <p>{error}</p>\r\n          <button \r\n            className=\"mt-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 rounded-md\"\r\n            onClick={onCancel}\r\n          >\r\n            Zurück\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      {!error && !capturedImage ? (\r\n        <>\r\n          <div className=\"video-container mb-4 rounded overflow-hidden border border-gray-300 dark:border-gray-700\">\r\n            <video \r\n              ref={videoRef} \r\n              autoPlay \r\n              playsInline \r\n              className=\"w-full h-auto\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between\">\r\n            <button \r\n              className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 rounded-md\"\r\n              onClick={onCancel}\r\n            >\r\n              Abbrechen\r\n            </button>\r\n            <button \r\n              className=\"px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-md hover:bg-blue-600 dark:hover:bg-blue-700\"\r\n              onClick={captureImage}\r\n            >\r\n              Foto aufnehmen\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : !error && capturedImage ? (\r\n        <>\r\n          <div className=\"preview-container mb-4 rounded overflow-hidden border border-gray-300 dark:border-gray-700\">\r\n            <img \r\n              src={capturedImage} \r\n              alt=\"Aufgenommenes Dokument\" \r\n              className=\"w-full h-auto\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between\">\r\n            <button \r\n              className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 rounded-md\"\r\n              onClick={retakeImage}\r\n            >\r\n              Neu aufnehmen\r\n            </button>\r\n            <button \r\n              className=\"px-4 py-2 bg-green-500 dark:bg-green-600 text-white rounded-md hover:bg-green-600 dark:hover:bg-green-700\"\r\n              onClick={confirmImage}\r\n            >\r\n              Verwenden\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraCapture; ","import * as React from \"react\";\nfunction CameraIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CameraIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\r\nimport { IdentificationDocument } from '../types/interfaces.ts';\r\nimport * as idDocApi from '../api/identificationDocumentApi.ts';\r\nimport useMessage from '../hooks/useMessage.ts';\r\nimport { isMobile } from '../utils/deviceDetection.ts';\r\nimport CameraCapture from './CameraCapture.tsx';\r\nimport { recognizeDocument } from '../utils/documentRecognition.ts';\r\nimport { recognizeDocumentWithAI } from '../utils/aiDocumentRecognition.ts';\r\nimport { CameraIcon, DocumentTextIcon, ArrowPathIcon as SpinnerIcon, XMarkIcon, CheckIcon } from '@heroicons/react/24/outline';\r\n\r\n// Liste der Dokumenttypen\r\nconst documentTypes = [\r\n  { value: 'passport', label: 'Reisepass' },\r\n  { value: 'national_id', label: 'Personalausweis' },\r\n  { value: 'driving_license', label: 'Führerschein' },\r\n  { value: 'residence_permit', label: 'Aufenthaltserlaubnis' },\r\n  { value: 'work_permit', label: 'Arbeitserlaubnis' },\r\n  { value: 'tax_id', label: 'Steuer-ID' },\r\n  { value: 'social_security', label: 'Sozialversicherungsausweis' },\r\n];\r\n\r\ninterface IdentificationDocumentFormProps {\r\n  userId: number;\r\n  document?: IdentificationDocument;\r\n  onDocumentSaved: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst IdentificationDocumentForm: React.FC<IdentificationDocumentFormProps> = ({\r\n  userId,\r\n  document,\r\n  onDocumentSaved,\r\n  onCancel,\r\n}) => {\r\n  const [documentType, setDocumentType] = useState(document?.documentType || '');\r\n  const [documentNumber, setDocumentNumber] = useState(document?.documentNumber || '');\r\n  const [issueDate, setIssueDate] = useState(document?.issueDate ? document.issueDate.substring(0, 10) : '');\r\n  const [expiryDate, setExpiryDate] = useState(document?.expiryDate ? document.expiryDate.substring(0, 10) : '');\r\n  const [issuingCountry, setIssuingCountry] = useState(document?.issuingCountry || '');\r\n  const [issuingAuthority, setIssuingAuthority] = useState(document?.issuingAuthority || '');\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [imageData, setImageData] = useState<string | null>(null);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isRecognizing, setIsRecognizing] = useState<boolean>(false);\r\n  const [recognitionError, setRecognitionError] = useState<string | null>(null);\r\n  \r\n  const { showMessage } = useMessage();\r\n  \r\n  // Behandle Änderungen der Datei\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      setFile(e.target.files[0]);\r\n      setImageData(null); // Zurücksetzen des Kamerabilds, wenn eine Datei ausgewählt wird\r\n    }\r\n  };\r\n  \r\n  // Behandle Kameraaufnahme\r\n  const handleCameraCapture = (capturedImageData: string) => {\r\n    setImageData(capturedImageData);\r\n    setShowCamera(false);\r\n    setFile(null); // Zurücksetzen der Datei, wenn ein Bild aufgenommen wird\r\n  };\r\n  \r\n  // Abbrechen der Kameraaufnahme\r\n  const handleCameraCancel = () => {\r\n    setShowCamera(false);\r\n  };\r\n  \r\n  // Funktion zur automatischen Dokumentenerkennung\r\n  const handleAutoRecognize = async () => {\r\n    try {\r\n      setIsRecognizing(true);\r\n      setRecognitionError(null);\r\n      \r\n      // Stelle sicher, dass ein Bild vorhanden ist\r\n      if (!file && !imageData) {\r\n        throw new Error(\"Bitte lade zuerst ein Dokument hoch oder nimm ein Foto auf\");\r\n      }\r\n      \r\n      // Verwende das hochgeladene Bild oder das aufgenommene Foto\r\n      let documentImage: string | null = null;\r\n      \r\n      if (file) {\r\n        // Konvertiere Datei zu base64\r\n        documentImage = await new Promise<string>((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onload = () => resolve(reader.result as string);\r\n          reader.onerror = reject;\r\n          reader.readAsDataURL(file);\r\n        });\r\n      } else if (imageData) {\r\n        documentImage = imageData;\r\n      }\r\n      \r\n      if (!documentImage) {\r\n        throw new Error(\"Kann keine Bilddaten finden\");\r\n      }\r\n      \r\n      // KI-basierte Dokumentenerkennung starten\r\n      const recognizedData = await recognizeDocumentWithAI(documentImage);\r\n      \r\n      console.log(\"Erkannte Daten:\", recognizedData);\r\n      \r\n      // Formularfelder mit erkannten Daten befüllen\r\n      if (recognizedData.documentType) {\r\n        setDocumentType(recognizedData.documentType);\r\n      }\r\n      \r\n      if (recognizedData.documentNumber) {\r\n        setDocumentNumber(recognizedData.documentNumber);\r\n      }\r\n      \r\n      if (recognizedData.issueDate) {\r\n        setIssueDate(recognizedData.issueDate);\r\n      }\r\n      \r\n      if (recognizedData.expiryDate) {\r\n        setExpiryDate(recognizedData.expiryDate);\r\n      }\r\n      \r\n      if (recognizedData.issuingCountry) {\r\n        setIssuingCountry(recognizedData.issuingCountry);\r\n      }\r\n      \r\n      if (recognizedData.issuingAuthority) {\r\n        setIssuingAuthority(recognizedData.issuingAuthority);\r\n      }\r\n      \r\n      // Erfolgsmeldung anzeigen\r\n      showMessage('Dokument wurde erfolgreich erkannt', 'success');\r\n      \r\n    } catch (error) {\r\n      console.error(\"Fehler bei der automatischen Erkennung:\", error);\r\n      setRecognitionError((error as Error).message);\r\n      showMessage('Fehler bei der Dokumentenerkennung: ' + (error as Error).message, 'error');\r\n    } finally {\r\n      setIsRecognizing(false);\r\n    }\r\n  };\r\n  \r\n  // Formular absenden\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!documentType || !documentNumber || !issuingCountry) {\r\n      showMessage('Bitte füllen Sie alle Pflichtfelder aus', 'error');\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      if (document) {\r\n        // Aktualisieren eines bestehenden Dokuments\r\n        if (file) {\r\n          // Mit Datei aktualisieren\r\n          const formData = new FormData();\r\n          if (documentNumber) formData.append('documentNumber', documentNumber);\r\n          if (issueDate) formData.append('issueDate', issueDate);\r\n          if (expiryDate) formData.append('expiryDate', expiryDate);\r\n          if (issuingCountry) formData.append('issuingCountry', issuingCountry);\r\n          if (issuingAuthority) formData.append('issuingAuthority', issuingAuthority);\r\n          formData.append('documentFile', file);\r\n          \r\n          await idDocApi.updateDocumentWithFile(document.id, formData);\r\n        } else if (imageData) {\r\n          // Mit Kamerabild aktualisieren\r\n          await idDocApi.updateDocumentWithCameraImage(\r\n            document.id,\r\n            imageData,\r\n            {\r\n              documentNumber,\r\n              issuingCountry,\r\n              issueDate,\r\n              expiryDate,\r\n              issuingAuthority\r\n            }\r\n          );\r\n        } else {\r\n          // Nur Textdaten aktualisieren\r\n          const formData = new FormData();\r\n          if (documentNumber) formData.append('documentNumber', documentNumber);\r\n          if (issueDate) formData.append('issueDate', issueDate);\r\n          if (expiryDate) formData.append('expiryDate', expiryDate);\r\n          if (issuingCountry) formData.append('issuingCountry', issuingCountry);\r\n          if (issuingAuthority) formData.append('issuingAuthority', issuingAuthority);\r\n          \r\n          await idDocApi.updateDocumentWithFile(document.id, formData);\r\n        }\r\n        \r\n        showMessage('Dokument erfolgreich aktualisiert', 'success');\r\n      } else {\r\n        // Erstellen eines neuen Dokuments\r\n        if (file) {\r\n          // Mit Datei erstellen\r\n          const formData = new FormData();\r\n          formData.append('documentType', documentType);\r\n          formData.append('documentNumber', documentNumber);\r\n          formData.append('issuingCountry', issuingCountry);\r\n          if (issueDate) formData.append('issueDate', issueDate);\r\n          if (expiryDate) formData.append('expiryDate', expiryDate);\r\n          if (issuingAuthority) formData.append('issuingAuthority', issuingAuthority);\r\n          formData.append('documentFile', file);\r\n          \r\n          await idDocApi.addDocumentWithFile(userId, formData);\r\n        } else if (imageData) {\r\n          // Mit Kamerabild erstellen\r\n          await idDocApi.addDocumentWithCameraImage(\r\n            userId,\r\n            imageData,\r\n            {\r\n              documentType,\r\n              documentNumber,\r\n              issuingCountry,\r\n              issueDate,\r\n              expiryDate,\r\n              issuingAuthority\r\n            }\r\n          );\r\n        } else {\r\n          // Ohne Bild erstellen\r\n          const formData = new FormData();\r\n          formData.append('documentType', documentType);\r\n          formData.append('documentNumber', documentNumber);\r\n          formData.append('issuingCountry', issuingCountry);\r\n          if (issueDate) formData.append('issueDate', issueDate);\r\n          if (expiryDate) formData.append('expiryDate', expiryDate);\r\n          if (issuingAuthority) formData.append('issuingAuthority', issuingAuthority);\r\n          \r\n          await idDocApi.addDocumentWithFile(userId, formData);\r\n        }\r\n        \r\n        showMessage('Dokument erfolgreich hinzugefügt', 'success');\r\n      }\r\n      \r\n      onDocumentSaved();\r\n    } catch (error: any) {\r\n      showMessage(`Fehler: ${error.response?.data?.error || 'Unbekannter Fehler'}`, 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Wenn die Kamera angezeigt wird\r\n  if (showCamera) {\r\n    return <CameraCapture onCapture={handleCameraCapture} onCancel={handleCameraCancel} />;\r\n  }\r\n  \r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div>\r\n        <label htmlFor=\"documentType\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Dokumenttyp <span className=\"text-red-600 dark:text-red-400\">*</span>\r\n        </label>\r\n        <select\r\n          id=\"documentType\"\r\n          value={documentType}\r\n          onChange={(e) => setDocumentType(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n          required\r\n        >\r\n          <option value=\"\">Bitte auswählen</option>\r\n          {documentTypes.map((type) => (\r\n            <option key={type.value} value={type.value}>{type.label}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      \r\n      <div>\r\n        <label htmlFor=\"documentNumber\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Dokumentnummer <span className=\"text-red-600 dark:text-red-400\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"documentNumber\"\r\n          value={documentNumber}\r\n          onChange={(e) => setDocumentNumber(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n          required\r\n        />\r\n      </div>\r\n      \r\n      <div>\r\n        <label htmlFor=\"issuingCountry\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Ausstellungsland <span className=\"text-red-600 dark:text-red-400\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"issuingCountry\"\r\n          value={issuingCountry}\r\n          onChange={(e) => setIssuingCountry(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n          required\r\n        />\r\n      </div>\r\n      \r\n      <div>\r\n        <label htmlFor=\"issuingAuthority\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Ausstellende Behörde\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"issuingAuthority\"\r\n          value={issuingAuthority}\r\n          onChange={(e) => setIssuingAuthority(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n        />\r\n      </div>\r\n      \r\n      <div>\r\n        <label htmlFor=\"issueDate\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Ausstellungsdatum\r\n        </label>\r\n        <input\r\n          type=\"date\"\r\n          id=\"issueDate\"\r\n          value={issueDate}\r\n          onChange={(e) => setIssueDate(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n        />\r\n      </div>\r\n      \r\n      <div>\r\n        <label htmlFor=\"expiryDate\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Ablaufdatum\r\n        </label>\r\n        <input\r\n          type=\"date\"\r\n          id=\"expiryDate\"\r\n          value={expiryDate}\r\n          onChange={(e) => setExpiryDate(e.target.value)}\r\n          className=\"mt-1 block w-full py-2 px-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:text-white\"\r\n        />\r\n      </div>\r\n      \r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Dokumentbild\r\n        </label>\r\n        <div className=\"mt-1 flex items-center space-x-2\">\r\n          <label className=\"flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer\">\r\n            <DocumentTextIcon className=\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\" />\r\n            Datei hochladen\r\n            <input type=\"file\" className=\"sr-only\" onChange={handleFileChange} accept=\"image/*\" />\r\n          </label>\r\n          \r\n          {isMobile() && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowCamera(true)}\r\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\r\n            >\r\n              <CameraIcon className=\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\" />\r\n              Foto aufnehmen\r\n            </button>\r\n          )}\r\n          \r\n          <button\r\n            type=\"button\"\r\n            onClick={handleAutoRecognize}\r\n            disabled={isRecognizing || (!file && !imageData)}\r\n            className={`inline-flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${\r\n              isRecognizing || (!file && !imageData)\r\n                ? 'bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 border-gray-300 dark:border-gray-700 cursor-not-allowed'\r\n                : 'border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50'\r\n            }`}\r\n          >\r\n            {isRecognizing ? (\r\n              <>\r\n                <SpinnerIcon className=\"h-5 w-5 mr-2 animate-spin\" />\r\n                Erkennung läuft...\r\n              </>\r\n            ) : (\r\n              'Automatisch erkennen'\r\n            )}\r\n          </button>\r\n        </div>\r\n        \r\n        {file && (\r\n          <p className=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">\r\n            Ausgewählte Datei: {file.name}\r\n          </p>\r\n        )}\r\n        \r\n        {imageData && (\r\n          <div className=\"mt-2\">\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Aufgenommenes Bild:</p>\r\n            <img src={imageData} alt=\"Aufgenommenes Dokument\" className=\"max-h-40 border dark:border-gray-700 rounded\" />\r\n          </div>\r\n        )}\r\n        \r\n        {recognitionError && (\r\n          <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">\r\n            Fehler bei der Erkennung: {recognitionError}\r\n          </p>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"p-2 text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md\"\r\n          title=\"Abbrechen\"\r\n        >\r\n          <XMarkIcon className=\"h-5 w-5\" />\r\n        </button>\r\n        \r\n        <button\r\n          type=\"submit\"\r\n          className=\"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-700 dark:hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          disabled={isLoading}\r\n          title={isLoading ? 'Wird gespeichert...' : document ? 'Aktualisieren' : 'Speichern'}\r\n        >\r\n          {isLoading ? (\r\n            <SpinnerIcon className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <CheckIcon className=\"h-5 w-5\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default IdentificationDocumentForm; ","import { IdentificationDocument } from '../types/interfaces.ts';\nimport { API_URL } from '../config/api.ts';\n\n/**\n * KI-basierte Dokumenterkennung\n * Diese Funktion sendet ein Bild an die OpenAI API (über einen einfachen Proxy)\n * und erhält strukturierte Dokumentdaten zurück\n * \n * Kostenhinweis: Die OpenAI API ist kostenpflichtig, aber sehr günstig für diesen Anwendungsfall\n * (ca. 0,01-0,02€ pro Erkennung mit GPT-4 Vision)\n */\nexport const recognizeDocumentWithAI = async (imageData: string): Promise<Partial<IdentificationDocument>> => {\n  try {\n    console.log('Starte KI-basierte Dokumentenerkennung...');\n    \n    // Überprüfe das Bild-Format\n    if (!imageData.startsWith('data:image')) {\n      // Wenn es kein Data-URL ist, konvertiere es\n      if (imageData.startsWith('/9j/')) {\n        imageData = 'data:image/jpeg;base64,' + imageData;\n      } else if (imageData.startsWith('iVBOR')) {\n        imageData = 'data:image/png;base64,' + imageData;\n      } else {\n        // Generisches Format\n        imageData = 'data:image/jpeg;base64,' + imageData;\n      }\n    }\n    \n    // Hole den Auth-Token aus dem lokalen Speicher\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('Nicht authentifiziert. Bitte melden Sie sich an.');\n    }\n    \n    // Die vollständige API-URL verwenden\n    const apiEndpoint = `${API_URL}/document-recognition`;\n    console.log('Verwende API-Endpunkt:', apiEndpoint);\n    \n    // POST-Anfrage an den API-Endpunkt (ohne nachgestellten Schrägstrich)\n    const response = await fetch(apiEndpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      credentials: 'include', // Cookies und Auth-Daten senden\n      mode: 'cors', // Explizit CORS-Modus aktivieren\n      body: JSON.stringify({ \n        image: imageData,\n        // Optional weitere Parameter wie Dokumenttyp\n        documentType: 'id_card' \n      })\n    });\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`API-Anfrage fehlgeschlagen: ${response.status} ${errorText}`);\n    }\n    \n    const result = await response.json();\n    console.log('KI-Ergebnis:', result);\n    \n    return result;\n  } catch (error) {\n    console.error('Fehler bei der KI-basierten Dokumentenerkennung:', error);\n    \n    // Bei Fehlern ein leeres Objekt zurückgeben\n    return {}; \n  }\n}; ","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { IdentificationDocument } from '../types/interfaces.ts';\nimport * as idDocApi from '../api/identificationDocumentApi.ts';\nimport useMessage from '../hooks/useMessage.ts';\nimport IdentificationDocumentForm from './IdentificationDocumentForm.tsx';\nimport { useAuth } from '../hooks/useAuth.tsx';\n\ninterface IdentificationDocumentListProps {\n  userId: number;\n  isAdmin?: boolean;\n}\n\nconst IdentificationDocumentList: React.FC<IdentificationDocumentListProps> = ({ userId, isAdmin = false }) => {\n  const { t } = useTranslation();\n  const [documents, setDocuments] = useState<IdentificationDocument[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingDocument, setEditingDocument] = useState<IdentificationDocument | null>(null);\n  const [isDownloading, setIsDownloading] = useState<number | null>(null);\n  const { showMessage } = useMessage();\n  const { user: currentUser } = useAuth();\n\n  // Dokumente laden\n  const loadDocuments = async () => {\n    setLoading(true);\n    try {\n      const docs = await idDocApi.getUserDocuments(userId);\n      setDocuments(docs);\n      setError(null);\n    } catch (err: any) {\n      setError(err.message || t('identificationDocuments.loadError'));\n      showMessage(t('identificationDocuments.loadError'), 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Beim Laden der Komponente und wenn sich die userId ändert\n  useEffect(() => {\n    loadDocuments();\n  }, [userId]);\n\n  // Dokument löschen\n  const handleDeleteDocument = async (docId: number) => {\n    if (window.confirm(t('identificationDocuments.deleteConfirm'))) {\n      try {\n        await idDocApi.deleteDocument(docId);\n        showMessage(t('identificationDocuments.deleteSuccess'), 'success');\n        loadDocuments();\n      } catch (err: any) {\n        showMessage(`${t('identificationDocuments.deleteError')}: ${err.message || 'Unbekannter Fehler'}`, 'error');\n      }\n    }\n  };\n\n  // Dokument verifizieren (nur für Admins)\n  const handleVerifyDocument = async (docId: number) => {\n    if (!currentUser) {\n      showMessage(t('identificationDocuments.notAuthenticated'), 'error');\n      return;\n    }\n    \n    try {\n      await idDocApi.verifyDocument(docId, currentUser.id);\n      showMessage(t('identificationDocuments.verifySuccess'), 'success');\n      loadDocuments();\n    } catch (err: any) {\n      showMessage(`${t('identificationDocuments.verifyError')}: ${err.message || 'Unbekannter Fehler'}`, 'error');\n    }\n  };\n\n  // Dokument herunterladen\n  const handleDownloadDocument = async (docId: number) => {\n    setIsDownloading(docId);\n    try {\n      const url = idDocApi.getDocumentDownloadUrl(docId);\n      // Öffnen des Links in einem neuen Tab\n      window.open(url, '_blank');\n    } catch (err: any) {\n      showMessage(`${t('identificationDocuments.downloadError')}: ${err.message || 'Unbekannter Fehler'}`, 'error');\n    } finally {\n      setIsDownloading(null);\n    }\n  };\n\n  // Dokumenttyp formatieren\n  const formatDocumentType = (type: string): string => {\n    const typeMap: Record<string, string> = {\n      passport: t('identificationDocuments.types.passport'),\n      national_id: t('identificationDocuments.types.national_id'),\n      driving_license: t('identificationDocuments.types.driving_license'),\n      residence_permit: t('identificationDocuments.types.residence_permit'),\n      work_permit: t('identificationDocuments.types.work_permit'),\n      tax_id: t('identificationDocuments.types.tax_id'),\n      social_security: t('identificationDocuments.types.social_security'),\n    };\n    \n    return typeMap[type] || type;\n  };\n\n  // Datum formatieren\n  const formatDate = (dateString: string | null): string => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleDateString('de-DE');\n    } catch {\n      return dateString;\n    }\n  };\n\n  if (showAddForm) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg p-4\">\n        <h3 className=\"text-lg font-medium mb-4\">{t('identificationDocuments.addDocument')}</h3>\n        <IdentificationDocumentForm\n          userId={userId}\n          onDocumentSaved={() => {\n            setShowAddForm(false);\n            loadDocuments();\n          }}\n          onCancel={() => setShowAddForm(false)}\n        />\n      </div>\n    );\n  }\n\n  if (editingDocument) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg p-4\">\n        <h3 className=\"text-lg font-medium mb-4\">{t('identificationDocuments.editDocument')}</h3>\n        <IdentificationDocumentForm\n          userId={userId}\n          document={editingDocument}\n          onDocumentSaved={() => {\n            setEditingDocument(null);\n            loadDocuments();\n          }}\n          onCancel={() => setEditingDocument(null)}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h3 className=\"text-lg font-medium\">{t('identificationDocuments.title')}</h3>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700\"\n        >\n          {t('identificationDocuments.newDocument')}\n        </button>\n      </div>\n\n      {loading ? (\n        <div className=\"flex justify-center items-center p-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"text-red-600 p-4\">{error}</div>\n      ) : documents.length === 0 ? (\n        <div className=\"text-gray-500 dark:text-gray-400 p-4\">\n          {t('identificationDocuments.noDocuments')}\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n              <tr>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.type')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.number')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.country')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.validFrom')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.validTo')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.status')}\n                </th>\n                <th scope=\"col\" className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  {t('identificationDocuments.columns.actions')}\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\n              {documents.map((doc) => (\n                <tr key={doc.id}>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {formatDocumentType(doc.documentType)}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {doc.documentNumber}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {doc.issuingCountry}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {formatDate(doc.issueDate)}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {formatDate(doc.expiryDate)}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm\">\n                    {doc.isVerified ? (\n                      <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100\">\n                        {t('identificationDocuments.status.verified')}\n                      </span>\n                    ) : (\n                      <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-yellow-100\">\n                        {t('identificationDocuments.status.pending')}\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-3 py-2 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => handleDownloadDocument(doc.id)}\n                        className=\"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300\"\n                        disabled={isDownloading === doc.id}\n                      >\n                        {isDownloading === doc.id ? t('identificationDocuments.actions.downloading') : t('identificationDocuments.actions.view')}\n                      </button>\n                      <button\n                        onClick={() => setEditingDocument(doc)}\n                        className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300\"\n                      >\n                        {t('identificationDocuments.actions.edit')}\n                      </button>\n                      <button\n                        onClick={() => handleDeleteDocument(doc.id)}\n                        className=\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\"\n                      >\n                        {t('identificationDocuments.actions.delete')}\n                      </button>\n                      {isAdmin && !doc.isVerified && (\n                        <button\n                          onClick={() => handleVerifyDocument(doc.id)}\n                          className=\"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300\"\n                        >\n                          {t('identificationDocuments.actions.verify')}\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IdentificationDocumentList; "],"names":["console","log","API_URL","apiClient","axiosInstance","interceptors","request","use","config","_config$method","fullUrl","baseURL","url","method","toUpperCase","headers","data","token","localStorage","getItem","error","Promise","reject","response","status","message","userApi","getAll","get","getById","id","create","post","then","catch","initError","update","put","updateRoles","roleIds","roleApi","length","delete","DocumentTextIcon","_ref","svgRef","title","titleId","props","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","PencilIcon","UserCircleIcon","addDocumentWithFile","async","userId","formData","API_ENDPOINTS","IDENTIFICATION_DOCUMENTS","BY_USER","updateDocumentWithFile","docId","BY_ID","isMobile","test","navigator","userAgent","window","innerWidth","onCapture","onCancel","stream","setStream","useState","capturedImage","setCapturedImage","setError","videoRef","useRef","canvasRef","startCamera","mediaStream","mediaDevices","getUserMedia","video","facingMode","current","srcObject","stopCamera","getTracks","forEach","track","stop","useEffect","_jsxs","className","children","_jsx","onClick","_Fragment","src","alt","retakeImage","confirmImage","autoPlay","playsInline","captureImage","canvas","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","imageData","toDataURL","CameraIcon","documentTypes","value","label","document","onDocumentSaved","documentType","setDocumentType","documentNumber","setDocumentNumber","issueDate","setIssueDate","substring","expiryDate","setExpiryDate","issuingCountry","setIssuingCountry","issuingAuthority","setIssuingAuthority","file","setFile","setImageData","showCamera","setShowCamera","isLoading","setIsLoading","isRecognizing","setIsRecognizing","recognitionError","setRecognitionError","showMessage","useMessage","handleCameraCapture","capturedImageData","handleCameraCancel","CameraCapture","onSubmit","e","preventDefault","FormData","append","idDocApi","documentData","_error$response","_error$response$data","htmlFor","onChange","target","required","map","type","files","accept","Error","documentImage","resolve","reader","FileReader","onload","result","onerror","readAsDataURL","recognizedData","startsWith","apiEndpoint","fetch","credentials","mode","body","JSON","stringify","image","ok","errorText","text","json","recognizeDocumentWithAI","disabled","SpinnerIcon","name","XMarkIcon","CheckIcon","isAdmin","t","useTranslation","documents","setDocuments","loading","setLoading","showAddForm","setShowAddForm","editingDocument","setEditingDocument","isDownloading","setIsDownloading","user","currentUser","useAuth","loadDocuments","docs","err","handleDeleteDocument","confirm","handleVerifyDocument","adminId","VERIFY","handleDownloadDocument","location","origin","DOWNLOAD","open","formatDate","dateString","Date","toLocaleDateString","IdentificationDocumentForm","scope","doc","passport","national_id","driving_license","residence_permit","work_permit","tax_id","social_security","isVerified"],"sourceRoot":""}